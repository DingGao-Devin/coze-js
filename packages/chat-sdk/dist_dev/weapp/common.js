(wx["webpackJsonp"] = wx["webpackJsonp"] || []).push([["common"],{

/***/ "./src/chatflow/helper/chat-service.ts":
/*!*********************************************!*\
  !*** ./src/chatflow/helper/chat-service.ts ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ChatFlowService: function() { return /* binding */ ChatFlowService; },
/* harmony export */   getCustomAppInfo: function() { return /* binding */ getCustomAppInfo; }
/* harmony export */ });
/* unused harmony exports getBgInfo, combineRequestOptions */
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectSpread2.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectSpread2.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/slicedToArray.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/classCallCheck.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/createClass.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_callSuper_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/callSuper.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/callSuper.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/inherits.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var _libs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/libs */ "./src/libs/index.ts");
/* harmony import */ var _get_connector_id__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./get-connector-id */ "./src/chatflow/helper/get-connector-id.ts");
/* harmony import */ var _libs_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/libs/utils */ "./src/libs/utils/index.ts");












var getCustomAppInfo = function getCustomAppInfo(chatFlowProps) {
  var _chatFlowProps$areaUi, _chatFlowProps$areaUi2, _chatFlowProps$projec, _chatFlowProps$projec2, _chatFlowProps$projec3, _chatFlowProps$projec4, _chatFlowProps$projec5, _chatFlowProps$projec6;
  var bgInfo;
  if ((_chatFlowProps$areaUi = chatFlowProps.areaUi) !== null && _chatFlowProps$areaUi !== void 0 && _chatFlowProps$areaUi.bgInfo && (_chatFlowProps$areaUi2 = chatFlowProps.areaUi) !== null && _chatFlowProps$areaUi2 !== void 0 && (_chatFlowProps$areaUi2 = _chatFlowProps$areaUi2.bgInfo) !== null && _chatFlowProps$areaUi2 !== void 0 && _chatFlowProps$areaUi2.imgUrl) {
    bgInfo = {
      imgUrl: chatFlowProps.areaUi.bgInfo.imgUrl,
      themeColor: chatFlowProps.areaUi.bgInfo.themeColor,
      gradientPosition: {
        left: 0,
        right: 0
      },
      canvasPosition: {
        width: 0,
        height: 0,
        left: 0,
        top: 0
      }
    };
  }
  return {
    name: chatFlowProps === null || chatFlowProps === void 0 || (_chatFlowProps$projec = chatFlowProps.project) === null || _chatFlowProps$projec === void 0 ? void 0 : _chatFlowProps$projec.name,
    icon_url: chatFlowProps === null || chatFlowProps === void 0 || (_chatFlowProps$projec2 = chatFlowProps.project) === null || _chatFlowProps$projec2 === void 0 ? void 0 : _chatFlowProps$projec2.iconUrl,
    onboarding_info: {
      prologue: (chatFlowProps === null || chatFlowProps === void 0 || (_chatFlowProps$projec3 = chatFlowProps.project) === null || _chatFlowProps$projec3 === void 0 || (_chatFlowProps$projec3 = _chatFlowProps$projec3.onBoarding) === null || _chatFlowProps$projec3 === void 0 ? void 0 : _chatFlowProps$projec3.prologue) || "",
      suggested_questions: (chatFlowProps === null || chatFlowProps === void 0 || (_chatFlowProps$projec4 = chatFlowProps.project) === null || _chatFlowProps$projec4 === void 0 || (_chatFlowProps$projec4 = _chatFlowProps$projec4.onBoarding) === null || _chatFlowProps$projec4 === void 0 ? void 0 : _chatFlowProps$projec4.suggestions) || []
    },
    description: (_chatFlowProps$projec5 = chatFlowProps.project) === null || _chatFlowProps$projec5 === void 0 ? void 0 : _chatFlowProps$projec5.desc,
    suggestPromoteInfo: (_chatFlowProps$projec6 = chatFlowProps.project) === null || _chatFlowProps$projec6 === void 0 ? void 0 : _chatFlowProps$projec6.suggestPromoteInfo,
    bgInfo: bgInfo ? {
      pc: bgInfo,
      mobile: bgInfo
    } : undefined
  };
};
var getBgInfo = function getBgInfo(resp) {
  if (resp !== null && resp !== void 0 && resp.origin_image_url) {
    var _resp$canvas_position, _resp$canvas_position2, _resp$canvas_position3, _resp$canvas_position4, _resp$gradient_positi, _resp$gradient_positi2;
    return {
      canvasPosition: {
        height: ((_resp$canvas_position = resp.canvas_position) === null || _resp$canvas_position === void 0 ? void 0 : _resp$canvas_position.height) || 0,
        left: ((_resp$canvas_position2 = resp.canvas_position) === null || _resp$canvas_position2 === void 0 ? void 0 : _resp$canvas_position2.left) || 0,
        top: ((_resp$canvas_position3 = resp.canvas_position) === null || _resp$canvas_position3 === void 0 ? void 0 : _resp$canvas_position3.top) || 0,
        width: ((_resp$canvas_position4 = resp.canvas_position) === null || _resp$canvas_position4 === void 0 ? void 0 : _resp$canvas_position4.width) || 0
      },
      gradientPosition: {
        left: ((_resp$gradient_positi = resp.gradient_position) === null || _resp$gradient_positi === void 0 ? void 0 : _resp$gradient_positi.left) || 0,
        right: ((_resp$gradient_positi2 = resp.gradient_position) === null || _resp$gradient_positi2 === void 0 ? void 0 : _resp$gradient_positi2.right) || 0
      },
      imgUrl: resp.origin_image_url || "",
      themeColor: resp.theme_color || ""
    };
  }
};
var combineRequestOptions = function combineRequestOptions(appData, workflowData, chatFlowProps) {
  var _chatFlowProps$projec7, _workflowData$avatar, _workflowData$onboard, _workflowData$onboard2, _workflowData$onboard3, _workflowData$suggest, _workflowData$suggest2, _workflowData$backgro, _workflowData$backgro2, _workflowData$audio_c, _workflowData$audio_c2, _workflowData$user_in;
  var _ref = appData || {},
    iconUrl = _ref.icon_url,
    _ref$name = _ref.name,
    name = _ref$name === void 0 ? "" : _ref$name;
  var appInfoResult = {
    name: name,
    icon_url: iconUrl,
    description: "",
    create_time: 0,
    update_time: 0,
    version: ""
  };
  appInfoResult.onboarding_info = {
    prologue: "",
    suggested_questions: []
  };
  appInfoResult.name = (workflowData === null || workflowData === void 0 ? void 0 : workflowData.name) || appInfoResult.name || (chatFlowProps === null || chatFlowProps === void 0 || (_chatFlowProps$projec7 = chatFlowProps.project) === null || _chatFlowProps$projec7 === void 0 ? void 0 : _chatFlowProps$projec7.defaultName);
  appInfoResult.icon_url = (workflowData === null || workflowData === void 0 || (_workflowData$avatar = workflowData.avatar) === null || _workflowData$avatar === void 0 ? void 0 : _workflowData$avatar.image_url) || appInfoResult.icon_url || (chatFlowProps === null || chatFlowProps === void 0 ? void 0 : chatFlowProps.project.defaultIconUrl);
  appInfoResult.onboarding_info = {
    prologue: (workflowData === null || workflowData === void 0 || (_workflowData$onboard = workflowData.onboarding_info) === null || _workflowData$onboard === void 0 ? void 0 : _workflowData$onboard.prologue) || "",
    display_all_suggestions: workflowData === null || workflowData === void 0 || (_workflowData$onboard2 = workflowData.onboarding_info) === null || _workflowData$onboard2 === void 0 ? void 0 : _workflowData$onboard2.display_all_suggestions,
    suggested_questions: (workflowData === null || workflowData === void 0 || (_workflowData$onboard3 = workflowData.onboarding_info) === null || _workflowData$onboard3 === void 0 || (_workflowData$onboard3 = _workflowData$onboard3.suggested_questions) === null || _workflowData$onboard3 === void 0 ? void 0 : _workflowData$onboard3.filter(function (item) {
      return !!item;
    })) || []
  };
  appInfoResult.suggestPromoteInfo = workflowData !== null && workflowData !== void 0 && workflowData.suggest_reply_info ? {
    suggestReplyMode: workflowData === null || workflowData === void 0 || (_workflowData$suggest = workflowData.suggest_reply_info) === null || _workflowData$suggest === void 0 ? void 0 : _workflowData$suggest.suggest_reply_mode,
    customizedSuggestPrompt: workflowData === null || workflowData === void 0 || (_workflowData$suggest2 = workflowData.suggest_reply_info) === null || _workflowData$suggest2 === void 0 ? void 0 : _workflowData$suggest2.customized_suggest_prompt
  } : undefined;
  appInfoResult.bgInfo = {
    pc: getBgInfo(workflowData === null || workflowData === void 0 || (_workflowData$backgro = workflowData.background_image_info) === null || _workflowData$backgro === void 0 ? void 0 : _workflowData$backgro.web_background_image),
    mobile: getBgInfo(workflowData === null || workflowData === void 0 || (_workflowData$backgro2 = workflowData.background_image_info) === null || _workflowData$backgro2 === void 0 ? void 0 : _workflowData$backgro2.mobile_background_image)
  };
  appInfoResult.voiceInfo = {
    isTextToVoiceEnable: workflowData === null || workflowData === void 0 || (_workflowData$audio_c = workflowData.audio_config) === null || _workflowData$audio_c === void 0 ? void 0 : _workflowData$audio_c.is_text_to_voice_enable,
    voiceConfigMap: workflowData === null || workflowData === void 0 || (_workflowData$audio_c2 = workflowData.audio_config) === null || _workflowData$audio_c2 === void 0 ? void 0 : _workflowData$audio_c2.voice_config_map
  };
  appInfoResult.inputMode = {
    default: workflowData === null || workflowData === void 0 || (_workflowData$user_in = workflowData.user_input_config) === null || _workflowData$user_in === void 0 ? void 0 : _workflowData$user_in.default_input_mode
  };
  return appInfoResult;
};
var ChatFlowService = /*#__PURE__*/function (_ChatService) {
  function ChatFlowService(props, chatFlowProps) {
    var _this;
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_2__["default"])(this, ChatFlowService);
    _this = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_callSuper_js__WEBPACK_IMPORTED_MODULE_3__["default"])(this, ChatFlowService, [props]);
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_4__["default"])(_this, "chatFlowProps", void 0);
    _this.chatFlowProps = chatFlowProps;
    return _this;
  }
  (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_5__["default"])(ChatFlowService, _ChatService);
  return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_6__["default"])(ChatFlowService, [{
    key: "updateChatFlowProps",
    value: function updateChatFlowProps(chatFlowProps) {
      this.chatFlowProps = chatFlowProps;
    }
  }, {
    key: "createNewConversation",
    value: function () {
      var _createNewConversation2 = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_7__["default"])(/*#__PURE__*/(0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_8__["default"])().mark(function _callee() {
        return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_8__["default"])().wrap(function _callee$(_context) {
          while (1) switch (_context.prev = _context.next) {
            case 0:
              return _context.abrupt("return", this._createNewConversation(false));
            case 1:
            case "end":
              return _context.stop();
          }
        }, _callee, this);
      }));
      function createNewConversation() {
        return _createNewConversation2.apply(this, arguments);
      }
      return createNewConversation;
    }()
  }, {
    key: "getAppInfo",
    value: function () {
      var _getAppInfo = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_7__["default"])(/*#__PURE__*/(0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_8__["default"])().mark(function _callee2() {
        var _this$chatFlowProps, _this$apiClient, _this$chatFlowProps2, _this$chatFlowProps3, _this$apiClient2, _this$chatFlowProps4, _this$chatFlowProps5, _this$chatFlowProps6, _appRes$value, _workflowRes$value, _this$chatFlowProps7;
        var connectorId, isWebSdk, _yield$Promise$allSet, _yield$Promise$allSet2, appRes, workflowRes, appData, workflowData, appInfo, _this$chatFlowProps$s;
        return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_8__["default"])().wrap(function _callee2$(_context2) {
          while (1) switch (_context2.prev = _context2.next) {
            case 0:
              connectorId = (0,_get_connector_id__WEBPACK_IMPORTED_MODULE_9__.getConnectorId)(this.chatFlowProps);
              isWebSdk = ((_this$chatFlowProps = this.chatFlowProps) === null || _this$chatFlowProps === void 0 || (_this$chatFlowProps = _this$chatFlowProps.project) === null || _this$chatFlowProps === void 0 ? void 0 : _this$chatFlowProps.mode) === "websdk";
              _context2.next = 4;
              return Promise.allSettled([isWebSdk ? (_this$apiClient = this.apiClient) === null || _this$apiClient === void 0 ? void 0 : _this$apiClient.get("/v1/apps/".concat((_this$chatFlowProps2 = this.chatFlowProps) === null || _this$chatFlowProps2 === void 0 || (_this$chatFlowProps2 = _this$chatFlowProps2.project) === null || _this$chatFlowProps2 === void 0 ? void 0 : _this$chatFlowProps2.id, "?connector_id=").concat(connectorId)) : null, (_this$chatFlowProps3 = this.chatFlowProps) !== null && _this$chatFlowProps3 !== void 0 && (_this$chatFlowProps3 = _this$chatFlowProps3.workflow) !== null && _this$chatFlowProps3 !== void 0 && _this$chatFlowProps3.id ? (_this$apiClient2 = this.apiClient) === null || _this$apiClient2 === void 0 ? void 0 : _this$apiClient2.get("/v1/workflows/".concat((_this$chatFlowProps4 = this.chatFlowProps) === null || _this$chatFlowProps4 === void 0 || (_this$chatFlowProps4 = _this$chatFlowProps4.workflow) === null || _this$chatFlowProps4 === void 0 ? void 0 : _this$chatFlowProps4.id, "?").concat(["connector_id=".concat(connectorId), "is_debug=".concat(((_this$chatFlowProps5 = this.chatFlowProps) === null || _this$chatFlowProps5 === void 0 || (_this$chatFlowProps5 = _this$chatFlowProps5.project) === null || _this$chatFlowProps5 === void 0 ? void 0 : _this$chatFlowProps5.mode) === "draft" ? "true" : ""), "caller=".concat(((_this$chatFlowProps6 = this.chatFlowProps) === null || _this$chatFlowProps6 === void 0 || (_this$chatFlowProps6 = _this$chatFlowProps6.project) === null || _this$chatFlowProps6 === void 0 ? void 0 : _this$chatFlowProps6.caller) || "")].join("&"))) : null]);
            case 4:
              _yield$Promise$allSet = _context2.sent;
              _yield$Promise$allSet2 = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_10__["default"])(_yield$Promise$allSet, 2);
              appRes = _yield$Promise$allSet2[0];
              workflowRes = _yield$Promise$allSet2[1];
              appData = (appRes === null || appRes === void 0 ? void 0 : appRes.status) === "fulfilled" ? appRes === null || appRes === void 0 || (_appRes$value = appRes.value) === null || _appRes$value === void 0 ? void 0 : _appRes$value.data : undefined;
              workflowData = (workflowRes === null || workflowRes === void 0 ? void 0 : workflowRes.status) === "fulfilled" ? workflowRes === null || workflowRes === void 0 || (_workflowRes$value = workflowRes.value) === null || _workflowRes$value === void 0 || (_workflowRes$value = _workflowRes$value.data) === null || _workflowRes$value === void 0 ? void 0 : _workflowRes$value.role : undefined;
              _libs_utils__WEBPACK_IMPORTED_MODULE_1__.logger.debug("Get Workflow Info: ", {
                appRes: appRes,
                workflowRes: workflowRes
              });
              if (!(isWebSdk && !appData)) {
                _context2.next = 13;
                break;
              }
              throw new _libs_utils__WEBPACK_IMPORTED_MODULE_1__.MiniChatError(_libs_utils__WEBPACK_IMPORTED_MODULE_1__.MiniChatErrorCode.SDK_API_APP_UnPublished, "The app is not published");
            case 13:
              // 默认数据不用合并进去
              appInfo = combineRequestOptions(appData, workflowData);
              if ((_this$chatFlowProps7 = this.chatFlowProps) !== null && _this$chatFlowProps7 !== void 0 && (_this$chatFlowProps7 = _this$chatFlowProps7.workflow) !== null && _this$chatFlowProps7 !== void 0 && _this$chatFlowProps7.id && !appInfo.icon_url) {
                appInfo.icon_url = (0,_libs_utils__WEBPACK_IMPORTED_MODULE_1__.getCdnUrl)((_this$chatFlowProps$s = this.chatFlowProps.setting) === null || _this$chatFlowProps$s === void 0 ? void 0 : _this$chatFlowProps$s.cdnBaseUrlPath, "assets/imgs/chatflow-logo.png");
              }
              _libs_utils__WEBPACK_IMPORTED_MODULE_1__.logger.debug("Get Workflow Info(Combine):", appInfo);
              return _context2.abrupt("return", (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_11__["default"])({
                appId: this.appId,
                type: this.chatType
              }, appInfo));
            case 17:
            case "end":
              return _context2.stop();
          }
        }, _callee2, this);
      }));
      function getAppInfo() {
        return _getAppInfo.apply(this, arguments);
      }
      return getAppInfo;
    }()
  }, {
    key: "getOrCreateConversationId",
    value: function getOrCreateConversationId() {
      return this._createNewConversation(true);
    }
  }, {
    key: "_createNewConversation",
    value: function () {
      var _createNewConversation3 = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_7__["default"])(/*#__PURE__*/(0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_8__["default"])().mark(function _callee3() {
        var _this$chatFlowProps8;
        var isCreateNew,
          _yield$this$apiClient,
          conversationId,
          _yield$this$apiClient2,
          sectionId,
          _this$chatFlowProps9,
          _this$chatFlowProps10,
          _this$chatFlowProps11,
          _yield$this$apiClient3,
          _conversationId,
          _yield$this$apiClient4,
          _sectionId,
          _args3 = arguments;
        return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_8__["default"])().wrap(function _callee3$(_context3) {
          while (1) switch (_context3.prev = _context3.next) {
            case 0:
              isCreateNew = _args3.length > 0 && _args3[0] !== undefined ? _args3[0] : false;
              if (!(((_this$chatFlowProps8 = this.chatFlowProps) === null || _this$chatFlowProps8 === void 0 || (_this$chatFlowProps8 = _this$chatFlowProps8.project) === null || _this$chatFlowProps8 === void 0 ? void 0 : _this$chatFlowProps8.type) === "bot")) {
                _context3.next = 11;
                break;
              }
              _context3.next = 4;
              return this.apiClient.conversations.create({
                // @ts-expect-error -- linter-disable-autofix
                connector_id: this.connectorId
              });
            case 4:
              _yield$this$apiClient = _context3.sent;
              conversationId = _yield$this$apiClient.id;
              _yield$this$apiClient2 = _yield$this$apiClient.last_section_id;
              sectionId = _yield$this$apiClient2 === void 0 ? "" : _yield$this$apiClient2;
              return _context3.abrupt("return", {
                conversationId: conversationId,
                sectionId: sectionId
              });
            case 11:
              _context3.next = 13;
              return this.apiClient.conversations.create({
                // @ts-expect-error -- linter-disable-autofix
                app_id: this.appId,
                conversation_name: (_this$chatFlowProps9 = this.chatFlowProps) === null || _this$chatFlowProps9 === void 0 || (_this$chatFlowProps9 = _this$chatFlowProps9.project) === null || _this$chatFlowProps9 === void 0 ? void 0 : _this$chatFlowProps9.conversationName,
                get_or_create: isCreateNew,
                workflow_id: (_this$chatFlowProps10 = this.chatFlowProps) === null || _this$chatFlowProps10 === void 0 || (_this$chatFlowProps10 = _this$chatFlowProps10.workflow) === null || _this$chatFlowProps10 === void 0 ? void 0 : _this$chatFlowProps10.id,
                draft_mode: ((_this$chatFlowProps11 = this.chatFlowProps) === null || _this$chatFlowProps11 === void 0 || (_this$chatFlowProps11 = _this$chatFlowProps11.project) === null || _this$chatFlowProps11 === void 0 ? void 0 : _this$chatFlowProps11.mode) === "draft",
                connector_id: (0,_get_connector_id__WEBPACK_IMPORTED_MODULE_9__.getConnectorId)(this.chatFlowProps)
              });
            case 13:
              _yield$this$apiClient3 = _context3.sent;
              _conversationId = _yield$this$apiClient3.id;
              _yield$this$apiClient4 = _yield$this$apiClient3.last_section_id;
              _sectionId = _yield$this$apiClient4 === void 0 ? "" : _yield$this$apiClient4;
              return _context3.abrupt("return", {
                conversationId: _conversationId,
                sectionId: _sectionId
              });
            case 18:
            case "end":
              return _context3.stop();
          }
        }, _callee3, this);
      }));
      function _createNewConversation() {
        return _createNewConversation3.apply(this, arguments);
      }
      return _createNewConversation;
    }()
  }, {
    key: "asyncChat",
    value: function asyncChat(params, options) {
      var _this$chatFlowProps12, _this$chatFlowProps13, _this$chatFlowProps14, _this$chatFlowProps15, _this$chatFlowProps16, _this$chatFlowProps17, _this$chatFlowProps18, _this$chatFlowProps19, _params$suggestPromot, _params$suggestPromot2;
      var bodyData = {};
      bodyData.additional_messages = params.additional_messages || [];
      bodyData.connector_id = params.connector_id;
      bodyData.conversation_id = params.conversation_id;
      bodyData.workflow_id = (_this$chatFlowProps12 = this.chatFlowProps) === null || _this$chatFlowProps12 === void 0 || (_this$chatFlowProps12 = _this$chatFlowProps12.workflow) === null || _this$chatFlowProps12 === void 0 ? void 0 : _this$chatFlowProps12.id;
      bodyData.parameters = (_this$chatFlowProps13 = this.chatFlowProps) === null || _this$chatFlowProps13 === void 0 || (_this$chatFlowProps13 = _this$chatFlowProps13.workflow) === null || _this$chatFlowProps13 === void 0 ? void 0 : _this$chatFlowProps13.parameters;
      bodyData.execute_mode = ((_this$chatFlowProps14 = this.chatFlowProps) === null || _this$chatFlowProps14 === void 0 || (_this$chatFlowProps14 = _this$chatFlowProps14.project) === null || _this$chatFlowProps14 === void 0 ? void 0 : _this$chatFlowProps14.mode) === "draft" ? "DEBUG" : undefined;
      bodyData.app_id = ((_this$chatFlowProps15 = this.chatFlowProps) === null || _this$chatFlowProps15 === void 0 || (_this$chatFlowProps15 = _this$chatFlowProps15.project) === null || _this$chatFlowProps15 === void 0 ? void 0 : _this$chatFlowProps15.type) === "app" ? (_this$chatFlowProps16 = this.chatFlowProps) === null || _this$chatFlowProps16 === void 0 || (_this$chatFlowProps16 = _this$chatFlowProps16.project) === null || _this$chatFlowProps16 === void 0 ? void 0 : _this$chatFlowProps16.id : undefined;
      bodyData.bot_id = ((_this$chatFlowProps17 = this.chatFlowProps) === null || _this$chatFlowProps17 === void 0 || (_this$chatFlowProps17 = _this$chatFlowProps17.project) === null || _this$chatFlowProps17 === void 0 ? void 0 : _this$chatFlowProps17.type) === "bot" ? (_this$chatFlowProps18 = this.chatFlowProps) === null || _this$chatFlowProps18 === void 0 || (_this$chatFlowProps18 = _this$chatFlowProps18.project) === null || _this$chatFlowProps18 === void 0 ? void 0 : _this$chatFlowProps18.id : undefined;
      bodyData.connector_id = (0,_get_connector_id__WEBPACK_IMPORTED_MODULE_9__.getConnectorId)(this.chatFlowProps);
      bodyData.ext = {
        _caller: (_this$chatFlowProps19 = this.chatFlowProps) === null || _this$chatFlowProps19 === void 0 || (_this$chatFlowProps19 = _this$chatFlowProps19.project) === null || _this$chatFlowProps19 === void 0 ? void 0 : _this$chatFlowProps19.caller
      };
      bodyData.suggest_reply_info = params.suggestPromoteInfo ? {
        suggest_reply_mode: (_params$suggestPromot = params.suggestPromoteInfo) === null || _params$suggestPromot === void 0 ? void 0 : _params$suggestPromot.suggestReplyMode,
        customized_suggest_prompt: (_params$suggestPromot2 = params.suggestPromoteInfo) === null || _params$suggestPromot2 === void 0 ? void 0 : _params$suggestPromot2.customizedSuggestPrompt
      } : undefined;
      // @ts-expect-error -- linter-disable-autofix
      return this.apiClient.workflows.chat.stream(bodyData, options);
    }
  }]);
}(_libs__WEBPACK_IMPORTED_MODULE_0__.ChatService);

/***/ }),

/***/ "./src/chatflow/helper/gen-error-render.tsx":
/*!**************************************************!*\
  !*** ./src/chatflow/helper/gen-error-render.tsx ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   genErrorRender: function() { return /* binding */ genErrorRender; }
/* harmony export */ });
/* harmony import */ var _libs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/libs */ "./src/libs/index.ts");
/* harmony import */ var _libs_ui_kit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/libs/ui-kit */ "./src/libs/ui-kit/index.ts");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");



var genErrorRender = function genErrorRender(props) {
  var _props$areaUi;
  if (!(props !== null && props !== void 0 && (_props$areaUi = props.areaUi) !== null && _props$areaUi !== void 0 && (_props$areaUi = _props$areaUi.input) !== null && _props$areaUi !== void 0 && _props$areaUi.renderChatInputTopSlot)) {
    return undefined;
  }
  return function (_error, retryChatInit) {
    var _props$areaUi2, _props$areaUi2$render;
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(_libs_ui_kit__WEBPACK_IMPORTED_MODULE_1__.Spacing, {
      width100: true,
      height100: true,
      vertical: true,
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_libs_ui_kit__WEBPACK_IMPORTED_MODULE_1__.Spacing, {
        width100: true,
        height100: true,
        flex1: true,
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_libs__WEBPACK_IMPORTED_MODULE_0__.ChatErrorDefault, {
          retryChatInit: retryChatInit
        })
      }), props === null || props === void 0 || (_props$areaUi2 = props.areaUi) === null || _props$areaUi2 === void 0 || (_props$areaUi2 = _props$areaUi2.input) === null || _props$areaUi2 === void 0 || (_props$areaUi2$render = _props$areaUi2.renderChatInputTopSlot) === null || _props$areaUi2$render === void 0 ? void 0 : _props$areaUi2$render.call(_props$areaUi2)]
    });
  };
};

/***/ }),

/***/ "./src/chatflow/helper/get-connector-id.ts":
/*!*************************************************!*\
  !*** ./src/chatflow/helper/get-connector-id.ts ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getConnectorId: function() { return /* binding */ getConnectorId; }
/* harmony export */ });
var getConnectorId = function getConnectorId(props) {
  var project = props.project;
  var _ref = project || {},
    mode = _ref.mode,
    connectorId = _ref.connectorId;
  if (mode === "websdk") {
    return "999";
  } else if (mode === "draft") {
    return "10000010";
  }
  return connectorId || "";
};

/***/ }),

/***/ "./src/chatflow/helper/get-token.ts":
/*!******************************************!*\
  !*** ./src/chatflow/helper/get-token.ts ***!
  \******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getToken: function() { return /* binding */ getToken; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");
/* harmony import */ var _tarojs_taro__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tarojs/taro */ "./node_modules/.pnpm/@tarojs+taro@4.0.8_@tarojs+components@4.0.8_@tarojs+helper@4.0.8_@swc+helpers@0.5.15__@_28b4aa939e10f4882a0917541e7336fe/node_modules/@tarojs/taro/index.js");
/* harmony import */ var _tarojs_taro__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_tarojs_taro__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _libs_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/libs/utils */ "./src/libs/utils/index.ts");




var getToken = /*#__PURE__*/function () {
  var _ref = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_2__["default"])(/*#__PURE__*/(0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_3__["default"])().mark(function _callee(props) {
    var _props$auth, _props$auth2, _props$auth3;
    var token, refreshToken;
    return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_3__["default"])().wrap(function _callee$(_context) {
      while (1) switch (_context.prev = _context.next) {
        case 0:
          token = (_props$auth = props.auth) === null || _props$auth === void 0 ? void 0 : _props$auth.token;
          refreshToken = (_props$auth2 = props.auth) === null || _props$auth2 === void 0 ? void 0 : _props$auth2.refreshToken;
          if (!(((_props$auth3 = props.auth) === null || _props$auth3 === void 0 ? void 0 : _props$auth3.type) === "internal")) {
            _context.next = 10;
            break;
          }
          _context.next = 5;
          return getTokenInternal();
        case 5:
          _context.t0 = _context.sent;
          if (_context.t0) {
            _context.next = 8;
            break;
          }
          _context.t0 = "";
        case 8:
          token = _context.t0;
          refreshToken = getTokenInternal;
        case 10:
          return _context.abrupt("return", {
            token: token,
            refreshToken: refreshToken
          });
        case 11:
        case "end":
          return _context.stop();
      }
    }, _callee);
  }));
  return function getToken(_x) {
    return _ref.apply(this, arguments);
  };
}();
function getTokenInternal() {
  return _getTokenInternal.apply(this, arguments);
}
function _getTokenInternal() {
  _getTokenInternal = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_2__["default"])(/*#__PURE__*/(0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_3__["default"])().mark(function _callee2() {
    var _result$data, result;
    return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_3__["default"])().wrap(function _callee2$(_context2) {
      while (1) switch (_context2.prev = _context2.next) {
        case 0:
          _context2.prev = 0;
          _context2.next = 3;
          return (0,_tarojs_taro__WEBPACK_IMPORTED_MODULE_0__.request)({
            url: "/api/permission_api/coze_web_app/impersonate_coze_user",
            method: "POST",
            dataType: "json",
            timeout: 30000,
            data: {}
          });
        case 3:
          result = _context2.sent;
          return _context2.abrupt("return", (_result$data = result.data) === null || _result$data === void 0 || (_result$data = _result$data.data) === null || _result$data === void 0 ? void 0 : _result$data.access_token);
        case 7:
          _context2.prev = 7;
          _context2.t0 = _context2["catch"](0);
          _libs_utils__WEBPACK_IMPORTED_MODULE_1__.logger.error("getTokenInternal error", _context2.t0);
          return _context2.abrupt("return", "");
        case 11:
        case "end":
          return _context2.stop();
      }
    }, _callee2, null, [[0, 7]]);
  }));
  return _getTokenInternal.apply(this, arguments);
}

/***/ }),

/***/ "./src/chatflow/hooks/use-init-chat.ts":
/*!*********************************************!*\
  !*** ./src/chatflow/hooks/use-init-chat.ts ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useInitChat: function() { return /* binding */ useInitChat; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectSpread2.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectSpread2.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/slicedToArray.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _libs_hooks__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/libs/hooks */ "./src/libs/hooks/index.ts");
/* harmony import */ var _libs_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/libs/utils */ "./src/libs/utils/index.ts");
/* harmony import */ var _libs_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/libs/types */ "./src/libs/types/index.ts");
/* harmony import */ var _helper_gen_error_render__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../helper/gen-error-render */ "./src/chatflow/helper/gen-error-render.tsx");
/* harmony import */ var _helper_get_token__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../helper/get-token */ "./src/chatflow/helper/get-token.ts");
/* harmony import */ var _helper_chat_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../helper/chat-service */ "./src/chatflow/helper/chat-service.ts");
/* harmony import */ var _helper_get_connector_id__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../helper/get-connector-id */ "./src/chatflow/helper/get-connector-id.ts");
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./index.module.less */ "./src/chatflow/hooks/index.module.less");













var useInitChat = function useInitChat(props) {
  var _refService$current, _props$workflow;
  var projectInfo = props.project,
    userInfo = props.userInfo;
  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false),
    _useState2 = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_8__["default"])(_useState, 2),
    hasReady = _useState2[0],
    setHasReady = _useState2[1];
  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(),
    _useState4 = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_8__["default"])(_useState3, 2),
    authProp = _useState4[0],
    setAuthProp = _useState4[1];
  var refService = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();

  // The parameters will be changed immediately, so we don't code it in useEffect.
  (_refService$current = refService.current) === null || _refService$current === void 0 || _refService$current.updateChatFlowProps(props);
  var syncModifyChatProps = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {
    var _props$areaUi, _props$areaUi2, _props$areaUi3, _props$areaUi4, _props$project, _props$areaUi5, _props$areaUi6, _props$areaUi7, _props$areaUi8, _props$areaUi9, _props$areaUi10, _props$areaUi11, _props$eventCallbacks, _props$eventCallbacks2, _props$eventCallbacks3;
    return {
      chat: (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_9__["default"])({
        appId: projectInfo === null || projectInfo === void 0 ? void 0 : projectInfo.id,
        type: (projectInfo === null || projectInfo === void 0 ? void 0 : projectInfo.type) === "app" ? _libs_types__WEBPACK_IMPORTED_MODULE_3__.ChatType.App : _libs_types__WEBPACK_IMPORTED_MODULE_3__.ChatType.Bot
      }, (0,_helper_chat_service__WEBPACK_IMPORTED_MODULE_6__.getCustomAppInfo)(props)),
      user: userInfo,
      ui: {
        layout: ((_props$areaUi = props.areaUi) === null || _props$areaUi === void 0 ? void 0 : _props$areaUi.layout) || "pc",
        isMiniCustomHeader: props === null || props === void 0 || (_props$areaUi2 = props.areaUi) === null || _props$areaUi2 === void 0 ? void 0 : _props$areaUi2.isMiniCustomHeader,
        isReadonly: props === null || props === void 0 || (_props$areaUi3 = props.areaUi) === null || _props$areaUi3 === void 0 ? void 0 : _props$areaUi3.isDisabled,
        header: (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_9__["default"])({
          isNeed: false
        }, (props === null || props === void 0 || (_props$areaUi4 = props.areaUi) === null || _props$areaUi4 === void 0 ? void 0 : _props$areaUi4.header) || {}),
        footer: (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_9__["default"])({
          containerClassName: ((_props$project = props.project) === null || _props$project === void 0 ? void 0 : _props$project.mode) !== "websdk" ? _index_module_less__WEBPACK_IMPORTED_MODULE_7__["default"]["footer-container"] : undefined
        }, props === null || props === void 0 || (_props$areaUi5 = props.areaUi) === null || _props$areaUi5 === void 0 ? void 0 : _props$areaUi5.footer),
        loading: {
          renderLoading: props === null || props === void 0 || (_props$areaUi6 = props.areaUi) === null || _props$areaUi6 === void 0 ? void 0 : _props$areaUi6.renderLoading
        },
        error: {
          renderError: (0,_helper_gen_error_render__WEBPACK_IMPORTED_MODULE_4__.genErrorRender)(props)
        },
        chatSlot: {
          base: {
            maxWidth: 600
          },
          input: props === null || props === void 0 || (_props$areaUi7 = props.areaUi) === null || _props$areaUi7 === void 0 ? void 0 : _props$areaUi7.input,
          clearContext: props === null || props === void 0 || (_props$areaUi8 = props.areaUi) === null || _props$areaUi8 === void 0 ? void 0 : _props$areaUi8.clearContext,
          clearMessage: props === null || props === void 0 || (_props$areaUi9 = props.areaUi) === null || _props$areaUi9 === void 0 ? void 0 : _props$areaUi9.clearMessage,
          uploadBtn: props === null || props === void 0 || (_props$areaUi10 = props.areaUi) === null || _props$areaUi10 === void 0 ? void 0 : _props$areaUi10.uploadBtn,
          message: props === null || props === void 0 || (_props$areaUi11 = props.areaUi) === null || _props$areaUi11 === void 0 ? void 0 : _props$areaUi11.message
        }
      },
      eventCallbacks: {
        onImageClick: props === null || props === void 0 || (_props$eventCallbacks = props.eventCallbacks) === null || _props$eventCallbacks === void 0 ? void 0 : _props$eventCallbacks.onImageClick,
        onInitRetry: function onInitRetry() {
          setHasReady(false);
        },
        onThemeChange: props === null || props === void 0 || (_props$eventCallbacks2 = props.eventCallbacks) === null || _props$eventCallbacks2 === void 0 ? void 0 : _props$eventCallbacks2.onThemeChange,
        message: props === null || props === void 0 || (_props$eventCallbacks3 = props.eventCallbacks) === null || _props$eventCallbacks3 === void 0 ? void 0 : _props$eventCallbacks3.message
      },
      setting: (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_9__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_9__["default"])({}, (props === null || props === void 0 ? void 0 : props.setting) || {}), {}, {
        onGetCustomChatService: function onGetCustomChatService(chatServiceProps) {
          refService.current = new _helper_chat_service__WEBPACK_IMPORTED_MODULE_6__.ChatFlowService(chatServiceProps, props);
          return refService.current;
        }
      })
    };
  }, [props]);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {
    if (hasReady) {
      return;
    }

    // just check param for console, don't do any more;
    checkParam(props);
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_10__["default"])(/*#__PURE__*/(0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_11__["default"])().mark(function _callee() {
      var _yield$getToken, token, refreshToken;
      return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_11__["default"])().wrap(function _callee$(_context) {
        while (1) switch (_context.prev = _context.next) {
          case 0:
            _context.next = 2;
            return (0,_helper_get_token__WEBPACK_IMPORTED_MODULE_5__.getToken)(props);
          case 2:
            _yield$getToken = _context.sent;
            token = _yield$getToken.token;
            refreshToken = _yield$getToken.refreshToken;
            setAuthProp({
              // don't need to check token, because it will be checked in chat framework
              token: token,
              onRefreshToken: refreshToken,
              connectorId: (0,_helper_get_connector_id__WEBPACK_IMPORTED_MODULE_12__.getConnectorId)(props)
            });
            setHasReady(true);
          case 7:
          case "end":
            return _context.stop();
        }
      }, _callee);
    }))();
  }, [hasReady]);
  (0,_libs_hooks__WEBPACK_IMPORTED_MODULE_1__.useUpdateEffect)(function () {
    _libs_utils__WEBPACK_IMPORTED_MODULE_2__.logger.info("useInitChat reRender");
    setHasReady(false);
  }, [projectInfo === null || projectInfo === void 0 ? void 0 : projectInfo.id, projectInfo === null || projectInfo === void 0 ? void 0 : projectInfo.type, projectInfo === null || projectInfo === void 0 ? void 0 : projectInfo.conversationName, projectInfo === null || projectInfo === void 0 ? void 0 : projectInfo.mode, props === null || props === void 0 || (_props$workflow = props.workflow) === null || _props$workflow === void 0 ? void 0 : _props$workflow.id]);
  return {
    hasReady: hasReady,
    chatProps: Object.assign(syncModifyChatProps, {
      auth: authProp
    })
  };
};
function checkParam(props) {
  var _props$project2;
  var error;
  if ((props === null || props === void 0 || (_props$project2 = props.project) === null || _props$project2 === void 0 ? void 0 : _props$project2.type) === "bot") {
    var _props$project3;
    if ((props === null || props === void 0 || (_props$project3 = props.project) === null || _props$project3 === void 0 ? void 0 : _props$project3.mode) !== "draft") {
      _libs_utils__WEBPACK_IMPORTED_MODULE_2__.logger.error("mode must be draft when project type is bot");
    }
  } else {
    var _props$auth;
    if ((props === null || props === void 0 || (_props$auth = props.auth) === null || _props$auth === void 0 ? void 0 : _props$auth.type) !== "internal") {
      var _props$auth2;
      if (!(props !== null && props !== void 0 && (_props$auth2 = props.auth) !== null && _props$auth2 !== void 0 && _props$auth2.token)) {
        _libs_utils__WEBPACK_IMPORTED_MODULE_2__.logger.error("token is required when auth type is not internal");
      }
    }
  }
  return error;
}

/***/ }),

/***/ "./src/chatflow/index.tsx":
/*!********************************!*\
  !*** ./src/chatflow/index.tsx ***!
  \********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ChatFlowFramework: function() { return /* binding */ ChatFlowFramework; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectSpread2.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectSpread2.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _hooks_use_init_chat__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./hooks/use-init-chat */ "./src/chatflow/hooks/use-init-chat.ts");
/* harmony import */ var _libs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/libs */ "./src/libs/index.ts");
/* harmony import */ var _libs_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/libs/utils */ "./src/libs/utils/index.ts");
/* harmony import */ var _libs_hooks__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/libs/hooks */ "./src/libs/hooks/index.ts");
/* harmony import */ var _tarojs_components__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @tarojs/components */ "./node_modules/.pnpm/@tarojs+plugin-platform-weapp@4.0.8_@tarojs+service@4.0.8_@swc+helpers@0.5.15__@tarojs+shared@4.0.8/node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js");
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./index.module.less */ "./src/chatflow/index.module.less");
/* harmony import */ var _libs_ui_kit__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/libs/ui-kit */ "./src/libs/ui-kit/index.ts");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! classnames */ "./node_modules/.pnpm/classnames@2.5.1/node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");



var _excluded = ["auth"];










var ChatFlowSlot = function ChatFlowSlot(props) {
  var _inProcessChatMessage, _props$eventCallbacks;
  var inProcessChatMessageGroup = (0,_libs__WEBPACK_IMPORTED_MODULE_2__.useConversationStore)(function (store) {
    return store.inProcessChatMessageGroup;
  });
  var executeId = inProcessChatMessageGroup === null || inProcessChatMessageGroup === void 0 || (_inProcessChatMessage = inProcessChatMessageGroup.query) === null || _inProcessChatMessage === void 0 || (_inProcessChatMessage = _inProcessChatMessage.extData) === null || _inProcessChatMessage === void 0 ? void 0 : _inProcessChatMessage.executeId;
  var onGetChatFlowExecuteId = props === null || props === void 0 || (_props$eventCallbacks = props.eventCallbacks) === null || _props$eventCallbacks === void 0 ? void 0 : _props$eventCallbacks.onGetChatFlowExecuteId;
  (0,_libs_hooks__WEBPACK_IMPORTED_MODULE_4__.useUpdateEffect)(function () {
    _libs_utils__WEBPACK_IMPORTED_MODULE_3__.logger.debug("ChatFlow excuteId", executeId);
    if (executeId && onGetChatFlowExecuteId) {
      onGetChatFlowExecuteId(executeId);
    }
  }, [executeId]);
  var isChatInitSuccess = (0,_libs__WEBPACK_IMPORTED_MODULE_2__.useInitSuccess)();
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {
    if (isChatInitSuccess) {
      var _props$eventCallbacks2, _props$eventCallbacks3;
      props === null || props === void 0 || (_props$eventCallbacks2 = props.eventCallbacks) === null || _props$eventCallbacks2 === void 0 || (_props$eventCallbacks3 = _props$eventCallbacks2.onInitSuccess) === null || _props$eventCallbacks3 === void 0 || _props$eventCallbacks3.call(_props$eventCallbacks2);
    }
  }, [isChatInitSuccess]);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.Fragment, {
    children: props.children || /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_libs__WEBPACK_IMPORTED_MODULE_2__.ChatSlot, {
      className: classnames__WEBPACK_IMPORTED_MODULE_7___default()((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_9__["default"])({}, _index_module_less__WEBPACK_IMPORTED_MODULE_5__["default"]["chat-slot-websdk"], props.project.mode === "websdk"))
    })
  });
};
var ChatFlowFramework = function ChatFlowFramework(props) {
  var _props$setting, _auth$token, _auth$token2;
  _libs_utils__WEBPACK_IMPORTED_MODULE_3__.logger.setLoglevel(props === null || props === void 0 || (_props$setting = props.setting) === null || _props$setting === void 0 ? void 0 : _props$setting.logLevel);
  var _useInitChat = (0,_hooks_use_init_chat__WEBPACK_IMPORTED_MODULE_1__.useInitChat)(props),
    chatProps = _useInitChat.chatProps,
    hasReady = _useInitChat.hasReady;
  var _ref = props || {},
    auth = _ref.auth,
    restProps = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_10__["default"])(_ref, _excluded);
  _libs_utils__WEBPACK_IMPORTED_MODULE_3__.logger.info("ChatFlow props", {
    props: restProps,
    hasReady: hasReady,
    auth: {
      type: auth === null || auth === void 0 ? void 0 : auth.type,
      token: "".concat(auth === null || auth === void 0 || (_auth$token = auth.token) === null || _auth$token === void 0 ? void 0 : _auth$token.slice(0, 5), "*******").concat(auth === null || auth === void 0 || (_auth$token2 = auth.token) === null || _auth$token2 === void 0 ? void 0 : _auth$token2.slice(-5, 5))
    }
  });
  if (!(chatProps !== null && chatProps !== void 0 && chatProps.auth) || !hasReady) {
    var _props$areaUi, _props$areaUi2;
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_libs_ui_kit__WEBPACK_IMPORTED_MODULE_6__.CenterAlignedBox, {
      className: _index_module_less__WEBPACK_IMPORTED_MODULE_5__["default"].loading,
      children: (_props$areaUi = props.areaUi) !== null && _props$areaUi !== void 0 && _props$areaUi.renderLoading ? (_props$areaUi2 = props.areaUi) === null || _props$areaUi2 === void 0 ? void 0 : _props$areaUi2.renderLoading() : /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_libs_ui_kit__WEBPACK_IMPORTED_MODULE_6__.Spinning, {})
    });
  }
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_11__.View, {
    style: props.style,
    className: _index_module_less__WEBPACK_IMPORTED_MODULE_5__["default"].chatflow,
    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_libs__WEBPACK_IMPORTED_MODULE_2__.ChatFramework, (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_12__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_12__["default"])({}, chatProps), {}, {
      auth: chatProps.auth,
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(ChatFlowSlot, (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_12__["default"])({}, props))
    }))
  });
};

/***/ }),

/***/ "./src/libs/framework/component/chat-background/helper.ts":
/*!****************************************************************!*\
  !*** ./src/libs/framework/component/chat-background/helper.ts ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   addAlpha: function() { return /* binding */ addAlpha; },
/* harmony export */   cropperSizeMap: function() { return /* binding */ cropperSizeMap; },
/* harmony export */   getDeviceMode: function() { return /* binding */ getDeviceMode; },
/* harmony export */   getGradient: function() { return /* binding */ getGradient; }
/* harmony export */ });
/* unused harmony export getStandardRatio */
var cropperSizeMap = {
  pc: {
    width: 486,
    height: 346
  },
  mobile: {
    width: 248,
    height: 346
  }
};
function hexToRgb(hex) {
  // 如果是三位十六进制，将其扩展为六位
  if (hex.length === 4) {
    hex = hex[1] + hex[1] + hex[2] + hex[2] + hex[3] + hex[3];
  }
  hex = hex.slice(1); // 去掉'#'
  var r = parseInt(hex.slice(0, 2), 16);
  var g = parseInt(hex.slice(2, 4), 16);
  var b = parseInt(hex.slice(4), 16);
  return "rgb(".concat(r, ",").concat(g, ",").concat(b, ")");
}
// 输入透明度系数 和color 返回新的颜色
function addAlpha(color, alpha) {
  if (/^((#[0-9A-Fa-f]{3})|(#[0-9A-Fa-f]{6}))$/.test(color)) {
    color = hexToRgb(color);
  }
  var regex = /^rgba\((\d{1,3}),(\d{1,3}),(\d{1,3})\)$/;
  if (!regex.test(color)) {
    return color;
  }
  var values = color.slice(5, -1).split(",");
  values.push(alpha.toString());
  var newColor = "rgba(".concat(values.join(","), ")");
  return newColor;
}
var getGradient = function getGradient(gradient, canvasData) {
  var cropperWidth = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;
  var _canvasData$left = canvasData.left,
    cropperImgLeft = _canvasData$left === void 0 ? 0 : _canvasData$left,
    _canvasData$width = canvasData.width,
    cropperImgWidth = _canvasData$width === void 0 ? 0 : _canvasData$width;
  if (cropperImgWidth && cropperWidth) {
    return {
      left: cropperImgLeft / cropperWidth,
      right: (cropperWidth - cropperImgWidth - cropperImgLeft) / cropperWidth
    };
  } else {
    return gradient;
  }
};
var getDeviceMode = function getDeviceMode(width, height) {
  if (!width || !height) {
    return "pc";
  }
  return width / height <= getStandardRatio("mobile") ? "mobile" : "pc";
};
var getStandardRatio = function getStandardRatio(mode) {
  return cropperSizeMap[mode].width / cropperSizeMap[mode].height;
};

/***/ }),

/***/ "./src/libs/framework/component/chat-background/index.tsx":
/*!****************************************************************!*\
  !*** ./src/libs/framework/component/chat-background/index.tsx ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ChatBackground: function() { return /* binding */ ChatBackground; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var _tarojs_components__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @tarojs/components */ "./node_modules/.pnpm/@tarojs+plugin-platform-weapp@4.0.8_@tarojs+service@4.0.8_@swc+helpers@0.5.15__@tarojs+shared@4.0.8/node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/framework/component/chat-background/index.module.less");
/* harmony import */ var _helper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./helper */ "./src/libs/framework/component/chat-background/helper.ts");
/* harmony import */ var _libs_hooks__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/libs/hooks */ "./src/libs/hooks/index.ts");
/* harmony import */ var _libs_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/libs/utils */ "./src/libs/utils/index.ts");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");








var chatBackGroundId = 1000;
var ChatBackground = function ChatBackground(props) {
  var id = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {
    return "chatbg_id_".concat(chatBackGroundId++);
  }, []);
  var _useSize = (0,_libs_hooks__WEBPACK_IMPORTED_MODULE_3__.useSize)(id),
    containerWidth = _useSize.width,
    containerHeight = _useSize.height,
    reInitSize = _useSize.reInitSize;
  var mode = (0,_helper__WEBPACK_IMPORTED_MODULE_2__.getDeviceMode)(containerWidth, containerHeight);
  var bgInfo = props[mode];
  if (!bgInfo || !(bgInfo !== null && bgInfo !== void 0 && bgInfo.imgUrl)) {
    return null;
  }
  var _bgInfo$themeColor = bgInfo.themeColor,
    themeColor = _bgInfo$themeColor === void 0 ? "transparent" : _bgInfo$themeColor,
    imgUrl = bgInfo.imgUrl,
    canvasPosition = bgInfo.canvasPosition,
    gradientPosition = bgInfo.gradientPosition;
  var isDefault = !canvasPosition.width || !canvasPosition.height; // 如果未设置宽高度，则使用默认模式进行渲染

  var mediumColor = (0,_helper__WEBPACK_IMPORTED_MODULE_2__.addAlpha)(themeColor, 0.95);
  var cropperSize = _helper__WEBPACK_IMPORTED_MODULE_2__.cropperSizeMap[mode];
  var _getGradient = (0,_helper__WEBPACK_IMPORTED_MODULE_2__.getGradient)(gradientPosition, canvasPosition, cropperSize.width),
    _getGradient$left = _getGradient.left,
    gradientLeft = _getGradient$left === void 0 ? 0 : _getGradient$left,
    _getGradient$right = _getGradient.right,
    gradientRight = _getGradient$right === void 0 ? 0 : _getGradient$right;
  var imgWidth = containerHeight * (cropperSize.width / cropperSize.height);
  _libs_utils__WEBPACK_IMPORTED_MODULE_4__.logger.debug("ChatBackground", containerWidth, containerHeight);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(_tarojs_components__WEBPACK_IMPORTED_MODULE_6__.View, {
    id: id,
    className: _index_module_less__WEBPACK_IMPORTED_MODULE_1__["default"]["bg-image"],
    style: {
      backgroundColor: themeColor
    },
    ref: reInitSize,
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_6__.View, {
      className: _index_module_less__WEBPACK_IMPORTED_MODULE_1__["default"].mask
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(_tarojs_components__WEBPACK_IMPORTED_MODULE_6__.View, {
      className: _index_module_less__WEBPACK_IMPORTED_MODULE_1__["default"]["img-container"],
      style: {
        width: isDefault ? "100%" : imgWidth,
        maxWidth: isDefault ? "100" : imgWidth
      },
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(Gradient, {
        position: gradientLeft,
        direction: "left",
        background: "linear-gradient(90deg,  ".concat(themeColor, " 10%, ").concat(mediumColor, " 28%, transparent 92.4%)"),
        isShow: !isDefault
      }), imgUrl ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_6__.Image, {
        src: imgUrl,
        mode: isDefault ? "aspectFill" : "heightFix",
        className: _index_module_less__WEBPACK_IMPORTED_MODULE_1__["default"].img,
        style: isDefault ? {
          left: "50%",
          width: "100%",
          height: "100%",
          transform: "translateX(-50%)"
        } : {
          height: "".concat(canvasPosition.height / cropperSize.height * 100, "%"),
          left: "".concat(gradientLeft ? gradientLeft * 100 : -gradientRight * 2 * 100, "%"),
          top: "".concat(canvasPosition.top / cropperSize.height * 100, "%")
        }
      }) : null, /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(Gradient, {
        position: gradientRight,
        direction: "right",
        isShow: !isDefault,
        background: "linear-gradient(90deg,  transparent 10% , ".concat(mediumColor, " 72%, ").concat(themeColor, " 92%)")
      })]
    })]
  });
};
var Gradient = function Gradient(_ref) {
  var _ref$position = _ref.position,
    position = _ref$position === void 0 ? 0 : _ref$position,
    background = _ref.background,
    direction = _ref.direction,
    _ref$isShow = _ref.isShow,
    isShow = _ref$isShow === void 0 ? true : _ref$isShow;
  if (!isShow) {
    return null;
  }
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_6__.View, {
    className: _index_module_less__WEBPACK_IMPORTED_MODULE_1__["default"].gradient,
    style: (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_7__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_7__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_7__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_7__["default"])({}, direction, "".concat((position > 0 ? position : 0) * 100 - 0.1, "%")), "width", "10%"), "background", background), "opacity", 1)
  });
};

/*
 背景图方案
  <View
            className={styles.img}
            style={
              isDefault
                ? {
                    backgroundImage: `url(${imgUrl})`,
                    backgroundRepeat: "no-repeat",
                    backgroundPosition: "center",
                    backgroundSize: "cover",
                    left: "50%",
                    width: "100%",
                    transform: "translateX(-50%)",
                  }
                : {
                    backgroundImage: `url(${imgUrl})`,
                    height: `${
                      (canvasPosition.height / cropperSize.height) * 100
                    }%`,
                    left: `${
                      gradientLeft
                        ? gradientLeft * 100
                        : -gradientRight * 2 * 100
                    }%`,
                    top: `${(canvasPosition.top / cropperSize.height) * 100}%`,
                  }
            }
          />
*/

/***/ }),

/***/ "./src/libs/framework/component/chat-error/index.tsx":
/*!***********************************************************!*\
  !*** ./src/libs/framework/component/chat-error/index.tsx ***!
  \***********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ChatError: function() { return /* binding */ ChatError; },
/* harmony export */   ChatErrorDefault: function() { return /* binding */ ChatErrorDefault; }
/* harmony export */ });
/* harmony import */ var _tarojs_components__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @tarojs/components */ "./node_modules/.pnpm/@tarojs+plugin-platform-weapp@4.0.8_@tarojs+service@4.0.8_@swc+helpers@0.5.15__@tarojs+shared@4.0.8/node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js");
/* harmony import */ var _libs_ui_kit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/libs/ui-kit */ "./src/libs/ui-kit/index.ts");
/* harmony import */ var _libs_provider__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/libs/provider */ "./src/libs/provider/index.tsx");
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/framework/component/chat-error/index.module.less");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");





var ChatErrorDefault = function ChatErrorDefault(_ref) {
  var retryChatInit = _ref.retryChatInit;
  var i18n = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_1__.useI18n)();
  var miniChatError = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_1__.useChatInfoStore)(function (store) {
    return store.error;
  });
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_4__.View, {
    className: _index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"].container,
    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_libs_ui_kit__WEBPACK_IMPORTED_MODULE_0__.Spacing, {
      horizontalCenter: true,
      flex1: true,
      verticalCenter: true,
      className: _index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"].content,
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_libs_ui_kit__WEBPACK_IMPORTED_MODULE_0__.Spacing, {
        vertical: true,
        verticalCenter: true,
        horizontalCenter: true,
        gap: 16,
        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_libs_ui_kit__WEBPACK_IMPORTED_MODULE_0__.Spacing, {
          className: _index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"]["error-img"],
          gap: 4,
          vertical: true,
          horizontalCenter: true,
          verticalCenter: true,
          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_4__.View, {
            className: _index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"]["error-img-warn-1"]
          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_4__.View, {
            className: _index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"]["error-img-warn-dot"]
          })]
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_4__.Text, {
          className: _index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"]["error-txt"],
          children: miniChatError === null || miniChatError === void 0 ? void 0 : miniChatError.getErrorMessageByI18n(i18n, undefined, i18n.t("chatInitRetry"))
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_libs_ui_kit__WEBPACK_IMPORTED_MODULE_0__.Button, {
          onClick: retryChatInit,
          children: i18n.t("retryBtn")
        })]
      })
    })
  });
};
var ChatError = function ChatError(_ref2) {
  var retryChatInit = _ref2.retryChatInit;
  var renderError = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_1__.useChatPropsStore)(function (store) {
    var _store$ui;
    return (_store$ui = store.ui) === null || _store$ui === void 0 || (_store$ui = _store$ui.error) === null || _store$ui === void 0 ? void 0 : _store$ui.renderError;
  });
  var onInitRetry = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_1__.useChatPropsStore)(function (store) {
    var _store$eventCallbacks;
    return (_store$eventCallbacks = store.eventCallbacks) === null || _store$eventCallbacks === void 0 ? void 0 : _store$eventCallbacks.onInitRetry;
  });
  var retryInit = onInitRetry || retryChatInit;
  if (renderError) {
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.Fragment, {
      children: renderError(undefined, retryInit)
    });
  }
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(ChatErrorDefault, {
    retryChatInit: retryInit
  });
};

/***/ }),

/***/ "./src/libs/framework/component/chat-footer/index.tsx":
/*!************************************************************!*\
  !*** ./src/libs/framework/component/chat-footer/index.tsx ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ChatFooter: function() { return /* binding */ ChatFooter; }
/* harmony export */ });
/* harmony import */ var _tarojs_components__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @tarojs/components */ "./node_modules/.pnpm/@tarojs+plugin-platform-weapp@4.0.8_@tarojs+service@4.0.8_@swc+helpers@0.5.15__@tarojs+shared@4.0.8/node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js");
/* harmony import */ var _libs_ui_kit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/libs/ui-kit */ "./src/libs/ui-kit/index.ts");
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/framework/component/chat-footer/index.module.less");
/* harmony import */ var _libs_provider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/libs/provider */ "./src/libs/provider/index.tsx");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! classnames */ "./node_modules/.pnpm/classnames@2.5.1/node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");







var ChatFooter = function ChatFooter() {
  var i18n = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_2__.useI18n)();
  var footer = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_2__.useChatPropsStore)(function (store) {
    var _store$ui;
    return (_store$ui = store.ui) === null || _store$ui === void 0 ? void 0 : _store$ui.footer;
  });
  var footerContent = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(function () {
    return footer !== null && footer !== void 0 && footer.expressionText ? getTextByExpress(footer === null || footer === void 0 ? void 0 : footer.expressionText, footer === null || footer === void 0 ? void 0 : footer.linkvars) : i18n.t("chatFooterTip");
  }, [footer === null || footer === void 0 ? void 0 : footer.expressionText, footer === null || footer === void 0 ? void 0 : footer.linkvars]);
  if ((footer === null || footer === void 0 ? void 0 : footer.isNeed) === false) {
    return null;
  }
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_libs_ui_kit__WEBPACK_IMPORTED_MODULE_0__.CenterAlignedBox, {
    className: classnames__WEBPACK_IMPORTED_MODULE_4___default()(_index_module_less__WEBPACK_IMPORTED_MODULE_1__["default"].container, footer === null || footer === void 0 ? void 0 : footer.containerClassName),
    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_6__.Text, {
      className: classnames__WEBPACK_IMPORTED_MODULE_4___default()(_index_module_less__WEBPACK_IMPORTED_MODULE_1__["default"].footer, footer === null || footer === void 0 ? void 0 : footer.textClassName),
      numberOfLines: 1,
      overflow: "ellipsis",
      children: footerContent
    })
  });
};
function getTextByExpress(expressionText, linkvars) {
  var arrLinks = [];
  var splitLinkTag = "{{{link}}}";
  var textWithLinkTags = expressionText.replace(/\{\{\s*(\w+)\s*\}\}/g, function (_, key) {
    var _ref = (linkvars === null || linkvars === void 0 ? void 0 : linkvars[key]) || {},
      link = _ref.link,
      linkText = _ref.text;
    if (link && linkText) {
      arrLinks.push(/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_libs_ui_kit__WEBPACK_IMPORTED_MODULE_0__.Link, {
        src: link,
        children: linkText
      }));
      return splitLinkTag;
    } else {
      arrLinks.push(linkText || "");
    }
    return splitLinkTag;
  });
  return textWithLinkTags.split(splitLinkTag).map(function (item, index) {
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(_tarojs_components__WEBPACK_IMPORTED_MODULE_6__.Text, {
      children: [item, arrLinks[index]]
    }, "text_link_".concat(index));
  });
}

/***/ }),

/***/ "./src/libs/framework/component/chat-framework/hooks/use-web-keyboard-handle.ts":
/*!**************************************************************************************!*\
  !*** ./src/libs/framework/component/chat-framework/hooks/use-web-keyboard-handle.ts ***!
  \**************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useWebKeyboardHandle: function() { return /* binding */ useWebKeyboardHandle; }
/* harmony export */ });
/* harmony import */ var _libs_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/libs/types */ "./src/libs/types/index.ts");
/* harmony import */ var _libs_provider_context_chat_store_context__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/libs/provider/context/chat-store-context */ "./src/libs/provider/context/chat-store-context.tsx");
/* harmony import */ var _libs_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/libs/utils */ "./src/libs/utils/index.ts");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* provided dependency */ var document = __webpack_require__(/*! @tarojs/runtime */ "./node_modules/.pnpm/@tarojs+runtime@4.0.8/node_modules/@tarojs/runtime/dist/index.js")["document"];




var useWebKeyboardHandle = function useWebKeyboardHandle(chatFrameId) {
  var frameTarget = (0,_libs_provider_context_chat_store_context__WEBPACK_IMPORTED_MODULE_1__.useUiEventStore)(function (store) {
    return store.event;
  });
  (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(function () {
    if (_libs_utils__WEBPACK_IMPORTED_MODULE_2__.isWeb && chatFrameId) {
      var el = document.getElementById(chatFrameId);
      var isFocused = false;
      if (el) {
        var onKeyDown = function onKeyDown(e) {
          _libs_utils__WEBPACK_IMPORTED_MODULE_2__.logger.debug("Frame Target keydown");
          frameTarget.trigger(_libs_types__WEBPACK_IMPORTED_MODULE_0__.UIEventType.KeyDown, {
            chatFrameId: chatFrameId,
            code: e.code
          });
        };
        var onKeyUp = function onKeyUp(e) {
          _libs_utils__WEBPACK_IMPORTED_MODULE_2__.logger.debug("Frame Target keyup", e);
          frameTarget.trigger(_libs_types__WEBPACK_IMPORTED_MODULE_0__.UIEventType.KeyUp, {
            chatFrameId: chatFrameId,
            code: e.code
          });
        };
        var onFocus = function onFocus() {
          _libs_utils__WEBPACK_IMPORTED_MODULE_2__.logger.debug("Frame Target focus");
          isFocused = true;
          frameTarget.trigger(_libs_types__WEBPACK_IMPORTED_MODULE_0__.UIEventType.FrameFocus, {
            chatFrameId: chatFrameId
          });
        };
        var onBlur = function onBlur() {
          _libs_utils__WEBPACK_IMPORTED_MODULE_2__.logger.debug("Frame Target  blur");
          isFocused = false;
          frameTarget.trigger(_libs_types__WEBPACK_IMPORTED_MODULE_0__.UIEventType.FrameBlur, {
            chatFrameId: chatFrameId
          });
        };
        var triggerFocus = function triggerFocus() {
          el.focus();
          // 已经focus了，不会再次出发，因此需要手动触发focus事件
          if (isFocused) {
            onFocus === null || onFocus === void 0 || onFocus();
          }
        };
        el.addEventListener("keydown", onKeyDown);
        el.addEventListener("keyup", onKeyUp);
        el.addEventListener("focus", onFocus);
        el.addEventListener("blur", onBlur);
        frameTarget.on(_libs_types__WEBPACK_IMPORTED_MODULE_0__.UIEventType.TriggerFocus, triggerFocus);
        el.setAttribute("tabindex", "0");
        setTimeout(function () {
          el.focus();
        }, 1000);
        return function () {
          el.removeEventListener("keydown", onKeyDown);
          el.removeEventListener("keyup", onKeyUp);
          el.removeEventListener("focus", onFocus);
          el.removeEventListener("blur", onBlur);
          frameTarget.off(_libs_types__WEBPACK_IMPORTED_MODULE_0__.UIEventType.TriggerFocus, triggerFocus);
        };
      }
    }
  }, [chatFrameId]);
};

/***/ }),

/***/ "./src/libs/framework/component/chat-framework/index.tsx":
/*!***************************************************************!*\
  !*** ./src/libs/framework/component/chat-framework/index.tsx ***!
  \***************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ChatFramework: function() { return /* binding */ ChatFramework; }
/* harmony export */ });
/* unused harmony export ChatContent */
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectSpread2.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectSpread2.js");
/* harmony import */ var _libs_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/libs/types */ "./src/libs/types/index.ts");
/* harmony import */ var _libs_services__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/libs/services */ "./src/libs/services/index.ts");
/* harmony import */ var _libs_provider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/libs/provider */ "./src/libs/provider/index.tsx");
/* harmony import */ var _chat_background__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../chat-background */ "./src/libs/framework/component/chat-background/index.tsx");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! classnames */ "./node_modules/.pnpm/classnames@2.5.1/node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _chat_slot__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../chat-slot */ "./src/libs/framework/component/chat-slot/index.tsx");
/* harmony import */ var _chat_loading__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../chat-loading */ "./src/libs/framework/component/chat-loading/index.tsx");
/* harmony import */ var _libs_ui_kit__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/libs/ui-kit */ "./src/libs/ui-kit/index.ts");
/* harmony import */ var _chat_footer__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../chat-footer */ "./src/libs/framework/component/chat-footer/index.tsx");
/* harmony import */ var _chat_header__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../chat-header */ "./src/libs/framework/component/chat-header/index.tsx");
/* harmony import */ var _tarojs_components__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @tarojs/components */ "./node_modules/.pnpm/@tarojs+plugin-platform-weapp@4.0.8_@tarojs+service@4.0.8_@swc+helpers@0.5.15__@tarojs+shared@4.0.8/node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js");
/* harmony import */ var _chat_toast__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../chat-toast */ "./src/libs/framework/component/chat-toast/index.tsx");
/* harmony import */ var _chat_modal__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../chat-modal */ "./src/libs/framework/component/chat-modal/index.tsx");
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/framework/component/chat-framework/index.module.less");
/* harmony import */ var _libs_utils__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @/libs/utils */ "./src/libs/utils/index.ts");
/* harmony import */ var _chat_error__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../chat-error */ "./src/libs/framework/component/chat-error/index.tsx");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var _tarojs_taro__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @tarojs/taro */ "./node_modules/.pnpm/@tarojs+taro@4.0.8_@tarojs+components@4.0.8_@tarojs+helper@4.0.8_@swc+helpers@0.5.15__@_28b4aa939e10f4882a0917541e7336fe/node_modules/@tarojs/taro/index.js");
/* harmony import */ var _tarojs_taro__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(_tarojs_taro__WEBPACK_IMPORTED_MODULE_16__);
/* harmony import */ var _hooks_use_web_keyboard_handle__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./hooks/use-web-keyboard-handle */ "./src/libs/framework/component/chat-framework/hooks/use-web-keyboard-handle.ts");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");


var _excluded = ["children"];





















var ChatFrameInit = function ChatFrameInit(_ref) {
  var children = _ref.children;
  var _useChatInfoStore = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_2__.useChatInfoStore)(function (store) {
      return {
        isLoading: store.isLoading,
        error: store.error
      };
    }),
    isLoading = _useChatInfoStore.isLoading,
    error = _useChatInfoStore.error;
  _libs_utils__WEBPACK_IMPORTED_MODULE_13__.logger.info("in chat frame init", {
    isLoading: isLoading,
    error: error
  });
  var _useChatInit = (0,_libs_services__WEBPACK_IMPORTED_MODULE_1__.useChatInit)(),
    retryChatInit = _useChatInit.retryChatInit;
  if (error) {
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_chat_error__WEBPACK_IMPORTED_MODULE_14__.ChatError, {
      retryChatInit: retryChatInit
    });
  }
  if (isLoading) {
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_chat_loading__WEBPACK_IMPORTED_MODULE_6__.ChatLoading, {});
  }
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.Fragment, {
    children: children
  });
};
var frameId = 1000;
var ChatContent = function ChatContent(_ref2) {
  var children = _ref2.children;
  var bgInfo = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_2__.useInitBgInfo)();
  var chatFrameId = (0,react__WEBPACK_IMPORTED_MODULE_15__.useMemo)(function () {
    return "chat_frame_".concat(frameId++);
  }, []);
  var isMobile = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_2__.useIsMobile)();
  var themeType = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_2__.useThemeType)();
  var onThemeChange = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_2__.useChatPropsStore)(function (store) {
    var _store$eventCallbacks;
    return (_store$eventCallbacks = store.eventCallbacks) === null || _store$eventCallbacks === void 0 ? void 0 : _store$eventCallbacks.onThemeChange;
  });
  var frameworkClassName = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_2__.useChatPropsStore)(function (store) {
    var _store$ui;
    return (_store$ui = store.ui) === null || _store$ui === void 0 ? void 0 : _store$ui.frameworkClassName;
  });
  var isBgTheme = themeType === "bg-theme";
  (0,_hooks_use_web_keyboard_handle__WEBPACK_IMPORTED_MODULE_17__.useWebKeyboardHandle)(chatFrameId);
  (0,react__WEBPACK_IMPORTED_MODULE_15__.useEffect)(function () {
    onThemeChange === null || onThemeChange === void 0 || onThemeChange(themeType);
  }, [themeType]);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsxs)(_libs_ui_kit__WEBPACK_IMPORTED_MODULE_7__.Spacing, {
    vertical: true,
    className: classnames__WEBPACK_IMPORTED_MODULE_4___default()(_index_module_less__WEBPACK_IMPORTED_MODULE_12__["default"].container, "light-theme chat-root", {
      "bg-theme": isBgTheme,
      "bg-mobile": isMobile
    }, frameworkClassName),
    onClick: function onClick() {
      _tarojs_taro__WEBPACK_IMPORTED_MODULE_16__.eventCenter.trigger(_libs_types__WEBPACK_IMPORTED_MODULE_0__.UIEventType.FrameClick);
    },
    id: chatFrameId,
    children: [isBgTheme ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_chat_background__WEBPACK_IMPORTED_MODULE_3__.ChatBackground, (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_19__["default"])({}, bgInfo)) : null, /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_chat_header__WEBPACK_IMPORTED_MODULE_9__.ChatHeader, {}), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_20__.View, {
      className: _index_module_less__WEBPACK_IMPORTED_MODULE_12__["default"].chat,
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(ChatFrameInit, {
        children: children || /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_chat_slot__WEBPACK_IMPORTED_MODULE_5__.ChatSlot, {})
      })
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_chat_footer__WEBPACK_IMPORTED_MODULE_8__.ChatFooter, {}), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_chat_toast__WEBPACK_IMPORTED_MODULE_10__.ChatToast, {}), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_chat_modal__WEBPACK_IMPORTED_MODULE_11__.ChatModal, {})]
  });
};
var ChatFramework = function ChatFramework(_ref3) {
  var children = _ref3.children,
    props = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_21__["default"])(_ref3, _excluded);
  _libs_utils__WEBPACK_IMPORTED_MODULE_13__.logger.info("SdkVersion: 0.1.3-alpha.2025021406");
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_libs_provider__WEBPACK_IMPORTED_MODULE_2__.ChatFrameProvider, (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_19__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_19__["default"])({}, props), {}, {
    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(ChatContent, {
      children: children
    })
  }));
};

/***/ }),

/***/ "./src/libs/framework/component/chat-group-list/chat-group/index.tsx":
/*!***************************************************************************!*\
  !*** ./src/libs/framework/component/chat-group-list/chat-group/index.tsx ***!
  \***************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ChatGroup: function() { return /* binding */ ChatGroup; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _libs_ui_kit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/libs/ui-kit */ "./src/libs/ui-kit/index.ts");
/* harmony import */ var _resp_message_list__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../resp-message-list */ "./src/libs/framework/component/chat-group-list/resp-message-list/index.tsx");
/* harmony import */ var _query_message__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../query-message */ "./src/libs/framework/component/chat-group-list/query-message/index.tsx");
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/framework/component/chat-group-list/chat-group/index.module.less");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");






var ChatGroup = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(function (_ref) {
  var _chatGroup$query;
  var chatGroup = _ref.chatGroup,
    _ref$isProcessing = _ref.isProcessing,
    isProcessing = _ref$isProcessing === void 0 ? false : _ref$isProcessing,
    _ref$isLastMessage = _ref.isLastMessage,
    isLastMessage = _ref$isLastMessage === void 0 ? false : _ref$isLastMessage,
    _ref$isShowSuggestion = _ref.isShowSuggestion,
    isShowSuggestion = _ref$isShowSuggestion === void 0 ? false : _ref$isShowSuggestion;
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(_libs_ui_kit__WEBPACK_IMPORTED_MODULE_1__.Spacing, {
    vertical: true,
    gap: 16,
    className: _index_module_less__WEBPACK_IMPORTED_MODULE_4__["default"]["chat-group"],
    children: [chatGroup.query ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_query_message__WEBPACK_IMPORTED_MODULE_3__.QueryMessage, {
      message: chatGroup.query,
      isAWaiting: isProcessing || false,
      hasRespMessage: !!chatGroup.respMessages.length,
      isLastMessage: isLastMessage
    }) : null, /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_resp_message_list__WEBPACK_IMPORTED_MODULE_2__.RespMessageList, {
      messages: chatGroup.respMessages,
      isLastMessage: isLastMessage
      // 当进行中，同时已经消息有返回了，则认为等待接收消息中
      ,
      isAWaiting: isProcessing && !!((_chatGroup$query = chatGroup.query) !== null && _chatGroup$query !== void 0 && _chatGroup$query.chat_id),
      isShowSuggestion: isShowSuggestion
    })]
  });
});

/***/ }),

/***/ "./src/libs/framework/component/chat-group-list/command/comman-tooltip/index.tsx":
/*!***************************************************************************************!*\
  !*** ./src/libs/framework/component/chat-group-list/command/comman-tooltip/index.tsx ***!
  \***************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CommandTooltip: function() { return /* binding */ CommandTooltip; }
/* harmony export */ });
/* harmony import */ var _libs_provider__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/libs/provider */ "./src/libs/provider/index.tsx");
/* harmony import */ var _libs_ui_kit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/libs/ui-kit */ "./src/libs/ui-kit/index.ts");
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/framework/component/chat-group-list/command/comman-tooltip/index.module.less");
/* harmony import */ var _command_audio__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../command-audio */ "./src/libs/framework/component/chat-group-list/command/command-audio/index.tsx");
/* harmony import */ var _command_copy__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../command-copy */ "./src/libs/framework/component/chat-group-list/command/command-copy/index.tsx");
/* harmony import */ var _tarojs_components__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @tarojs/components */ "./node_modules/.pnpm/@tarojs+plugin-platform-weapp@4.0.8_@tarojs+service@4.0.8_@swc+helpers@0.5.15__@tarojs+shared@4.0.8/node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");







var CommandTooltip = function CommandTooltip(_ref) {
  var children = _ref.children,
    message = _ref.message,
    isActive = _ref.isActive;
  var isMobile = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_0__.useIsMobile)();
  var content = !isMobile ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(PcCommandContent, {
    message: message
  }) : /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(MobileCommandContent, {
    message: message
  });
  var direction = !isMobile ? "bottom" : "top";
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_libs_ui_kit__WEBPACK_IMPORTED_MODULE_1__.Tooltip, {
    content: content,
    type: !isMobile ? "hover" : "longtap",
    isActive: message.content_type === "text" && isActive && message.content !== "",
    direction: direction,
    children: children
  });
};
var PcCommandContent = function PcCommandContent(_ref2) {
  var message = _ref2.message;
  var isNeedTextToAudio = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_0__.useIsNeedTextToAudio)();
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(_libs_ui_kit__WEBPACK_IMPORTED_MODULE_1__.Spacing, {
    className: _index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"]["pc-content"],
    gap: 4,
    children: [isNeedTextToAudio ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(CommandContainer, {
      width: 24,
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_command_audio__WEBPACK_IMPORTED_MODULE_3__.CommandAudio, {
        text: message.content,
        svgTheme: "gray-bold",
        isNeedHover: true
      })
    }) : null, /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(CommandContainer, {
      width: 24,
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_command_copy__WEBPACK_IMPORTED_MODULE_4__.CommandCopy, {
        text: message.content,
        svgTheme: "gray-bold",
        isNeedHover: true
      })
    })]
  });
};
var MobileCommandContent = function MobileCommandContent(_ref3) {
  var message = _ref3.message;
  var isNeedTextToAudio = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_0__.useIsNeedTextToAudio)();
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(_libs_ui_kit__WEBPACK_IMPORTED_MODULE_1__.Spacing, {
    className: _index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"]["mobile-content"],
    vertical: true,
    children: [isNeedTextToAudio ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(CommandContainer, {
      width: 100,
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_command_audio__WEBPACK_IMPORTED_MODULE_3__.CommandAudio, {
        text: message.content,
        svgTheme: "gray-bold",
        isShowText: true,
        isNeedHover: true
      })
    }) : null, /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(CommandContainer, {
      width: 100,
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_command_copy__WEBPACK_IMPORTED_MODULE_4__.CommandCopy, {
        text: message.content,
        svgTheme: "gray-bold",
        isShowText: true,
        isNeedHover: true
      })
    })]
  });
};
var CommandContainer = function CommandContainer(_ref4) {
  var children = _ref4.children,
    width = _ref4.width;
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_6__.View, {
    style: {
      width: width || 24,
      height: 24
    },
    children: children
  });
};

/***/ }),

/***/ "./src/libs/framework/component/chat-group-list/command/command-audio/index.tsx":
/*!**************************************************************************************!*\
  !*** ./src/libs/framework/component/chat-group-list/command/command-audio/index.tsx ***!
  \**************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CommandAudio: function() { return /* binding */ CommandAudio; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/slicedToArray.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var _libs_services__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/libs/services */ "./src/libs/services/index.ts");
/* harmony import */ var _libs_ui_kit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/libs/ui-kit */ "./src/libs/ui-kit/index.ts");
/* harmony import */ var _libs_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/libs/utils */ "./src/libs/utils/index.ts");
/* harmony import */ var _tarojs_components__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @tarojs/components */ "./node_modules/.pnpm/@tarojs+plugin-platform-weapp@4.0.8_@tarojs+service@4.0.8_@swc+helpers@0.5.15__@tarojs+shared@4.0.8/node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/framework/component/chat-group-list/command/command-audio/index.module.less");
/* harmony import */ var _libs_provider__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/libs/provider */ "./src/libs/provider/index.tsx");
/* harmony import */ var _libs_ui_kit_atomic_disable_container__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/libs/ui-kit/atomic/disable-container */ "./src/libs/ui-kit/atomic/disable-container/index.tsx");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! classnames */ "./node_modules/.pnpm/classnames@2.5.1/node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _libs_provider_context_chat_store_context__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/libs/provider/context/chat-store-context */ "./src/libs/provider/context/chat-store-context.tsx");
/* harmony import */ var _libs_hooks__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/libs/hooks */ "./src/libs/hooks/index.ts");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");















var AudioComp = function AudioComp(_ref) {
  var isPlaying = _ref.isPlaying,
    isLoading = _ref.isLoading,
    svgTheme = _ref.svgTheme;
  if (isLoading) {
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_libs_ui_kit__WEBPACK_IMPORTED_MODULE_1__.Spinning, {
      size: "small"
    });
  }
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_libs_ui_kit__WEBPACK_IMPORTED_MODULE_1__.AudioPlay, {
    isPlaying: isPlaying,
    theme: svgTheme
  });
};
var CommandAudio = function CommandAudio(_ref2) {
  var text = _ref2.text,
    isShowText = _ref2.isShowText,
    svgTheme = _ref2.svgTheme,
    isNeedHover = _ref2.isNeedHover,
    className = _ref2.className;
  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false),
    _useState2 = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_11__["default"])(_useState, 2),
    isPlaying = _useState2[0],
    setIsPlaying = _useState2[1];
  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false),
    _useState4 = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_11__["default"])(_useState3, 2),
    isLoading = _useState4[0],
    setIsLoading = _useState4[1];
  var refPlayAudio = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);
  var _useAudioSpeech = (0,_libs_services__WEBPACK_IMPORTED_MODULE_0__.useAudioSpeech)(),
    audioSpeech = _useAudioSpeech.audioSpeech;
  var refPlaying = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(false);
  var i18n = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_5__.useI18n)();
  var targetFrameEvent = (0,_libs_provider_context_chat_store_context__WEBPACK_IMPORTED_MODULE_8__.useUiEventStore)(function (store) {
    return store.event;
  });
  var isAudioRecording = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_5__.useChatStatusStore)(function (store) {
    return store.isAudioRecording;
  });
  refPlaying.current = isPlaying;
  var handleError = (0,_libs_hooks__WEBPACK_IMPORTED_MODULE_9__.usePersistCallback)(function () {
    (0,_libs_utils__WEBPACK_IMPORTED_MODULE_2__.showToast)({
      content: i18n.t("playVoiceFail"),
      icon: "error"
    }, targetFrameEvent);
  });
  (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(function () {
    if (!isPlaying) {
      return;
    }
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_12__["default"])(/*#__PURE__*/(0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_13__["default"])().mark(function _callee() {
      return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_13__["default"])().wrap(function _callee$(_context) {
        while (1) switch (_context.prev = _context.next) {
          case 0:
            _context.prev = 0;
            setIsLoading(true);
            if (!refPlayAudio.current) {
              refPlayAudio.current = new _libs_utils__WEBPACK_IMPORTED_MODULE_2__.PlayAudio();
            }
            _context.next = 5;
            return refPlayAudio.current.playText(text, audioSpeech);
          case 5:
            refPlayAudio.current.on(_libs_utils__WEBPACK_IMPORTED_MODULE_2__.AudioPlayEvent.STOP, function (res) {
              _libs_utils__WEBPACK_IMPORTED_MODULE_2__.logger.debug("CommandAudio Stop Audio Play", res);
              if (res.isError) {
                handleError();
              }
              setIsPlaying(false);
            });
            _context.next = 12;
            break;
          case 8:
            _context.prev = 8;
            _context.t0 = _context["catch"](0);
            //如果失败
            handleError();
            setIsPlaying(false);
          case 12:
            setIsLoading(false);
          case 13:
          case "end":
            return _context.stop();
        }
      }, _callee, null, [[0, 8]]);
    }))();
    return function () {
      var _refPlayAudio$current;
      //暂停播放
      (_refPlayAudio$current = refPlayAudio.current) === null || _refPlayAudio$current === void 0 || _refPlayAudio$current.stop();
      setIsLoading(false);
      setIsPlaying(false);
    };
  }, [isPlaying]);
  if (!text) return null;
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_libs_ui_kit_atomic_disable_container__WEBPACK_IMPORTED_MODULE_6__.DisableContainer, {
    disabled: isAudioRecording,
    className: classnames__WEBPACK_IMPORTED_MODULE_7___default()(_index_module_less__WEBPACK_IMPORTED_MODULE_4__["default"].container, className),
    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)(_libs_ui_kit__WEBPACK_IMPORTED_MODULE_1__.Spacing, {
      className: _index_module_less__WEBPACK_IMPORTED_MODULE_4__["default"].container,
      width100: true,
      onClick: function onClick() {
        setIsPlaying(!isPlaying);
      },
      gap: 8,
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_libs_ui_kit__WEBPACK_IMPORTED_MODULE_1__.IconButton, {
        size: "small",
        type: "square-hover-btn",
        hoverTheme: isNeedHover ? "hover" : "none",
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(AudioComp, {
          isLoading: isLoading,
          isPlaying: isPlaying,
          svgTheme: svgTheme
        })
      }), isShowText ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_14__.Text, {
        className: _index_module_less__WEBPACK_IMPORTED_MODULE_4__["default"]["text"],
        numberOfLines: 1,
        maxLines: 1,
        overflow: "ellipsis",
        children: i18n.t("playVoice")
      }) : null]
    })
  });
};

/***/ }),

/***/ "./src/libs/framework/component/chat-group-list/command/command-copy/index.tsx":
/*!*************************************************************************************!*\
  !*** ./src/libs/framework/component/chat-group-list/command/command-copy/index.tsx ***!
  \*************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CommandCopy: function() { return /* binding */ CommandCopy; }
/* harmony export */ });
/* harmony import */ var _libs_ui_kit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/libs/ui-kit */ "./src/libs/ui-kit/index.ts");
/* harmony import */ var _libs_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/libs/utils */ "./src/libs/utils/index.ts");
/* harmony import */ var _tarojs_components__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @tarojs/components */ "./node_modules/.pnpm/@tarojs+plugin-platform-weapp@4.0.8_@tarojs+service@4.0.8_@swc+helpers@0.5.15__@tarojs+shared@4.0.8/node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js");
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/framework/component/chat-group-list/command/command-copy/index.module.less");
/* harmony import */ var _libs_ui_kit_atomic_disable_container__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/libs/ui-kit/atomic/disable-container */ "./src/libs/ui-kit/atomic/disable-container/index.tsx");
/* harmony import */ var _libs_ui_kit_atomic_svg__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/libs/ui-kit/atomic/svg */ "./src/libs/ui-kit/atomic/svg/index.tsx");
/* harmony import */ var _libs_provider_context_chat_store_context__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/libs/provider/context/chat-store-context */ "./src/libs/provider/context/chat-store-context.tsx");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! classnames */ "./node_modules/.pnpm/classnames@2.5.1/node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _tarojs_taro__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @tarojs/taro */ "./node_modules/.pnpm/@tarojs+taro@4.0.8_@tarojs+components@4.0.8_@tarojs+helper@4.0.8_@swc+helpers@0.5.15__@_28b4aa939e10f4882a0917541e7336fe/node_modules/@tarojs/taro/index.js");
/* harmony import */ var _tarojs_taro__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_tarojs_taro__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _libs_types__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/libs/types */ "./src/libs/types/index.ts");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");











var CommandCopy = function CommandCopy(_ref) {
  var text = _ref.text,
    isShowText = _ref.isShowText,
    svgTheme = _ref.svgTheme,
    isNeedHover = _ref.isNeedHover,
    className = _ref.className;
  var targetEventCenter = (0,_libs_provider_context_chat_store_context__WEBPACK_IMPORTED_MODULE_5__.useUiEventStore)(function (store) {
    return store.event;
  });
  var i18n = (0,_libs_provider_context_chat_store_context__WEBPACK_IMPORTED_MODULE_5__.useI18n)();
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_libs_ui_kit_atomic_disable_container__WEBPACK_IMPORTED_MODULE_3__.DisableContainer, {
    className: classnames__WEBPACK_IMPORTED_MODULE_6___default()(_index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"].container, className),
    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxs)(_libs_ui_kit__WEBPACK_IMPORTED_MODULE_0__.Spacing, {
      width100: true,
      onClick: function onClick(event) {
        event.stopPropagation();
        _tarojs_taro__WEBPACK_IMPORTED_MODULE_7___default().eventCenter.trigger(_libs_types__WEBPACK_IMPORTED_MODULE_8__.UIEventType.FrameClick);
        (0,_libs_utils__WEBPACK_IMPORTED_MODULE_1__.setClipboardData)({
          data: text,
          success: function success(isUseWeb) {
            if (isUseWeb) {
              (0,_libs_utils__WEBPACK_IMPORTED_MODULE_1__.showToast)({
                content: i18n.t("copySuccess"),
                icon: "success"
              }, targetEventCenter);
            }
          },
          fail: function fail() {
            (0,_libs_utils__WEBPACK_IMPORTED_MODULE_1__.showToast)({
              content: i18n.t("copyFailed"),
              icon: "error"
            }, targetEventCenter);
          }
        });
      },
      gap: 8,
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_libs_ui_kit__WEBPACK_IMPORTED_MODULE_0__.IconButton, {
        size: "small",
        type: "square-hover-btn",
        hoverTheme: isNeedHover ? "hover" : "none",
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_libs_ui_kit_atomic_svg__WEBPACK_IMPORTED_MODULE_4__.SvgCopy, {
          theme: svgTheme
        })
      }), isShowText ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_10__.Text, {
        className: _index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"]["text"],
        numberOfLines: 1,
        maxLines: 1,
        overflow: "ellipsis",
        children: i18n.t("copyText")
      }) : null]
    })
  });
};

/***/ }),

/***/ "./src/libs/framework/component/chat-group-list/index.tsx":
/*!****************************************************************!*\
  !*** ./src/libs/framework/component/chat-group-list/index.tsx ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ChatGroupList: function() { return /* binding */ ChatGroupList; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/.pnpm/classnames@2.5.1/node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _tarojs_components__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @tarojs/components */ "./node_modules/.pnpm/@tarojs+plugin-platform-weapp@4.0.8_@tarojs+service@4.0.8_@swc+helpers@0.5.15__@tarojs+shared@4.0.8/node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js");
/* harmony import */ var _libs_provider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/libs/provider */ "./src/libs/provider/index.tsx");
/* harmony import */ var _prologue_group__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./prologue-group */ "./src/libs/framework/component/chat-group-list/prologue-group/index.tsx");
/* harmony import */ var _chat_group__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./chat-group */ "./src/libs/framework/component/chat-group-list/chat-group/index.tsx");
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/framework/component/chat-group-list/index.module.less");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");









var ChatGroups = function ChatGroups(_ref) {
  var chatMessageGroups = _ref.chatMessageGroups,
    className = _ref.className;
  var _useConversationStore = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_2__.useConversationStore)(function (store) {
      return {
        hasInProcessChatMessageGroup: !!store.inProcessChatMessageGroup,
        sectionId: store.sectionId
      };
    }),
    hasInProcessChatMessageGroup = _useConversationStore.hasInProcessChatMessageGroup,
    sectionId = _useConversationStore.sectionId;
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_7__.View, {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(_index_module_less__WEBPACK_IMPORTED_MODULE_5__["default"]["chat-group"], className),
    children: chatMessageGroups.map(function (item, index) {
      return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, {
        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_chat_group__WEBPACK_IMPORTED_MODULE_4__.ChatGroup, {
          chatGroup: item,
          isLastMessage: index === chatMessageGroups.length - 1 && !hasInProcessChatMessageGroup,
          isShowSuggestion:
          // 如果是最后一个，同时没有进行中消息，同时section是一条数据，则展示suggestion;
          index === chatMessageGroups.length - 1 && !hasInProcessChatMessageGroup && sectionId === item.sectionId
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_prologue_group__WEBPACK_IMPORTED_MODULE_3__.SectionPrologueGroup, {
          chatMessageGroupNow: item,
          chatMessageGroupNext: chatMessageGroups[index + 1]
        })]
      }, item.id);
    })
  });
};
var InProcessingChatMessageGroup = function InProcessingChatMessageGroup() {
  var _useConversationStore2 = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_2__.useConversationStore)(function (store) {
      return {
        inProcessChatMessageGroup: store.inProcessChatMessageGroup
      };
    }),
    inProcessChatMessageGroup = _useConversationStore2.inProcessChatMessageGroup;
  if (!inProcessChatMessageGroup) {
    return null;
  }
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_chat_group__WEBPACK_IMPORTED_MODULE_4__.ChatGroup, {
    chatGroup: inProcessChatMessageGroup,
    isLastMessage: true,
    isProcessing: true,
    isShowSuggestion: true
  });
};
var ChatGroupList = function ChatGroupList() {
  var _useConversationStore3 = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_2__.useConversationStore)(function (store) {
      return {
        chatMessageGroups: store.chatMessageGroups
      };
    }),
    chatMessageGroups = _useConversationStore3.chatMessageGroups;
  var isMobile = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_2__.useIsMobile)();
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(_tarojs_components__WEBPACK_IMPORTED_MODULE_7__.View, {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(_index_module_less__WEBPACK_IMPORTED_MODULE_5__["default"].container, (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_8__["default"])({}, _index_module_less__WEBPACK_IMPORTED_MODULE_5__["default"].mobile, isMobile)),
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_prologue_group__WEBPACK_IMPORTED_MODULE_3__.TopPrologueGroup, {}), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(ChatGroups, {
      chatMessageGroups: chatMessageGroups
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(InProcessingChatMessageGroup, {})]
  });
};

/***/ }),

/***/ "./src/libs/framework/component/chat-group-list/prologue-group/index.tsx":
/*!*******************************************************************************!*\
  !*** ./src/libs/framework/component/chat-group-list/prologue-group/index.tsx ***!
  \*******************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SectionPrologueGroup: function() { return /* binding */ SectionPrologueGroup; },
/* harmony export */   TopPrologueGroup: function() { return /* binding */ TopPrologueGroup; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _libs_services__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/libs/services */ "./src/libs/services/index.ts");
/* harmony import */ var _libs_provider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/libs/provider */ "./src/libs/provider/index.tsx");
/* harmony import */ var _chat_group__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../chat-group */ "./src/libs/framework/component/chat-group-list/chat-group/index.tsx");
/* harmony import */ var _tarojs_components__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @tarojs/components */ "./node_modules/.pnpm/@tarojs+plugin-platform-weapp@4.0.8_@tarojs+service@4.0.8_@swc+helpers@0.5.15__@tarojs+shared@4.0.8/node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js");
/* harmony import */ var _libs_ui_kit__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/libs/ui-kit */ "./src/libs/ui-kit/index.ts");
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/framework/component/chat-group-list/prologue-group/index.module.less");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");







// section分隔线以及

var SectionPrologueGroup = function SectionPrologueGroup(_ref) {
  var chatMessageGroupNow = _ref.chatMessageGroupNow,
    chatMessageGroupNext = _ref.chatMessageGroupNext;
  var _useConversationStore = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_2__.useConversationStore)(function (store) {
      return {
        hasInProcessChatMessageGroup: !!store.inProcessChatMessageGroup,
        sectionId: store.sectionId
      };
    }),
    hasInProcessChatMessageGroup = _useConversationStore.hasInProcessChatMessageGroup,
    sectionId = _useConversationStore.sectionId;
  var isShowDivide = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {
    if (chatMessageGroupNext) {
      if (chatMessageGroupNext.sectionId !== chatMessageGroupNow.sectionId) {
        return true;
      }
    } else if (chatMessageGroupNow.sectionId !== sectionId) {
      return true;
    }
    return false;
  }, [chatMessageGroupNow, chatMessageGroupNext, sectionId]);
  var isShowSuggestion = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {
    if (isShowDivide && !hasInProcessChatMessageGroup && !chatMessageGroupNext) {
      return true;
    }
    return false;
  }, [isShowDivide, hasInProcessChatMessageGroup, chatMessageGroupNext, sectionId]);
  var nextSectionId = (chatMessageGroupNext === null || chatMessageGroupNext === void 0 ? void 0 : chatMessageGroupNext.sectionId) || sectionId;
  if (!isShowDivide) {
    return null;
  }
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(PrologueChatMessage, {
    isShowDivide: isShowDivide,
    isShowSuggestion: isShowSuggestion,
    nextSectionId: nextSectionId
  });
};
var PrologueChatMessage = function PrologueChatMessage(_ref2) {
  var isShowDivide = _ref2.isShowDivide,
    isShowSuggestion = _ref2.isShowSuggestion,
    nextSectionId = _ref2.nextSectionId;
  var prologueChatGroup = (0,_libs_services__WEBPACK_IMPORTED_MODULE_1__.useCreatePrologueMessage)(nextSectionId);
  var i18n = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_2__.useI18n)();
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(_tarojs_components__WEBPACK_IMPORTED_MODULE_7__.View, {
    children: [isShowDivide ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(_libs_ui_kit__WEBPACK_IMPORTED_MODULE_4__.Spacing, {
      gap: 20,
      className: _index_module_less__WEBPACK_IMPORTED_MODULE_5__["default"]["divide-container"],
      verticalCenter: true,
      horizontalCenter: true,
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_7__.View, {
        className: _index_module_less__WEBPACK_IMPORTED_MODULE_5__["default"]["divide-line"]
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_7__.Text, {
        children: i18n.t("clearContextDivide")
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_7__.View, {
        className: _index_module_less__WEBPACK_IMPORTED_MODULE_5__["default"]["divide-line"]
      })]
    }) : null, prologueChatGroup ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_chat_group__WEBPACK_IMPORTED_MODULE_3__.ChatGroup, {
      chatGroup: prologueChatGroup,
      isShowSuggestion: isShowSuggestion
    }) : null]
  });
};
var TopPrologueGroup = function TopPrologueGroup() {
  var _useConversationStore2 = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_2__.useConversationStore)(function (store) {
      return {
        isShowOnBoarding: store.isShowOnBoarding,
        chatMessageGroups: store.chatMessageGroups,
        inProcessChatMessageGroup: store.inProcessChatMessageGroup,
        prevHasMore: store.prevHasMore
      };
    }),
    isShowOnBoarding = _useConversationStore2.isShowOnBoarding,
    prevHasMore = _useConversationStore2.prevHasMore;
  if (isShowOnBoarding() || prevHasMore) {
    return null;
  }
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(PrologueChatMessage, {
    isShowDivide: false,
    isShowSuggestion: false
  });
};

/***/ }),

/***/ "./src/libs/framework/component/chat-group-list/query-message/index.tsx":
/*!******************************************************************************!*\
  !*** ./src/libs/framework/component/chat-group-list/query-message/index.tsx ***!
  \******************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   QueryMessage: function() { return /* binding */ QueryMessage; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _tarojs_components__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @tarojs/components */ "./node_modules/.pnpm/@tarojs+plugin-platform-weapp@4.0.8_@tarojs+service@4.0.8_@swc+helpers@0.5.15__@tarojs+shared@4.0.8/node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js");
/* harmony import */ var _libs_ui_kit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/libs/ui-kit */ "./src/libs/ui-kit/index.ts");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ "./node_modules/.pnpm/classnames@2.5.1/node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/framework/component/chat-group-list/query-message/index.module.less");
/* harmony import */ var _libs_provider__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/libs/provider */ "./src/libs/provider/index.tsx");
/* harmony import */ var _libs_services__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/libs/services */ "./src/libs/services/index.ts");
/* harmony import */ var _command_comman_tooltip__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../command/comman-tooltip */ "./src/libs/framework/component/chat-group-list/command/comman-tooltip/index.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");










var QueryMessage = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(function (_ref) {
  var message = _ref.message,
    _ref$isAWaiting = _ref.isAWaiting,
    isAWaiting = _ref$isAWaiting === void 0 ? false : _ref$isAWaiting,
    hasRespMessage = _ref.hasRespMessage,
    _ref$isLastMessage = _ref.isLastMessage,
    isLastMessage = _ref$isLastMessage === void 0 ? false : _ref$isLastMessage;
  var userInfo = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_4__.useUserInfoStore)(function (store) {
    return store.info;
  });
  var _useSendMessage = (0,_libs_services__WEBPACK_IMPORTED_MODULE_5__.useSendMessage)(),
    reSendLastErrorMessage = _useSendMessage.reSendLastErrorMessage;
  var isShowError = message.error && !hasRespMessage;
  var isShowLoading = !isShowError && isAWaiting && !message.chat_id;
  var _useSendMessage2 = (0,_libs_services__WEBPACK_IMPORTED_MODULE_5__.useSendMessage)(),
    sendTextMessage = _useSendMessage2.sendTextMessage;
  var onImageClick = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_4__.useChatPropsStore)(function (store) {
    var _store$eventCallbacks;
    return (_store$eventCallbacks = store.eventCallbacks) === null || _store$eventCallbacks === void 0 ? void 0 : _store$eventCallbacks.onImageClick;
  });
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_libs_ui_kit__WEBPACK_IMPORTED_MODULE_1__.MessageContainer, {
    senderInfo: userInfo || undefined,
    className: _index_module_less__WEBPACK_IMPORTED_MODULE_3__["default"]["query-container"],
    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)(_tarojs_components__WEBPACK_IMPORTED_MODULE_8__.View, {
      className: _index_module_less__WEBPACK_IMPORTED_MODULE_3__["default"]["query-message"],
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_command_comman_tooltip__WEBPACK_IMPORTED_MODULE_6__.CommandTooltip, {
        message: message,
        isActive: !message.isAudioTranslatingToText,
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_libs_ui_kit__WEBPACK_IMPORTED_MODULE_1__.MessageContent, {
          message: message,
          onImageClick: onImageClick,
          sendTextMessage: sendTextMessage
        })
      }), isShowLoading ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_libs_ui_kit__WEBPACK_IMPORTED_MODULE_1__.Spinning, {
        className: _index_module_less__WEBPACK_IMPORTED_MODULE_3__["default"]["state-slot"],
        size: "small"
      }) : null, isShowError ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_libs_ui_kit__WEBPACK_IMPORTED_MODULE_1__.SvgError, {
        className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(_index_module_less__WEBPACK_IMPORTED_MODULE_3__["default"]["state-slot"], (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_9__["default"])({}, _index_module_less__WEBPACK_IMPORTED_MODULE_3__["default"].disable, !isLastMessage)),
        onClick: function onClick() {
          return isLastMessage && (reSendLastErrorMessage === null || reSendLastErrorMessage === void 0 ? void 0 : reSendLastErrorMessage());
        }
      }) : null]
    })
  });
});

/***/ }),

/***/ "./src/libs/framework/component/chat-group-list/resp-message-list/index.tsx":
/*!**********************************************************************************!*\
  !*** ./src/libs/framework/component/chat-group-list/resp-message-list/index.tsx ***!
  \**********************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   RespMessageList: function() { return /* binding */ RespMessageList; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _libs_ui_kit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/libs/ui-kit */ "./src/libs/ui-kit/index.ts");
/* harmony import */ var _libs_provider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/libs/provider */ "./src/libs/provider/index.tsx");
/* harmony import */ var _suggestion_list__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../suggestion-list */ "./src/libs/framework/component/chat-group-list/suggestion-list/index.tsx");
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/framework/component/chat-group-list/resp-message-list/index.module.less");
/* harmony import */ var _command_command_audio__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../command/command-audio */ "./src/libs/framework/component/chat-group-list/command/command-audio/index.tsx");
/* harmony import */ var _command_comman_tooltip__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../command/comman-tooltip */ "./src/libs/framework/component/chat-group-list/command/comman-tooltip/index.tsx");
/* harmony import */ var _command_command_copy__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../command/command-copy */ "./src/libs/framework/component/chat-group-list/command/command-copy/index.tsx");
/* harmony import */ var _libs_services__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/libs/services */ "./src/libs/services/index.ts");
/* harmony import */ var _libs_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/libs/utils */ "./src/libs/utils/index.ts");
/* harmony import */ var _libs_hooks__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/libs/hooks */ "./src/libs/hooks/index.ts");
/* harmony import */ var _libs_provider_context__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @/libs/provider/context */ "./src/libs/provider/context/index.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");













var RespMessageList = function RespMessageList(_ref) {
  var messages = _ref.messages,
    isAWaiting = _ref.isAWaiting,
    isShowSuggestion = _ref.isShowSuggestion,
    isLastMessage = _ref.isLastMessage;
  var appInfo = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_2__.useChatInfoStore)(function (info) {
    return info.info;
  });
  var cdnBaseUrlPath = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_2__.useChatPropsStore)(function (store) {
    var _store$setting;
    return (_store$setting = store.setting) === null || _store$setting === void 0 ? void 0 : _store$setting.cdnBaseUrlPath;
  });
  var messageUiConfigMap = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_2__.useChatPropsStore)(function (store) {
    var _store$ui;
    return (_store$ui = store.ui) === null || _store$ui === void 0 || (_store$ui = _store$ui.chatSlot) === null || _store$ui === void 0 ? void 0 : _store$ui.message;
  });
  var answerMessages = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {
    return messages.filter(function (item) {
      return (0,_libs_ui_kit__WEBPACK_IMPORTED_MODULE_1__.isSupportAnswerMessage)(item, messageUiConfigMap);
    });
  }, [messages]);
  var followUpMessages = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {
    return messages.filter(function (item) {
      return item.type === "follow_up" && item.content;
    }).slice(0, 3);
  }, [messages]);
  if (!isAWaiting && answerMessages.length === 0 && followUpMessages.length === 0) {
    // 兜底
    // 没有回答
    return null;
  }
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_libs_ui_kit__WEBPACK_IMPORTED_MODULE_1__.MessageContainer, {
    className: _index_module_less__WEBPACK_IMPORTED_MODULE_4__["default"]["resp-container"],
    senderInfo: {
      name: (appInfo === null || appInfo === void 0 ? void 0 : appInfo.name) || "",
      avatar: (appInfo === null || appInfo === void 0 ? void 0 : appInfo.icon_url) || (0,_libs_utils__WEBPACK_IMPORTED_MODULE_9__.getCdnUrl)(cdnBaseUrlPath, "assets/imgs/coze-logo.png"),
      id: (appInfo === null || appInfo === void 0 ? void 0 : appInfo.appId) || ""
    },
    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(RespMessageListContent, {
      isAWaiting: isAWaiting,
      isShowSuggestion: isShowSuggestion,
      followUpMessages: followUpMessages,
      answerMessages: answerMessages,
      isLastMessage: isLastMessage
    })
  });
};
var RespMessageListContent = function RespMessageListContent(_ref2) {
  var answerMessages = _ref2.answerMessages,
    followUpMessages = _ref2.followUpMessages,
    isAWaiting = _ref2.isAWaiting,
    isShowSuggestion = _ref2.isShowSuggestion,
    isLastMessage = _ref2.isLastMessage;
  var isNeedTextToAudio = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_2__.useIsNeedTextToAudio)();
  var onImageClick = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_2__.useChatPropsStore)(function (store) {
    var _store$eventCallbacks;
    return (_store$eventCallbacks = store.eventCallbacks) === null || _store$eventCallbacks === void 0 ? void 0 : _store$eventCallbacks.onImageClick;
  });
  var setTaskList = (0,_libs_provider_context__WEBPACK_IMPORTED_MODULE_11__.useChatInputStore)(function (store) {
    return store.setTaskList;
  });
  var messageUiConfigMap = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_2__.useChatPropsStore)(function (store) {
    var _store$ui2;
    return (_store$ui2 = store.ui) === null || _store$ui2 === void 0 || (_store$ui2 = _store$ui2.chatSlot) === null || _store$ui2 === void 0 ? void 0 : _store$ui2.message;
  });
  var i18n = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_2__.useI18n)();
  var themeType = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_2__.useThemeType)();
  var isReadOnly = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_2__.useChatPropsStore)(function (store) {
    var _store$ui3;
    return (_store$ui3 = store.ui) === null || _store$ui3 === void 0 ? void 0 : _store$ui3.isReadonly;
  });
  var _useSendMessage = (0,_libs_services__WEBPACK_IMPORTED_MODULE_8__.useSendMessage)(),
    sendTextMessage = _useSendMessage.sendTextMessage;
  var onMessageTaskChange = (0,_libs_hooks__WEBPACK_IMPORTED_MODULE_10__.usePersistCallback)(function (taskInfoProps) {
    setTaskList(taskInfoProps);
    _libs_utils__WEBPACK_IMPORTED_MODULE_9__.logger.debug("RespMessageListContent Task Select", taskInfoProps);
  });
  var svgTheme = themeType === "light" ? "dark" : "light";
  var allText = answerMessages.filter(function (item) {
    return item.content_type === "text";
  }).map(function (item) {
    return item.content;
  }).join("");
  var isNeedWaitingMessage = isAWaiting && !answerMessages.some(function (item) {
    return !item.isComplete;
  });
  if (isAWaiting && answerMessages.length === 0 && followUpMessages.length === 0) {
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_libs_ui_kit__WEBPACK_IMPORTED_MODULE_1__.WaitingMessage, {});
  }
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)(_libs_ui_kit__WEBPACK_IMPORTED_MODULE_1__.Spacing, {
    className: _index_module_less__WEBPACK_IMPORTED_MODULE_4__["default"].resp,
    vertical: true,
    gap: 8,
    children: [answerMessages.length > 0 ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.Fragment, {
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_libs_ui_kit__WEBPACK_IMPORTED_MODULE_1__.Spacing, {
        vertical: true,
        className: _index_module_less__WEBPACK_IMPORTED_MODULE_4__["default"].answer,
        gap: 8,
        children: answerMessages.map(function (item, index) {
          return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_command_comman_tooltip__WEBPACK_IMPORTED_MODULE_6__.CommandTooltip, {
            message: item,
            isActive: !isLastMessage && !isReadOnly,
            children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_libs_ui_kit__WEBPACK_IMPORTED_MODULE_1__.MessageContent, {
              message: item,
              onImageClick: onImageClick,
              sendTextMessage: sendTextMessage,
              i18n: i18n
              //disabled={!isLastMessage || isReadOnly}
              ,
              isLastMessage: isLastMessage,
              isReadOnly: isReadOnly,
              isAWaiting:
              // 如果是回答的最后一条消息，同时是等待中的消息，则添加一个圆点的等待状态
              followUpMessages.length === 0 && answerMessages.length - 1 === index && isAWaiting && !item.isComplete,
              onTaskChange: onMessageTaskChange,
              messageUiConfigMap: messageUiConfigMap
            })
          }, item.id || "noId_".concat(index));
        })
      }), isLastMessage && !isAWaiting && allText ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)(_libs_ui_kit__WEBPACK_IMPORTED_MODULE_1__.Spacing, {
        gap: 4,
        verticalCenter: true,
        children: [isNeedTextToAudio ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_command_command_audio__WEBPACK_IMPORTED_MODULE_5__.CommandAudio, {
          text: allText,
          svgTheme: svgTheme,
          isNeedHover: svgTheme === "dark" ? true : false
        }) : null, /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_command_command_copy__WEBPACK_IMPORTED_MODULE_7__.CommandCopy, {
          text: allText,
          svgTheme: svgTheme,
          isNeedHover: svgTheme === "dark" ? true : false
        })]
      }) : null]
    }) : null, followUpMessages.length > 0 && isShowSuggestion ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_suggestion_list__WEBPACK_IMPORTED_MODULE_3__.SuggestionList, {
      messages: followUpMessages
    }) : null, isNeedWaitingMessage ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_libs_ui_kit__WEBPACK_IMPORTED_MODULE_1__.WaitingMessage, {}) : null]
  });
};

/***/ }),

/***/ "./src/libs/framework/component/chat-group-list/suggestion-list/index.tsx":
/*!********************************************************************************!*\
  !*** ./src/libs/framework/component/chat-group-list/suggestion-list/index.tsx ***!
  \********************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SuggestionList: function() { return /* binding */ SuggestionList; }
/* harmony export */ });
/* harmony import */ var _libs_ui_kit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/libs/ui-kit */ "./src/libs/ui-kit/index.ts");
/* harmony import */ var _libs_services__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/libs/services */ "./src/libs/services/index.ts");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");



var SuggestionList = function SuggestionList(_ref) {
  var messages = _ref.messages;
  var _useSendMessage = (0,_libs_services__WEBPACK_IMPORTED_MODULE_1__.useSendMessage)(),
    sendTextMessage = _useSendMessage.sendTextMessage;
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_libs_ui_kit__WEBPACK_IMPORTED_MODULE_0__.SuggestionList, {
    suggestions: messages.map(function (item) {
      return item.content;
    }),
    onClickSuggestion: sendTextMessage
  });
};

/***/ }),

/***/ "./src/libs/framework/component/chat-header/index.tsx":
/*!************************************************************!*\
  !*** ./src/libs/framework/component/chat-header/index.tsx ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ChatHeader: function() { return /* binding */ ChatHeader; }
/* harmony export */ });
/* harmony import */ var _tarojs_components__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @tarojs/components */ "./node_modules/.pnpm/@tarojs+plugin-platform-weapp@4.0.8_@tarojs+service@4.0.8_@swc+helpers@0.5.15__@tarojs+shared@4.0.8/node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js");
/* harmony import */ var _libs_ui_kit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/libs/ui-kit */ "./src/libs/ui-kit/index.ts");
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/framework/component/chat-header/index.module.less");
/* harmony import */ var _libs_provider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/libs/provider */ "./src/libs/provider/index.tsx");
/* harmony import */ var _chat_input_hooks_use_command_slot__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../chat-input/hooks/use-command-slot */ "./src/libs/framework/component/chat-input/hooks/use-command-slot.tsx");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _libs_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/libs/utils */ "./src/libs/utils/index.ts");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");








var ChatHeader = function ChatHeader() {
  var _header$renderRightSl;
  var header = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_2__.useChatPropsStore)(function (store) {
    var _store$ui;
    return (_store$ui = store.ui) === null || _store$ui === void 0 ? void 0 : _store$ui.header;
  });
  var i18n = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_2__.useI18n)();
  var cdnBaseUrlPath = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_2__.useChatPropsStore)(function (store) {
    var _store$setting;
    return (_store$setting = store.setting) === null || _store$setting === void 0 ? void 0 : _store$setting.cdnBaseUrlPath;
  });
  var commandSlots = (0,_chat_input_hooks_use_command_slot__WEBPACK_IMPORTED_MODULE_3__.useCommandSlot)("headerRight");
  if ((header === null || header === void 0 ? void 0 : header.isNeed) === false) {
    return null;
  }
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(_libs_ui_kit__WEBPACK_IMPORTED_MODULE_0__.Spacing, {
    verticalCenter: true,
    className: _index_module_less__WEBPACK_IMPORTED_MODULE_1__["default"].container,
    gap: 8,
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_libs_ui_kit__WEBPACK_IMPORTED_MODULE_0__.CImage, {
      src: (header === null || header === void 0 ? void 0 : header.icon) || (0,_libs_utils__WEBPACK_IMPORTED_MODULE_5__.getCdnUrl)(cdnBaseUrlPath, "assets/imgs/coze-logo.png"),
      className: _index_module_less__WEBPACK_IMPORTED_MODULE_1__["default"]["app-avatar"],
      mode: "aspectFill"
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_7__.Text, {
      className: _index_module_less__WEBPACK_IMPORTED_MODULE_1__["default"].title,
      overflow: "ellipsis",
      numberOfLines: 1,
      children: (header === null || header === void 0 ? void 0 : header.title) || i18n.t("defaultHeaderTitle")
    }), commandSlots.map(function (item, index) {
      return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(react__WEBPACK_IMPORTED_MODULE_4__.Fragment, {
        children: item
      }, index);
    }), header === null || header === void 0 || (_header$renderRightSl = header.renderRightSlot) === null || _header$renderRightSl === void 0 ? void 0 : _header$renderRightSl.call(header)]
  });
};

/***/ }),

/***/ "./src/libs/framework/component/chat-input/clear-context/index.tsx":
/*!*************************************************************************!*\
  !*** ./src/libs/framework/component/chat-input/clear-context/index.tsx ***!
  \*************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ClearContext: function() { return /* binding */ ClearContext; }
/* harmony export */ });
/* harmony import */ var _libs_ui_kit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/libs/ui-kit */ "./src/libs/ui-kit/index.ts");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _libs_ui_kit_atomic_disable_container__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/libs/ui-kit/atomic/disable-container */ "./src/libs/ui-kit/atomic/disable-container/index.tsx");
/* harmony import */ var _libs_services__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/libs/services */ "./src/libs/services/index.ts");
/* harmony import */ var _libs_provider__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/libs/provider */ "./src/libs/provider/index.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");






var ClearContext = function ClearContext(_ref) {
  var _ref$type = _ref.type,
    type = _ref$type === void 0 ? "circle-btn" : _ref$type,
    svgTheme = _ref.svgTheme;
  var _useClearContext = (0,_libs_services__WEBPACK_IMPORTED_MODULE_3__.useClearContext)(),
    clearContext = _useClearContext.clearContext;
  var _useChatStatusStore = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_4__.useChatStatusStore)(function (store) {
      return store.disableState;
    }),
    clearContextDisableState = _useChatStatusStore.clearContext;
  var _useConversationStore = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_4__.useConversationStore)(function (store) {
      return {
        sectionId: store.sectionId,
        chatMessageGroups: store.chatMessageGroups
      };
    }),
    sectionId = _useConversationStore.sectionId,
    chatMessageGroups = _useConversationStore.chatMessageGroups;
  var isCanUser = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () {
    var _chatMessageGroups;
    if (chatMessageGroups.length === 0) {
      return false;
    }
    if (sectionId && (_chatMessageGroups = chatMessageGroups[chatMessageGroups.length - 1]) !== null && _chatMessageGroups !== void 0 && _chatMessageGroups.sectionId) {
      var _chatMessageGroups2;
      if (sectionId !== ((_chatMessageGroups2 = chatMessageGroups[chatMessageGroups.length - 1]) === null || _chatMessageGroups2 === void 0 ? void 0 : _chatMessageGroups2.sectionId)) {
        return false;
      }
    }
    return true;
  }, [sectionId, chatMessageGroups]);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_libs_ui_kit_atomic_disable_container__WEBPACK_IMPORTED_MODULE_2__.DisableContainer, {
    disabled: clearContextDisableState || !isCanUser,
    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_libs_ui_kit__WEBPACK_IMPORTED_MODULE_0__.IconButton, {
      onClick: clearContext,
      type: type,
      hoverTheme: svgTheme === "light" ? "none" : "hover",
      bgColor: "bold",
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_libs_ui_kit__WEBPACK_IMPORTED_MODULE_0__.SvgConversation, {
        theme: svgTheme
      })
    })
  });
};

/***/ }),

/***/ "./src/libs/framework/component/chat-input/delete-message/index.tsx":
/*!**************************************************************************!*\
  !*** ./src/libs/framework/component/chat-input/delete-message/index.tsx ***!
  \**************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DeleteMessage: function() { return /* binding */ DeleteMessage; }
/* harmony export */ });
/* harmony import */ var _libs_ui_kit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/libs/ui-kit */ "./src/libs/ui-kit/index.ts");
/* harmony import */ var _libs_services__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/libs/services */ "./src/libs/services/index.ts");
/* harmony import */ var _libs_ui_kit_atomic_disable_container__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/libs/ui-kit/atomic/disable-container */ "./src/libs/ui-kit/atomic/disable-container/index.tsx");
/* harmony import */ var _libs_provider__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/libs/provider */ "./src/libs/provider/index.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");





var DeleteMessage = function DeleteMessage(_ref) {
  var _ref$type = _ref.type,
    type = _ref$type === void 0 ? "circle-btn" : _ref$type,
    svgTheme = _ref.svgTheme;
  var _useClearMessage = (0,_libs_services__WEBPACK_IMPORTED_MODULE_1__.useClearMessage)(),
    clearMessage = _useClearMessage.clearMessage;
  var _useChatStatusStore = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_3__.useChatStatusStore)(function (store) {
      return store.disableState;
    }),
    clearMessageDisableState = _useChatStatusStore.clearMessage;
  var _useConversationStore = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_3__.useConversationStore)(function (store) {
      return {
        sectionId: store.sectionId,
        chatMessageGroups: store.chatMessageGroups
      };
    }),
    chatMessageGroups = _useConversationStore.chatMessageGroups;
  var isCanUse = chatMessageGroups.length > 0;
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_libs_ui_kit_atomic_disable_container__WEBPACK_IMPORTED_MODULE_2__.DisableContainer, {
    disabled: clearMessageDisableState || !isCanUse,
    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_libs_ui_kit__WEBPACK_IMPORTED_MODULE_0__.IconButton, {
      onClick: clearMessage,
      type: type,
      hoverTheme: svgTheme === "light" ? "none" : "hover",
      bgColor: "bold",
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_libs_ui_kit__WEBPACK_IMPORTED_MODULE_0__.SvgBroom, {
        theme: svgTheme
      })
    })
  });
};

/***/ }),

/***/ "./src/libs/framework/component/chat-input/hooks/use-command-slot.tsx":
/*!****************************************************************************!*\
  !*** ./src/libs/framework/component/chat-input/hooks/use-command-slot.tsx ***!
  \****************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useCommandSlot: function() { return /* binding */ useCommandSlot; }
/* harmony export */ });
/* harmony import */ var _libs_provider__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/libs/provider */ "./src/libs/provider/index.tsx");
/* harmony import */ var _clear_context__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../clear-context */ "./src/libs/framework/component/chat-input/clear-context/index.tsx");
/* harmony import */ var _delete_message__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../delete-message */ "./src/libs/framework/component/chat-input/delete-message/index.tsx");
/* harmony import */ var _libs_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/libs/utils */ "./src/libs/utils/index.ts");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");





var useCommandSlot = function useCommandSlot(position) {
  var _ui$chatSlot, _ui$chatSlot2;
  var ui = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_0__.useChatPropsStore)(function (store) {
    return store.ui;
  });
  var clearContextConfig = Object.assign({
    isNeed: true,
    position: "inputLeft",
    SlotComponent: _clear_context__WEBPACK_IMPORTED_MODULE_1__.ClearContext
  }, (ui === null || ui === void 0 || (_ui$chatSlot = ui.chatSlot) === null || _ui$chatSlot === void 0 ? void 0 : _ui$chatSlot.clearContext) || {});
  var uiTheme = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_0__.useThemeType)();
  var clearMessageConfig = Object.assign({
    isNeed: true,
    position: "headerRight",
    SlotComponent: _delete_message__WEBPACK_IMPORTED_MODULE_2__.DeleteMessage
  }, (ui === null || ui === void 0 || (_ui$chatSlot2 = ui.chatSlot) === null || _ui$chatSlot2 === void 0 ? void 0 : _ui$chatSlot2.clearMessage) || {});
  _libs_utils__WEBPACK_IMPORTED_MODULE_3__.logger.debug("useCommandSlot", {
    clearContextConfig: clearContextConfig,
    clearMessageConfig: clearMessageConfig,
    position: position,
    ui: ui
  });
  return [clearContextConfig, clearMessageConfig].filter(function (item) {
    return item.isNeed && item.position === position;
  }).map(function (_ref) {
    var position = _ref.position,
      SlotComponent = _ref.SlotComponent;
    return position === "headerRight" ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(SlotComponent, {
      type: "square-hover-btn",
      svgTheme: uiTheme === "bg-theme" ? "light" : "dark"
    }) : /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(SlotComponent, {
      svgTheme: "dark"
    });
  });
};

/***/ }),

/***/ "./src/libs/framework/component/chat-input/hooks/use-input-adjust.ts":
/*!***************************************************************************!*\
  !*** ./src/libs/framework/component/chat-input/hooks/use-input-adjust.ts ***!
  \***************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useInputAdjust: function() { return /* binding */ useInputAdjust; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/slicedToArray.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var _libs_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/libs/utils */ "./src/libs/utils/index.ts");
/* harmony import */ var _libs_provider__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/libs/provider */ "./src/libs/provider/index.tsx");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);







/*
 * When the custom navigation bar is selected for the mini-program,
 * it is necessary to position the location of the <input> element.
 */
var useInputAdjust = function useInputAdjust(inputId) {
  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(0),
    _useState2 = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_3__["default"])(_useState, 2),
    bottomOffset = _useState2[0],
    setBottomOffset = _useState2[1];
  var isMiniCustomHeader = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_1__.useChatPropsStore)(function (store) {
    var _store$ui;
    return (_store$ui = store.ui) === null || _store$ui === void 0 ? void 0 : _store$ui.isMiniCustomHeader;
  });
  var inputAdjustDefault = isMiniCustomHeader !== true;
  var changeInputLocation = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(/*#__PURE__*/function () {
    var _ref = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_4__["default"])(/*#__PURE__*/(0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_5__["default"])().mark(function _callee(height) {
      var _yield$getViewportBou, _yield$getViewportBou2, viewportRect, _yield$getBoundingRec, _yield$getBoundingRec2, inputRect, bottomNow;
      return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_5__["default"])().wrap(function _callee$(_context) {
        while (1) switch (_context.prev = _context.next) {
          case 0:
            if (!inputAdjustDefault) {
              _context.next = 2;
              break;
            }
            return _context.abrupt("return");
          case 2:
            if (!(height === 0)) {
              _context.next = 5;
              break;
            }
            setBottomOffset(0);
            return _context.abrupt("return");
          case 5:
            _context.next = 7;
            return (0,_libs_utils__WEBPACK_IMPORTED_MODULE_0__.getViewportBoundingRect)();
          case 7:
            _yield$getViewportBou = _context.sent;
            _yield$getViewportBou2 = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_3__["default"])(_yield$getViewportBou, 1);
            viewportRect = _yield$getViewportBou2[0];
            _context.next = 12;
            return (0,_libs_utils__WEBPACK_IMPORTED_MODULE_0__.getBoundingRect)("#".concat(inputId));
          case 12:
            _yield$getBoundingRec = _context.sent;
            _yield$getBoundingRec2 = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_3__["default"])(_yield$getBoundingRec, 1);
            inputRect = _yield$getBoundingRec2[0];
            bottomNow = viewportRect.height - inputRect.bottom;
            if (height > bottomNow) {
              setBottomOffset(height - bottomNow);
            }
          case 17:
          case "end":
            return _context.stop();
        }
      }, _callee);
    }));
    return function (_x) {
      return _ref.apply(this, arguments);
    };
  }(), [inputId]);
  _libs_utils__WEBPACK_IMPORTED_MODULE_0__.logger.info("Chat Input's inputAdjust value:", {
    inputAdjustDefault: inputAdjustDefault,
    isMiniCustomHeader: isMiniCustomHeader
  });
  return {
    changeInputLocation: changeInputLocation,
    bottomOffset: bottomOffset,
    inputAdjustDefault: inputAdjustDefault
  };
};

/***/ }),

/***/ "./src/libs/framework/component/chat-input/index.tsx":
/*!***********************************************************!*\
  !*** ./src/libs/framework/component/chat-input/index.tsx ***!
  \***********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ChatInput: function() { return /* binding */ ChatInput; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _libs_ui_kit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/libs/ui-kit */ "./src/libs/ui-kit/index.ts");
/* harmony import */ var _libs_services__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/libs/services */ "./src/libs/services/index.ts");
/* harmony import */ var _libs_provider__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/libs/provider */ "./src/libs/provider/index.tsx");
/* harmony import */ var _hooks_use_input_adjust__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./hooks/use-input-adjust */ "./src/libs/framework/component/chat-input/hooks/use-input-adjust.ts");
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/framework/component/chat-input/index.module.less");
/* harmony import */ var _hooks_use_command_slot__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./hooks/use-command-slot */ "./src/libs/framework/component/chat-input/hooks/use-command-slot.tsx");
/* harmony import */ var _tarojs_components__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @tarojs/components */ "./node_modules/.pnpm/@tarojs+plugin-platform-weapp@4.0.8_@tarojs+service@4.0.8_@swc+helpers@0.5.15__@tarojs+shared@4.0.8/node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js");
/* harmony import */ var _libs_provider_context_chat_store_context__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/libs/provider/context/chat-store-context */ "./src/libs/provider/context/chat-store-context.tsx");
/* harmony import */ var _libs_hooks__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/libs/hooks */ "./src/libs/hooks/index.ts");
/* harmony import */ var _libs_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/libs/utils */ "./src/libs/utils/index.ts");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! classnames */ "./node_modules/.pnpm/classnames@2.5.1/node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");














var chatInputNo = 1;
var ChatInput = function ChatInput() {
  var _uiConfig$chatSlot, _uiConfig$chatSlot2;
  var i18n = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_3__.useI18n)();
  var _useSendMessage = (0,_libs_services__WEBPACK_IMPORTED_MODULE_2__.useSendMessage)(),
    sendTextMessage = _useSendMessage.sendTextMessage,
    sendFileMessage = _useSendMessage.sendFileMessage,
    sendAudioMessage = _useSendMessage.sendAudioMessage;
  var _useChatStatusStore = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_3__.useChatStatusStore)(function (store) {
      return store.disableState;
    }),
    inputDisableState = _useChatStatusStore.input;
  var uiConfig = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_3__.useChatPropsStore)(function (store) {
    return store.ui;
  });
  var setIsAudioRecording = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_3__.useChatStatusStore)(function (state) {
    return state.setIsAudioRecording;
  });
  var isAudioRecording = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_3__.useChatStatusStore)(function (store) {
    return store.isAudioRecording;
  });
  var taskList = (0,_libs_provider_context_chat_store_context__WEBPACK_IMPORTED_MODULE_7__.useChatInputStore)(function (store) {
    return store.taskList;
  });
  var isNeedAudio = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_3__.useIsNeedAudioInput)();
  var inputType = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_3__.useDefaultInputMode)();
  var inputUiConfig = uiConfig === null || uiConfig === void 0 || (_uiConfig$chatSlot = uiConfig.chatSlot) === null || _uiConfig$chatSlot === void 0 ? void 0 : _uiConfig$chatSlot.input;
  var uploadConfig = uiConfig === null || uiConfig === void 0 || (_uiConfig$chatSlot2 = uiConfig.chatSlot) === null || _uiConfig$chatSlot2 === void 0 ? void 0 : _uiConfig$chatSlot2.uploadBtn;
  var renderChatInputTopSlot = inputUiConfig === null || inputUiConfig === void 0 ? void 0 : inputUiConfig.renderChatInputTopSlot;
  var inputId = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {
    return "chatInput".concat(chatInputNo++);
  }, []);
  var _useInputAdjust = (0,_hooks_use_input_adjust__WEBPACK_IMPORTED_MODULE_4__.useInputAdjust)(inputId),
    changeInputLocation = _useInputAdjust.changeInputLocation,
    bottomOffset = _useInputAdjust.bottomOffset,
    inputAdjustDefault = _useInputAdjust.inputAdjustDefault;
  var targetFrameEvent = (0,_libs_provider_context_chat_store_context__WEBPACK_IMPORTED_MODULE_7__.useUiEventStore)(function (store) {
    return store.event;
  });
  var commandSlots = (0,_hooks_use_command_slot__WEBPACK_IMPORTED_MODULE_6__.useCommandSlot)("inputLeft");
  var isMobile = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_3__.useIsMobile)();
  var onAudioRecording = (0,_libs_hooks__WEBPACK_IMPORTED_MODULE_8__.usePersistCallback)(function (isAudioRecording) {
    setIsAudioRecording(isAudioRecording);
  });
  _libs_utils__WEBPACK_IMPORTED_MODULE_9__.logger.info("ChatInput input info", {
    isNeedAudio: isNeedAudio,
    inputType: inputType
  });
  _libs_utils__WEBPACK_IMPORTED_MODULE_9__.logger.debug("ChatInput configInfo:", inputUiConfig, taskList);
  if ((inputUiConfig === null || inputUiConfig === void 0 ? void 0 : inputUiConfig.isNeed) === false) {
    return null;
  }
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsxs)(_tarojs_components__WEBPACK_IMPORTED_MODULE_12__.View, {
    className: classnames__WEBPACK_IMPORTED_MODULE_10___default()(_index_module_less__WEBPACK_IMPORTED_MODULE_5__["default"].container, (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_13__["default"])({}, _index_module_less__WEBPACK_IMPORTED_MODULE_5__["default"]["recording-audio"], isAudioRecording)),
    id: inputId,
    style: {
      bottom: "".concat(bottomOffset, "px")
    },
    onTouchStart: function onTouchStart(event) {
      event.stopPropagation();
    },
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_12__.View, {
      className: _index_module_less__WEBPACK_IMPORTED_MODULE_5__["default"]["slot-container"],
      children: renderChatInputTopSlot === null || renderChatInputTopSlot === void 0 ? void 0 : renderChatInputTopSlot()
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsxs)(_libs_ui_kit__WEBPACK_IMPORTED_MODULE_1__.Spacing, {
      gap: 0,
      verticalCenter: true,
      width100: true,
      style: {
        overflow: "visible",
        paddingTop: 10
      },
      children: [commandSlots.length ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(_libs_ui_kit__WEBPACK_IMPORTED_MODULE_1__.Spacing, {
        gap: 12,
        verticalCenter: true,
        style: {
          overflow: "visible",
          width: isAudioRecording ? 0 : commandSlots.length * 46
        },
        className: _index_module_less__WEBPACK_IMPORTED_MODULE_5__["default"]["command-container"],
        children: commandSlots.map(function (item, index) {
          return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, {
            children: item
          }, index);
        })
      }) : null, /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_12__.View, {
        className: _index_module_less__WEBPACK_IMPORTED_MODULE_5__["default"]["input-container"],
        style: {
          maxWidth: isAudioRecording ? "100%" : "calc(100% - ".concat(commandSlots.length * 46, "px)")
        },
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(_libs_ui_kit__WEBPACK_IMPORTED_MODULE_1__.ChatInput, {
          isNeedUpload: (uploadConfig === null || uploadConfig === void 0 ? void 0 : uploadConfig.isNeed) !== false,
          isNeedTaskMessage: inputUiConfig === null || inputUiConfig === void 0 ? void 0 : inputUiConfig.isNeedTaskMessage,
          disabled: inputDisableState,
          defaultValue: inputUiConfig === null || inputUiConfig === void 0 ? void 0 : inputUiConfig.defaultText,
          defaultInputType: inputType,
          taskList: taskList,
          isNeedAudio: isNeedAudio || false,
          placeholder: (inputUiConfig === null || inputUiConfig === void 0 ? void 0 : inputUiConfig.placeholder) || i18n.t("chatInputPlaceholder"),
          onSendTextMessage: sendTextMessage,
          onSendFileMessage: sendFileMessage,
          onSendAudioMessage: sendAudioMessage,
          onKeyBoardHeightChange: changeInputLocation,
          inputAdjustDefault: inputAdjustDefault,
          frameEventTarget: targetFrameEvent,
          isPcMode: !isMobile,
          onAudioRecording: onAudioRecording
        })
      })]
    })]
  });
};

/***/ }),

/***/ "./src/libs/framework/component/chat-loading/index.tsx":
/*!*************************************************************!*\
  !*** ./src/libs/framework/component/chat-loading/index.tsx ***!
  \*************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ChatLoading: function() { return /* binding */ ChatLoading; }
/* harmony export */ });
/* harmony import */ var _tarojs_components__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @tarojs/components */ "./node_modules/.pnpm/@tarojs+plugin-platform-weapp@4.0.8_@tarojs+service@4.0.8_@swc+helpers@0.5.15__@tarojs+shared@4.0.8/node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js");
/* harmony import */ var _libs_ui_kit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/libs/ui-kit */ "./src/libs/ui-kit/index.ts");
/* harmony import */ var _libs_provider__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/libs/provider */ "./src/libs/provider/index.tsx");
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/framework/component/chat-loading/index.module.less");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");





var ChatLoading = function ChatLoading() {
  var renderLoading = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_1__.useChatPropsStore)(function (store) {
    var _store$ui;
    return (_store$ui = store.ui) === null || _store$ui === void 0 || (_store$ui = _store$ui.loading) === null || _store$ui === void 0 ? void 0 : _store$ui.renderLoading;
  });
  var maxWidth = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_1__.useChatMaxWidth)();
  if (renderLoading) {
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_4__.View, {
      className: _index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"].loading,
      children: renderLoading()
    });
  }
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_4__.View, {
    className: _index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"].loading,
    style: {
      maxWidth: maxWidth
    },
    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_libs_ui_kit__WEBPACK_IMPORTED_MODULE_0__.Spacing, {
      horizontalCenter: true,
      flex1: true,
      verticalCenter: true,
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_libs_ui_kit__WEBPACK_IMPORTED_MODULE_0__.Spinning, {})
    })
  });
};

/***/ }),

/***/ "./src/libs/framework/component/chat-modal/index.tsx":
/*!***********************************************************!*\
  !*** ./src/libs/framework/component/chat-modal/index.tsx ***!
  \***********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ChatModal: function() { return /* binding */ ChatModal; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/slicedToArray.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _libs_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/libs/types */ "./src/libs/types/index.ts");
/* harmony import */ var _libs_provider_context_chat_store_context__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/libs/provider/context/chat-store-context */ "./src/libs/provider/context/chat-store-context.tsx");
/* harmony import */ var _libs_ui_kit_atomic_modal__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/libs/ui-kit/atomic/modal */ "./src/libs/ui-kit/atomic/modal/index.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");






var modalId = 1000;
var ChatModal = function ChatModal() {
  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(),
    _useState2 = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_5__["default"])(_useState, 2),
    event = _useState2[0],
    setEvent = _useState2[1];
  var key = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {
    return "modal_".concat(modalId++);
  }, [event]);
  var uiEvent = (0,_libs_provider_context_chat_store_context__WEBPACK_IMPORTED_MODULE_2__.useUiEventStore)(function (store) {
    return store.event;
  });
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {
    uiEvent.on(_libs_types__WEBPACK_IMPORTED_MODULE_1__.UIEventType.ChatModalShow, function (e) {
      setEvent(e);
    });
  }, [uiEvent]);
  var hideModal = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {
    setEvent(undefined);
  }, []);
  if (!event || !event.renderModal) {
    return null;
  }
  // event修改的时候，会重新渲染，所以需要key
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_libs_ui_kit_atomic_modal__WEBPACK_IMPORTED_MODULE_3__.Modal, {
    onHide: hideModal,
    children: event.renderModal(hideModal)
  }, key);
};

/***/ }),

/***/ "./src/libs/framework/component/chat-scroll-view/index.tsx":
/*!*****************************************************************!*\
  !*** ./src/libs/framework/component/chat-scroll-view/index.tsx ***!
  \*****************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ChatScrollView: function() { return /* binding */ ChatScrollView; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/.pnpm/classnames@2.5.1/node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _libs_ui_kit__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/libs/ui-kit */ "./src/libs/ui-kit/index.ts");
/* harmony import */ var _libs_services__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/libs/services */ "./src/libs/services/index.ts");
/* harmony import */ var _libs_provider__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/libs/provider */ "./src/libs/provider/index.tsx");
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/framework/component/chat-scroll-view/index.module.less");
/* harmony import */ var _libs_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/libs/utils */ "./src/libs/utils/index.ts");
/* harmony import */ var _libs_provider_context_chat_store_context__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/libs/provider/context/chat-store-context */ "./src/libs/provider/context/chat-store-context.tsx");
/* harmony import */ var _libs_types__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/libs/types */ "./src/libs/types/index.ts");
/* harmony import */ var _libs_hooks__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/libs/hooks */ "./src/libs/hooks/index.ts");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");











var ChatTopStatus = function ChatTopStatus(_ref) {
  var onScrollToUpper = _ref.onScrollToUpper;
  var i18n = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_4__.useI18n)();
  var _useConversationStore = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_4__.useConversationStore)(function (store) {
      return {
        prevError: store.prevError,
        prevHasMore: store.prevHasMore
      };
    }),
    prevError = _useConversationStore.prevError,
    prevHasMore = _useConversationStore.prevHasMore;
  var isNeedPrevLoadMore = prevHasMore;
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.Fragment, {
    children: prevError ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_libs_ui_kit__WEBPACK_IMPORTED_MODULE_2__.ErrorRetry, {
      errorText: i18n.t("messageListRetry", {
        retry: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_libs_ui_kit__WEBPACK_IMPORTED_MODULE_2__.ErrorRetryBtn, {
          retryText: i18n.t("retryBtn"),
          onClick: function onClick() {
            onScrollToUpper === null || onScrollToUpper === void 0 || onScrollToUpper();
          }
        })
      })
    }) : isNeedPrevLoadMore ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_libs_ui_kit__WEBPACK_IMPORTED_MODULE_2__.Spinning, {
      text: i18n.t("messageListLoading"),
      className: _index_module_less__WEBPACK_IMPORTED_MODULE_5__["default"].loading,
      size: "small"
    }) : null
  });
};
var ChatScrollView = function ChatScrollView(_ref2) {
  var children = _ref2.children;
  var refScroll = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  var _useScrollMore = (0,_libs_services__WEBPACK_IMPORTED_MODULE_3__.useScrollMore)(),
    upperThreshold = _useScrollMore.upperThreshold,
    onScrollToUpper = _useScrollMore.onScrollToUpper;
  var _useConversationStore2 = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_4__.useConversationStore)(function (store) {
      return {
        isUnshiftingMessageFlag: store.isUnshiftingMessageFlag,
        clearUnshiftingMessageFlg: store.clearUnshiftingMessageFlg
      };
    }),
    isUnshiftingMessageFlag = _useConversationStore2.isUnshiftingMessageFlag,
    clearUnshiftingMessageFlg = _useConversationStore2.clearUnshiftingMessageFlg;
  var hasProcessChatMessageGroup = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_4__.useConversationStore)(function (store) {
    return !!store.inProcessChatMessageGroup;
  });
  var chatEvent = (0,_libs_provider_context_chat_store_context__WEBPACK_IMPORTED_MODULE_7__.useUiEventStore)(function (store) {
    return store.event;
  });
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {
    if (isUnshiftingMessageFlag) {
      clearUnshiftingMessageFlg();
    }
  }, [isUnshiftingMessageFlag]);
  var chatContent = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.Fragment, {
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(ChatTopStatus, {
        onScrollToUpper: onScrollToUpper
      }), children]
    });
  }, [children, onScrollToUpper]);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {
    chatEvent.on(_libs_types__WEBPACK_IMPORTED_MODULE_8__.UIEventType.ChatSlotToBottom, function () {
      var _refScroll$current;
      (_refScroll$current = refScroll.current) === null || _refScroll$current === void 0 || _refScroll$current.scrollToBottom();
    });
    chatEvent.on(_libs_types__WEBPACK_IMPORTED_MODULE_8__.UIEventType.ChatSlotScrollToAnchorBottom, function () {
      var _refScroll$current2;
      (_refScroll$current2 = refScroll.current) === null || _refScroll$current2 === void 0 || _refScroll$current2.scrollToAnchorBottom();
    });
    chatEvent.on(_libs_types__WEBPACK_IMPORTED_MODULE_8__.UIEventType.ChatSlotRemoveAnchorBottom, function () {
      var _refScroll$current3;
      (_refScroll$current3 = refScroll.current) === null || _refScroll$current3 === void 0 || _refScroll$current3.removeAnchorBottom();
    });
  }, []);
  (0,_libs_hooks__WEBPACK_IMPORTED_MODULE_9__.useUpdateEffect)(function () {
    if (hasProcessChatMessageGroup) {
      var _refScroll$current4;
      (_refScroll$current4 = refScroll.current) === null || _refScroll$current4 === void 0 || _refScroll$current4.scrollToAnchorBottom();
    } else {
      var _refScroll$current5;
      (_refScroll$current5 = refScroll.current) === null || _refScroll$current5 === void 0 || _refScroll$current5.removeAnchorBottom();
    }
  }, [hasProcessChatMessageGroup]);
  _libs_utils__WEBPACK_IMPORTED_MODULE_6__.logger.debug("ScrollView props isUnshiftingMessageFlag", {
    isUnshiftingMessageFlag: isUnshiftingMessageFlag
  });
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_libs_ui_kit__WEBPACK_IMPORTED_MODULE_2__.ScrollView, {
    id: "chatScroll",
    ref: refScroll,
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(_index_module_less__WEBPACK_IMPORTED_MODULE_5__["default"]["scroll-container"]),
    scrollY: true,
    isLoadMore: isUnshiftingMessageFlag,
    lowerThreshold: upperThreshold,
    onScrollToLower: onScrollToUpper,
    isNeedHelper: true,
    children: chatContent
  });
};

/***/ }),

/***/ "./src/libs/framework/component/chat-slot/index.tsx":
/*!**********************************************************!*\
  !*** ./src/libs/framework/component/chat-slot/index.tsx ***!
  \**********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ChatSlot: function() { return /* binding */ ChatSlot; }
/* harmony export */ });
/* harmony import */ var _tarojs_components__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @tarojs/components */ "./node_modules/.pnpm/@tarojs+plugin-platform-weapp@4.0.8_@tarojs+service@4.0.8_@swc+helpers@0.5.15__@tarojs+shared@4.0.8/node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js");
/* harmony import */ var _libs_ui_kit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/libs/ui-kit */ "./src/libs/ui-kit/index.ts");
/* harmony import */ var _libs_services__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/libs/services */ "./src/libs/services/index.ts");
/* harmony import */ var _libs_provider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/libs/provider */ "./src/libs/provider/index.tsx");
/* harmony import */ var _chat_scroll_view__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../chat-scroll-view */ "./src/libs/framework/component/chat-scroll-view/index.tsx");
/* harmony import */ var _chat_input__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../chat-input */ "./src/libs/framework/component/chat-input/index.tsx");
/* harmony import */ var _chat_group_list__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../chat-group-list */ "./src/libs/framework/component/chat-group-list/index.tsx");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! classnames */ "./node_modules/.pnpm/classnames@2.5.1/node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/framework/component/chat-slot/index.module.less");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _libs_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/libs/utils */ "./src/libs/utils/index.ts");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");












var ChatOnBoarding = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_8__.memo)(function () {
  var _useChatInfoStore = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_2__.useChatInfoStore)(function (store) {
      return {
        chatInfo: store.info
      };
    }),
    chatInfo = _useChatInfoStore.chatInfo;
  var onImageClick = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_2__.useChatPropsStore)(function (store) {
    var _store$eventCallbacks;
    return (_store$eventCallbacks = store.eventCallbacks) === null || _store$eventCallbacks === void 0 ? void 0 : _store$eventCallbacks.onImageClick;
  });
  var _useSendMessage = (0,_libs_services__WEBPACK_IMPORTED_MODULE_1__.useSendMessage)(),
    sendTextMessage = _useSendMessage.sendTextMessage;
  var userInfo = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_2__.useUserInfoStore)(function (store) {
    return store.info;
  });
  var _useConversationStore = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_2__.useConversationStore)(function (store) {
      return {
        isShowOnBoarding: store.isShowOnBoarding,
        chatMessageGroups: store.chatMessageGroups,
        inProcessChatMessageGroup: store.inProcessChatMessageGroup
      };
    }),
    isShowOnBoarding = _useConversationStore.isShowOnBoarding;
  _libs_utils__WEBPACK_IMPORTED_MODULE_9__.logger.debug("ChatOnBoarding:", chatInfo, isShowOnBoarding());
  if (!isShowOnBoarding()) {
    return null;
  }
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_libs_ui_kit__WEBPACK_IMPORTED_MODULE_0__.OnBoarding, {
    user: userInfo || undefined,
    chat: chatInfo || undefined,
    onImageClick: onImageClick,
    onClickSuggestion: function onClickSuggestion(message) {
      sendTextMessage === null || sendTextMessage === void 0 || sendTextMessage(message);
    }
  });
});
var ChatSlot = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_8__.memo)(function (_ref) {
  var className = _ref.className;
  var maxWidth = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_2__.useChatMaxWidth)();
  var chatSlotClassName = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_2__.useChatPropsStore)(function (store) {
    var _store$ui;
    return (_store$ui = store.ui) === null || _store$ui === void 0 ? void 0 : _store$ui.chatSlotClassName;
  });
  _libs_utils__WEBPACK_IMPORTED_MODULE_9__.logger.debug("ChatSlot maxWidth", maxWidth);
  var chatContent = (0,react__WEBPACK_IMPORTED_MODULE_8__.useMemo)(function () {
    //防止每次刷新ChatScrollView
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.Fragment, {
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(ChatOnBoarding, {}), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_chat_group_list__WEBPACK_IMPORTED_MODULE_5__.ChatGroupList, {})]
    });
  }, []);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)(_tarojs_components__WEBPACK_IMPORTED_MODULE_11__.View, {
    className: classnames__WEBPACK_IMPORTED_MODULE_6___default()(_index_module_less__WEBPACK_IMPORTED_MODULE_7__["default"].slot, chatSlotClassName, className),
    style: {
      maxWidth: maxWidth
    },
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_chat_scroll_view__WEBPACK_IMPORTED_MODULE_3__.ChatScrollView, {
      children: chatContent
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_chat_input__WEBPACK_IMPORTED_MODULE_4__.ChatInput, {})]
  });
});

/***/ }),

/***/ "./src/libs/framework/component/chat-toast/index.tsx":
/*!***********************************************************!*\
  !*** ./src/libs/framework/component/chat-toast/index.tsx ***!
  \***********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ChatToast: function() { return /* binding */ ChatToast; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/slicedToArray.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var _libs_ui_kit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/libs/ui-kit */ "./src/libs/ui-kit/index.ts");
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/framework/component/chat-toast/index.module.less");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _libs_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/libs/types */ "./src/libs/types/index.ts");
/* harmony import */ var _libs_provider_context_chat_store_context__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/libs/provider/context/chat-store-context */ "./src/libs/provider/context/chat-store-context.tsx");
/* harmony import */ var _tarojs_components__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @tarojs/components */ "./node_modules/.pnpm/@tarojs+plugin-platform-weapp@4.0.8_@tarojs+service@4.0.8_@swc+helpers@0.5.15__@tarojs+shared@4.0.8/node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");








var ChatToast = function ChatToast() {
  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(),
    _useState2 = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_6__["default"])(_useState, 2),
    event = _useState2[0],
    setEvent = _useState2[1];
  var uiEvent = (0,_libs_provider_context_chat_store_context__WEBPACK_IMPORTED_MODULE_4__.useUiEventStore)(function (store) {
    return store.event;
  });
  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(function () {
    uiEvent.on(_libs_types__WEBPACK_IMPORTED_MODULE_3__.UIEventType.ChatToastShow, function (e) {
      setEvent(e);
    });
  }, [uiEvent]);
  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(function () {
    var timeout = setTimeout(function () {
      setEvent(undefined);
    }, Math.max(Math.min(10000, (event === null || event === void 0 ? void 0 : event.duration) || 6000), 3000));
    return function () {
      clearTimeout(timeout);
    };
  }, [event]);
  if (!event || !event.content) {
    return null;
  }
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_7__.View, {
    className: _index_module_less__WEBPACK_IMPORTED_MODULE_1__["default"]["chat-toast"],
    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_libs_ui_kit__WEBPACK_IMPORTED_MODULE_0__.Toast, {
      className: _index_module_less__WEBPACK_IMPORTED_MODULE_1__["default"].container,
      icon: event.icon,
      isNeedClose: false,
      children: event.content
    })
  });
};

/***/ }),

/***/ "./src/libs/framework/index.ts":
/*!*************************************!*\
  !*** ./src/libs/framework/index.ts ***!
  \*************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ChatErrorDefault: function() { return /* reexport safe */ _component_chat_error__WEBPACK_IMPORTED_MODULE_2__.ChatErrorDefault; },
/* harmony export */   ChatFramework: function() { return /* reexport safe */ _component_chat_framework__WEBPACK_IMPORTED_MODULE_0__.ChatFramework; },
/* harmony export */   ChatSlot: function() { return /* reexport safe */ _component_chat_slot__WEBPACK_IMPORTED_MODULE_1__.ChatSlot; }
/* harmony export */ });
/* harmony import */ var _component_chat_framework__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./component/chat-framework */ "./src/libs/framework/component/chat-framework/index.tsx");
/* harmony import */ var _component_chat_slot__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./component/chat-slot */ "./src/libs/framework/component/chat-slot/index.tsx");
/* harmony import */ var _component_chat_error__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./component/chat-error */ "./src/libs/framework/component/chat-error/index.tsx");




/***/ }),

/***/ "./src/libs/hooks/index.ts":
/*!*********************************!*\
  !*** ./src/libs/hooks/index.ts ***!
  \*********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   usePersistCallback: function() { return /* reexport safe */ _use_persist_callback__WEBPACK_IMPORTED_MODULE_2__.usePersistCallback; },
/* harmony export */   useSize: function() { return /* reexport safe */ _use_size__WEBPACK_IMPORTED_MODULE_3__.useSize; },
/* harmony export */   useUpdateEffect: function() { return /* reexport safe */ _use_update_effect__WEBPACK_IMPORTED_MODULE_1__.useUpdateEffect; },
/* harmony export */   useValidContext: function() { return /* reexport safe */ _use_valid_context__WEBPACK_IMPORTED_MODULE_0__.useValidContext; }
/* harmony export */ });
/* harmony import */ var _use_valid_context__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./use-valid-context */ "./src/libs/hooks/use-valid-context.ts");
/* harmony import */ var _use_update_effect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./use-update-effect */ "./src/libs/hooks/use-update-effect.ts");
/* harmony import */ var _use_persist_callback__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./use-persist-callback */ "./src/libs/hooks/use-persist-callback.ts");
/* harmony import */ var _use_size__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./use-size */ "./src/libs/hooks/use-size.ts");





/***/ }),

/***/ "./src/libs/hooks/use-persist-callback.ts":
/*!************************************************!*\
  !*** ./src/libs/hooks/use-persist-callback.ts ***!
  \************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   usePersistCallback: function() { return /* binding */ usePersistCallback; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

var usePersistCallback = function usePersistCallback(fn) {
  var ref = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(fn);
  ref.current = fn;
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {
    return ref.current.apply(ref, arguments);
  }, []);
};

/***/ }),

/***/ "./src/libs/hooks/use-size.ts":
/*!************************************!*\
  !*** ./src/libs/hooks/use-size.ts ***!
  \************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useSize: function() { return /* binding */ useSize; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectSpread2.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectSpread2.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/slicedToArray.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var _libs_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/libs/utils */ "./src/libs/utils/index.ts");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _use_persist_callback__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./use-persist-callback */ "./src/libs/hooks/use-persist-callback.ts");
/* provided dependency */ var document = __webpack_require__(/*! @tarojs/runtime */ "./node_modules/.pnpm/@tarojs+runtime@4.0.8/node_modules/@tarojs/runtime/dist/index.js")["document"];





var useSize = function useSize(id) {
  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(function () {
      return {
        width: 0,
        height: 0
      };
    }),
    _useState2 = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_3__["default"])(_useState, 2),
    size = _useState2[0],
    setState = _useState2[1];
  var reInitSize = (0,_use_persist_callback__WEBPACK_IMPORTED_MODULE_2__.usePersistCallback)(function () {
    if (_libs_utils__WEBPACK_IMPORTED_MODULE_0__.isWeb) {
      var el = document.getElementById(id);
      if (el) {
        return {
          width: el.clientWidth,
          height: el.clientHeight
        };
      }
    } else {
      (0,_libs_utils__WEBPACK_IMPORTED_MODULE_0__.getBoundingRect)("#".concat(id)).then(function (res) {
        var _res$;
        if (res !== null && res !== void 0 && (_res$ = res[0]) !== null && _res$ !== void 0 && _res$.width) {
          setState({
            width: res[0].width,
            height: res[0].height
          });
        }
      });
    }
  });
  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {
    reInitSize();
  }, [id]);
  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {
    //网页监听变化
    if (!_libs_utils__WEBPACK_IMPORTED_MODULE_0__.isWeb) {
      return;
    }
    var el = document.getElementById(id);
    if (!el) {
      return;
    }
    var resizeObserver = new ResizeObserver(function (entries) {
      entries.forEach(function (entry) {
        var _entry$target = entry.target,
          clientWidth = _entry$target.clientWidth,
          clientHeight = _entry$target.clientHeight;
        setState({
          width: clientWidth,
          height: clientHeight
        });
      });
    });
    resizeObserver.observe(el);
    return function () {
      resizeObserver.disconnect();
    };
  }, [id]);
  return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_4__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_4__["default"])({}, size), {}, {
    reInitSize: reInitSize
  });
};

/***/ }),

/***/ "./src/libs/hooks/use-update-effect.ts":
/*!*********************************************!*\
  !*** ./src/libs/hooks/use-update-effect.ts ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useUpdateEffect: function() { return /* binding */ useUpdateEffect; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

var useUpdateEffect = function useUpdateEffect(effect, deps) {
  var isMounted = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {
    if (!isMounted.current) {
      isMounted.current = true;
    } else {
      return effect();
    }
  }, deps);
};

/***/ }),

/***/ "./src/libs/hooks/use-valid-context.ts":
/*!*********************************************!*\
  !*** ./src/libs/hooks/use-valid-context.ts ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useValidContext: function() { return /* binding */ useValidContext; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _libs_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/libs/utils */ "./src/libs/utils/index.ts");


var useValidContext = function useValidContext(context) {
  var errorMsg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'Invalid chat frame context';
  var value = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(context);
  if (!(0,_libs_utils__WEBPACK_IMPORTED_MODULE_1__.isValidContext)(value)) {
    throw new Error(errorMsg);
  }
  return value;
};

/***/ }),

/***/ "./src/libs/i18n/index.ts":
/*!********************************!*\
  !*** ./src/libs/i18n/index.ts ***!
  \********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   I18n: function() { return /* binding */ I18n; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/classCallCheck.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/createClass.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var _libs_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/libs/types */ "./src/libs/types/index.ts");
/* harmony import */ var _resource__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./resource */ "./src/libs/i18n/resource/index.ts");





var I18n = /*#__PURE__*/function () {
  function I18n(language) {
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_2__["default"])(this, I18n);
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_3__["default"])(this, "language", void 0);
    this.language = language;
  }
  return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_4__["default"])(I18n, [{
    key: "t",
    value: function t(key, _options, _fallbackText) {
      var i18nKey = _resource__WEBPACK_IMPORTED_MODULE_1__.resource[this.language] || _resource__WEBPACK_IMPORTED_MODULE_1__.resource[_libs_types__WEBPACK_IMPORTED_MODULE_0__.Language.EN];
      if (i18nKey.simple[key]) {
        return i18nKey.simple[key];
      } else if (i18nKey.special[key]) {
        return i18nKey.special[key](_options);
      } else {
        return _fallbackText || "";
      }
    }
  }]);
}();

/***/ }),

/***/ "./src/libs/i18n/resource/index.ts":
/*!*****************************************!*\
  !*** ./src/libs/i18n/resource/index.ts ***!
  \*****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   resource: function() { return /* binding */ resource; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var _libs_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/libs/types */ "./src/libs/types/index.ts");
/* harmony import */ var _special_zh__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./special/zh */ "./src/libs/i18n/resource/special/zh.tsx");
/* harmony import */ var _special_en__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./special/en */ "./src/libs/i18n/resource/special/en.tsx");
/* harmony import */ var _simple_zh__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./simple/zh */ "./src/libs/i18n/resource/simple/zh.ts");
/* harmony import */ var _simple_en__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./simple/en */ "./src/libs/i18n/resource/simple/en.ts");






var resource = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_5__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_5__["default"])({}, _libs_types__WEBPACK_IMPORTED_MODULE_0__.Language.EN, {
  simple: _simple_en__WEBPACK_IMPORTED_MODULE_4__["default"],
  special: _special_en__WEBPACK_IMPORTED_MODULE_2__["default"]
}), _libs_types__WEBPACK_IMPORTED_MODULE_0__.Language.ZH_CN, {
  simple: _simple_zh__WEBPACK_IMPORTED_MODULE_3__["default"],
  special: _special_zh__WEBPACK_IMPORTED_MODULE_1__["default"]
});

/***/ }),

/***/ "./src/libs/i18n/resource/simple/en.ts":
/*!*********************************************!*\
  !*** ./src/libs/i18n/resource/simple/en.ts ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
/* harmony default export */ __webpack_exports__["default"] = ({
  noAnswer: "No answer",
  chatFooterTip: "Powered by Coze",
  sendFailed: "Send Failed",
  chatInputPlaceholder: "Send Message",
  retryBtn: "retry",
  messageListLoading: "loading...",
  chooseImage: "picture",
  chooseCamera: "camera",
  chooseImageError: "upload failed",
  messageTypeUnSupport: "The message is not unsupported.",
  defaultHeaderTitle: "Coze Bot",
  copyCode: "Copy",
  copyText: "Copy",
  copySuccess: "Copy success",
  copyFailed: "Copy failed",
  clearContextDivide: "Context cleared",
  clearContextFailed: "Clear context failed",
  clearMessageFailed: "Clear message failed",
  playVoice: "Play voice",
  permissionMkfTitle: "Turn on microphone permission",
  permissionMkfDesc: "Unable to use the voice interaction function, please reauthorize the microphone permission",
  permissionMkfBtnIKnown: "I know",
  audioInputPcText: "Hold down here or the space to speak",
  audioInputMobileText: "Hold on and talk",
  audioInputTooltipTouching: "Slide up to cancel the input and let go",
  audioInputTooltipCancel: "Release your hand to cancel the send",
  audioInputErrorUnDetectContent: "No content was detected",
  audioInputErrorRecord: "Recording has failed, please try again",
  unFocusInputText: "Click to activate input",
  audioInputTooltipSend: "Release to send",
  audioInputDisabledText: "Sending...",
  playVoiceFail: "Play voice failed",
  sendMessageUploadFailed: "Failed to upload file",
  sendMessageTranslationAudioFailed: "Failed to identify content",
  sendMessageTranslationAudioNone: "The content is not recognized",
  submit: "Submit",
  chatflowNodeInputPlaceholder: "Please enter content",
  taskMessageMyChoice: "My Choice:",
  miniChatError_1001: "The content is not recognized",
  miniChatError_1002: "Failed to create conversation",
  miniChatError_1003: "Failed to get message list",
  miniChatError_4000: "Request parameter error",
  miniChatError_4001: "The specified conversation does not exist",
  miniChatError_4002: "The specified conversation does not exist",
  miniChatError_4003: "The parameter passed to the meta_data field exceeds the field limit",
  miniChatError_4004: "The parameter passed to the additional_messages field exceeds the field limit",
  miniChatError_4005: "The specified message does not exist",
  miniChatError_4006: "The specified message does not exist",
  miniChatError_4008: "The daily use of the Bot has exceeded the limit",
  miniChatError_4009: "The current number of users is too high",
  miniChatError_4010: "The prompt token number of the previous question exceeds the model limit.",
  miniChatError_4011: "Insufficient balance of Coze Tokens in the current account.",
  miniChatError_4012: "Invalid model",
  miniChatError_4013: "Due to limited resources, the model usage frequency may be too high and the request may be intercepted by the system",
  miniChatError_4014: "The Bot cannot answer this question",
  miniChatError_4015: "The Bot is not published",
  miniChatError_4016: "There is already a running conversation in the current session, please wait for the conversation to complete before initiating a new conversation",
  miniChatError_4019: "The account has an overdue payment, please recharge immediately.",
  miniChatError_4020: "The current RPM has exceeded the purchased quota",
  miniChatError_4027: "Your account has an overdue payment, please recharge immediately.",
  miniChatError_4028: "Insufficient coze credits balance, please wait for the quota refresh or upgrade to paid version.",
  miniChatError_4100: "The personal access token (PAT) is incorrect",
  miniChatError_4101: "The personal access token currently used does not have permission to access the resource",
  miniChatError_4300: "The file to be uploaded is empty",
  miniChatError_4301: "Only one file can be uploaded at a time",
  miniChatError_4302: "The file size to be uploaded exceeds the interface limit",
  miniChatError_4303: "The file format is not supported",
  miniChatError_4304: "File issues",
  miniChatError_5000: "Internal server error",
  miniChatError_6006: "Workflow code node execution timeout: The node in the workflow has exceeded its max execution time one minute. ",
  miniChatError_700012006: "The personal access token (PAT) is incorrect",
  miniChatError_788788103: "Your account has an overdue payment, please recharge immediately."
});

/***/ }),

/***/ "./src/libs/i18n/resource/simple/zh.ts":
/*!*********************************************!*\
  !*** ./src/libs/i18n/resource/simple/zh.ts ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
/* harmony default export */ __webpack_exports__["default"] = ({
  noAnswer: "没有回答",
  chatFooterTip: "由扣子提供",
  sendFailed: "发送失败",
  chatInputPlaceholder: "发送消息",
  retryBtn: "重试",
  messageListLoading: "加载中...",
  chooseImage: "照片",
  chooseCamera: "拍照",
  chooseImageError: "上传失败",
  messageTypeUnSupport: "不支持支持该消息格式",
  defaultHeaderTitle: "扣子智能体",
  copyCode: "复制",
  copyText: "复制",
  submit: "提交",
  copySuccess: "复制成功",
  copyFailed: "复制失败",
  clearContextDivide: "清空上下文",
  clearContextFailed: "清空上下文失败",
  clearMessageFailed: "清空消息失败",
  playVoice: "播放语音",
  permissionMkfTitle: "开启麦克风权限",
  permissionMkfDesc: "无法使用语音交互功能，请重新授权麦克风权限",
  permissionMkfBtnIKnown: "我知道了",
  audioInputPcText: "按住此处或空格说话",
  audioInputMobileText: "按住说话",
  audioInputTooltipTouching: "上滑取消输入，松手发送",
  audioInputTooltipSend: "松手发送",
  audioInputTooltipCancel: "松手取消发送",
  audioInputErrorUnDetectContent: "未检测到内容",
  audioInputErrorRecord: "录音失败，请重试",
  audioInputDisabledText: "消息发送中...",
  unFocusInputText: "点击当前对话区激活输入框",
  playVoiceFail: "播放失败",
  sendMessageUploadFailed: "上传文件失败",
  sendMessageTranslationAudioFailed: "识别内容失败",
  sendMessageTranslationAudioNone: "未识别到内容",
  chatflowNodeInputPlaceholder: "请输入内容",
  taskMessageMyChoice: "我的选择是：",
  miniChatError_1001: "未识别到内容",
  miniChatError_1002: "会话创建失败",
  miniChatError_1003: "获取消息列表失败",
  miniChatError_4000: "请求参数错误",
  miniChatError_4001: "指定对话不存在",
  miniChatError_4002: "指定对话不存在",
  miniChatError_4003: "meta_data 字段的传参超出字段限制",
  miniChatError_4004: "additional_messages 字段的传参超出字段限制",
  miniChatError_4005: "指定消息不存在",
  miniChatError_4006: "指定消息不存在",
  miniChatError_4008: "当日 Bot 使用次数超过限制",
  miniChatError_4009: "当前使用人数过多",
  miniChatError_4010: "前问题请求的 prompt token 数量超过模型上限",
  miniChatError_4011: "当前账户的 Coze Token 余额不足",
  miniChatError_4012: "无效模型",
  miniChatError_4013: "因资源有限，模型使用频率过高时，请求可能会被系统拦截",
  miniChatError_4014: "Bot 无法回答此问题",
  miniChatError_4015: "此 Bot 未发布",
  miniChatError_4016: "当前会话中已有运行中的对话，请等待对话完成后再发起新的对话",
  miniChatError_4019: "扣子专业版账号已欠费",
  miniChatError_4020: "当前 RPM 已超出购买的额度",
  miniChatError_4027: "专业版账户已欠费，请立即充值",
  miniChatError_4028: "资源点余额不足，请等待额度刷新或升级到专业版",
  miniChatError_4100: "个人访问令牌（PAT）不正确",
  miniChatError_4101: "当前使用的个人访问令牌没有权限访问该资源",
  miniChatError_4300: "待上传的文件为空",
  miniChatError_4301: "每次调用上传文件接口，只能上传一个文件",
  miniChatError_4302: "待上传的文件大小超出接口限制",
  miniChatError_4303: "文件格式问题，暂不支持上传此类型的文件",
  miniChatError_4304: "文件故障等问题",
  miniChatError_5000: "服务端内部错误",
  miniChatError_6006: "code节点超时",
  miniChatError_700012006: "个人访问令牌（PAT）不正确",
  miniChatError_788788103: "专业版账户已欠费，请立即充值"
});

/***/ }),

/***/ "./src/libs/i18n/resource/special/en.tsx":
/*!***********************************************!*\
  !*** ./src/libs/i18n/resource/special/en.tsx ***!
  \***********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");

var resource = {
  chatInitRetry: function chatInitRetry(options) {
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {
      children: ["Start error,", options === null || options === void 0 ? void 0 : options.retry]
    });
  },
  messageListRetry: function messageListRetry(options) {
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {
      children: ["Get message history error,", options === null || options === void 0 ? void 0 : options.retry]
    });
  },
  copyLinkSuccess: function copyLinkSuccess(options) {
    return "Copy link: ".concat(options === null || options === void 0 ? void 0 : options.url);
  },
  audioInputTooltipTick: function audioInputTooltipTick(options) {
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {
      children: [options === null || options === void 0 ? void 0 : options.duration, " automatically end recording after and sending"]
    });
  }
};
/* harmony default export */ __webpack_exports__["default"] = (resource);

/***/ }),

/***/ "./src/libs/i18n/resource/special/zh.tsx":
/*!***********************************************!*\
  !*** ./src/libs/i18n/resource/special/zh.tsx ***!
  \***********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");

var resource = {
  chatInitRetry: function chatInitRetry(options) {
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {
      children: ["\u542F\u52A8\u9047\u5230\u95EE\u9898\uFF0C", options === null || options === void 0 ? void 0 : options.retry]
    });
  },
  messageListRetry: function messageListRetry(options) {
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {
      children: ["\u83B7\u53D6\u5386\u53F2\u6570\u636E\u5931\u8D25\uFF0C", options === null || options === void 0 ? void 0 : options.retry]
    });
  },
  copyLinkSuccess: function copyLinkSuccess(options) {
    return "\u590D\u5236\u94FE\u63A5: ".concat(options === null || options === void 0 ? void 0 : options.url);
  },
  audioInputTooltipTick: function audioInputTooltipTick(options) {
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {
      children: [options === null || options === void 0 ? void 0 : options.duration, " \u540E\u81EA\u52A8\u7ED3\u675F\u5F55\u5236\u5E76\u53D1\u9001"]
    });
  }
};
/* harmony default export */ __webpack_exports__["default"] = (resource);

/***/ }),

/***/ "./src/libs/index.ts":
/*!***************************!*\
  !*** ./src/libs/index.ts ***!
  \***************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ChatErrorDefault: function() { return /* reexport safe */ _framework__WEBPACK_IMPORTED_MODULE_0__.ChatErrorDefault; },
/* harmony export */   ChatFramework: function() { return /* reexport safe */ _framework__WEBPACK_IMPORTED_MODULE_0__.ChatFramework; },
/* harmony export */   ChatService: function() { return /* reexport safe */ _services__WEBPACK_IMPORTED_MODULE_3__.ChatService; },
/* harmony export */   ChatSlot: function() { return /* reexport safe */ _framework__WEBPACK_IMPORTED_MODULE_0__.ChatSlot; },
/* harmony export */   ChatType: function() { return /* reexport safe */ _types__WEBPACK_IMPORTED_MODULE_5__.ChatType; },
/* harmony export */   Language: function() { return /* reexport safe */ _types__WEBPACK_IMPORTED_MODULE_5__.Language; },
/* harmony export */   Logger: function() { return /* reexport safe */ _utils__WEBPACK_IMPORTED_MODULE_4__.Logger; },
/* harmony export */   MdStream: function() { return /* reexport safe */ _ui_kit__WEBPACK_IMPORTED_MODULE_2__.MdStream; },
/* harmony export */   RawMessageType: function() { return /* reexport safe */ _types__WEBPACK_IMPORTED_MODULE_5__.RawMessageType; },
/* harmony export */   useChatInfoStore: function() { return /* reexport safe */ _provider__WEBPACK_IMPORTED_MODULE_1__.useChatInfoStore; },
/* harmony export */   useConversationStore: function() { return /* reexport safe */ _provider__WEBPACK_IMPORTED_MODULE_1__.useConversationStore; },
/* harmony export */   useInitSuccess: function() { return /* reexport safe */ _provider__WEBPACK_IMPORTED_MODULE_1__.useInitSuccess; },
/* harmony export */   useSendMessage: function() { return /* reexport safe */ _services__WEBPACK_IMPORTED_MODULE_3__.useSendMessage; }
/* harmony export */ });
/* harmony import */ var _framework__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./framework */ "./src/libs/framework/index.ts");
/* harmony import */ var _provider__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./provider */ "./src/libs/provider/index.tsx");
/* harmony import */ var _ui_kit__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ui-kit */ "./src/libs/ui-kit/index.ts");
/* harmony import */ var _services__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./services */ "./src/libs/services/index.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./utils */ "./src/libs/utils/index.ts");
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./types */ "./src/libs/types/index.ts");







/***/ }),

/***/ "./src/libs/provider/context/chat-frame-props-context.tsx":
/*!****************************************************************!*\
  !*** ./src/libs/provider/context/chat-frame-props-context.tsx ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ChatFamePropsProvider: function() { return /* binding */ ChatFamePropsProvider; },
/* harmony export */   useChatPropsContext: function() { return /* binding */ useChatPropsContext; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _libs_hooks__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/libs/hooks */ "./src/libs/hooks/index.ts");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");

var _excluded = ["children"];



var ChatFramePropsContext = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({
  chat: null,
  auth: null,
  user: null,
  children: null,
  setting: null
});
var ChatFamePropsProvider = function ChatFamePropsProvider(_ref) {
  var children = _ref.children,
    props = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_3__["default"])(_ref, _excluded);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ChatFramePropsContext.Provider, {
    value: props,
    children: children
  });
};
var useChatPropsContext = function useChatPropsContext() {
  return (0,_libs_hooks__WEBPACK_IMPORTED_MODULE_1__.useValidContext)(ChatFramePropsContext);
};

/***/ }),

/***/ "./src/libs/provider/context/chat-store-context.tsx":
/*!**********************************************************!*\
  !*** ./src/libs/provider/context/chat-store-context.tsx ***!
  \**********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ChatStoreProvider: function() { return /* binding */ ChatStoreProvider; },
/* harmony export */   useApiClientStore: function() { return /* binding */ useApiClientStore; },
/* harmony export */   useChatInfoStore: function() { return /* binding */ useChatInfoStore; },
/* harmony export */   useChatInputStore: function() { return /* binding */ useChatInputStore; },
/* harmony export */   useChatPropsStore: function() { return /* binding */ useChatPropsStore; },
/* harmony export */   useChatStatusStore: function() { return /* binding */ useChatStatusStore; },
/* harmony export */   useConversationStore: function() { return /* binding */ useConversationStore; },
/* harmony export */   useI18n: function() { return /* binding */ useI18n; },
/* harmony export */   useUiEventStore: function() { return /* binding */ useUiEventStore; },
/* harmony export */   useUserInfoStore: function() { return /* binding */ useUserInfoStore; }
/* harmony export */ });
/* unused harmony export ChatPropsProvider */
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _libs_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/libs/utils */ "./src/libs/utils/index.ts");
/* harmony import */ var zustand_traditional__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! zustand/traditional */ "./node_modules/.pnpm/zustand@4.5.6_@types+react@18.2.37_react@18.3.1/node_modules/zustand/esm/traditional.mjs");
/* harmony import */ var zustand_shallow__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! zustand/shallow */ "./node_modules/.pnpm/zustand@4.5.6_@types+react@18.2.37_react@18.3.1/node_modules/zustand/esm/shallow.mjs");
/* harmony import */ var _libs_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/libs/types */ "./src/libs/types/index.ts");
/* harmony import */ var _libs_provider_store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/libs/provider/store */ "./src/libs/provider/store/index.ts");
/* harmony import */ var _libs_i18n__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/libs/i18n */ "./src/libs/i18n/index.ts");
/* harmony import */ var _libs_hooks__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/libs/hooks */ "./src/libs/hooks/index.ts");
/* harmony import */ var _chat_frame_props_context__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./chat-frame-props-context */ "./src/libs/provider/context/chat-frame-props-context.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");











/**** Begin store的定义位置 */

var StoreType = /*#__PURE__*/function (StoreType) {
  StoreType[StoreType["ApiClientStore"] = 0] = "ApiClientStore";
  StoreType[StoreType["ChatInfoStore"] = 1] = "ChatInfoStore";
  StoreType[StoreType["ConversationStore"] = 2] = "ConversationStore";
  StoreType[StoreType["ChatStatusStore"] = 3] = "ChatStatusStore";
  StoreType[StoreType["UserInfoStore"] = 4] = "UserInfoStore";
  StoreType[StoreType["I18n"] = 5] = "I18n";
  StoreType[StoreType["ChatPropsStore"] = 6] = "ChatPropsStore";
  StoreType[StoreType["UiEvent"] = 7] = "UiEvent";
  StoreType[StoreType["ChatInputStore"] = 8] = "ChatInputStore";
  return StoreType;
}(StoreType || {});
var ChatStoreContext = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_8__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_8__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_8__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_8__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_8__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_8__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_8__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_8__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_8__["default"])({}, StoreType.ApiClientStore, null), StoreType.ChatInfoStore, null), StoreType.ConversationStore, null), StoreType.ChatStatusStore, null), StoreType.UserInfoStore, null), StoreType.I18n, null), StoreType.ChatPropsStore, null), StoreType.UiEvent, null), StoreType.ChatInputStore, null));

/*** End store的定义位置 */
var ChatPropsProvider = ChatStoreContext.Provider;
var ChatStoreProvider = function ChatStoreProvider(_ref) {
  var children = _ref.children;
  var chatProps = (0,_chat_frame_props_context__WEBPACK_IMPORTED_MODULE_6__.useChatPropsContext)();
  var auth = chatProps.auth,
    chat = chatProps.chat,
    setting = chatProps.setting;
  _libs_utils__WEBPACK_IMPORTED_MODULE_1__.logger.setLoglevel(setting === null || setting === void 0 ? void 0 : setting.logLevel);
  var apiClientStore = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {
    return (0,_libs_provider_store__WEBPACK_IMPORTED_MODULE_3__.createApiClientStore)({
      auth: auth,
      setting: setting,
      chat: chat
    });
  }, []);
  var chatInfoStore = (0,_libs_provider_store__WEBPACK_IMPORTED_MODULE_3__.useCreateChatInfoStore)();
  var conversationStore = (0,_libs_provider_store__WEBPACK_IMPORTED_MODULE_3__.useCreateConversationStore)();
  var chatStatusStore = (0,_libs_provider_store__WEBPACK_IMPORTED_MODULE_3__.useCreateStatusStore)();
  var userInfoStore = (0,_libs_provider_store__WEBPACK_IMPORTED_MODULE_3__.useCreateUserInfoStore)();
  var chatPropsStore = (0,_libs_provider_store__WEBPACK_IMPORTED_MODULE_3__.useCreateChatPropsStore)();
  var uiEventStore = (0,_libs_provider_store__WEBPACK_IMPORTED_MODULE_3__.useCreateUiEventStore)();
  var chatInputStore = (0,_libs_provider_store__WEBPACK_IMPORTED_MODULE_3__.useCreateChatInputStore)();
  var i18nLocal = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {
    return (setting === null || setting === void 0 ? void 0 : setting.i18n) || new _libs_i18n__WEBPACK_IMPORTED_MODULE_4__.I18n((setting === null || setting === void 0 ? void 0 : setting.language) || _libs_types__WEBPACK_IMPORTED_MODULE_2__.Language.ZH_CN);
  }, []);
  var storeMap = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {
    return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_8__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_8__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_8__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_8__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_8__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_8__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_8__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_8__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_8__["default"])({}, StoreType.ApiClientStore, apiClientStore), StoreType.ChatInfoStore, chatInfoStore), StoreType.ConversationStore, conversationStore), StoreType.ChatStatusStore, chatStatusStore), StoreType.UserInfoStore, userInfoStore), StoreType.I18n, i18nLocal), StoreType.ChatPropsStore, chatPropsStore), StoreType.UiEvent, uiEventStore), StoreType.ChatInputStore, chatInputStore);
  }, []);
  _libs_utils__WEBPACK_IMPORTED_MODULE_1__.logger.debug("ChatFramework props:", chatProps);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(ChatStoreContext.Provider, {
    value: storeMap,
    children: children
  });
};
var useChatStoreContext = function useChatStoreContext() {
  return (0,_libs_hooks__WEBPACK_IMPORTED_MODULE_5__.useValidContext)(ChatStoreContext);
};
var useApiClientStore = function useApiClientStore(selector) {
  var store = useChatStoreContext();
  return (0,zustand_traditional__WEBPACK_IMPORTED_MODULE_9__.useStoreWithEqualityFn)(store[StoreType.ApiClientStore], selector, zustand_shallow__WEBPACK_IMPORTED_MODULE_10__.shallow);
};
var useChatInfoStore = function useChatInfoStore(selector) {
  var store = useChatStoreContext();
  return (0,zustand_traditional__WEBPACK_IMPORTED_MODULE_9__.useStoreWithEqualityFn)(store[StoreType.ChatInfoStore], selector, zustand_shallow__WEBPACK_IMPORTED_MODULE_10__.shallow);
};
var useConversationStore = function useConversationStore(selector) {
  var store = useChatStoreContext();
  return (0,zustand_traditional__WEBPACK_IMPORTED_MODULE_9__.useStoreWithEqualityFn)(store[StoreType.ConversationStore], selector, zustand_shallow__WEBPACK_IMPORTED_MODULE_10__.shallow);
};
var useChatStatusStore = function useChatStatusStore(selector) {
  var store = useChatStoreContext();
  return (0,zustand_traditional__WEBPACK_IMPORTED_MODULE_9__.useStoreWithEqualityFn)(store[StoreType.ChatStatusStore], selector, zustand_shallow__WEBPACK_IMPORTED_MODULE_10__.shallow);
};
var useUserInfoStore = function useUserInfoStore(selector) {
  var store = useChatStoreContext();
  return (0,zustand_traditional__WEBPACK_IMPORTED_MODULE_9__.useStoreWithEqualityFn)(store[StoreType.UserInfoStore], selector, zustand_shallow__WEBPACK_IMPORTED_MODULE_10__.shallow);
};
var useI18n = function useI18n() {
  var store = useChatStoreContext();
  return store[StoreType.I18n];
};
var useChatPropsStore = function useChatPropsStore(selector) {
  var store = useChatStoreContext();
  return (0,zustand_traditional__WEBPACK_IMPORTED_MODULE_9__.useStoreWithEqualityFn)(store[StoreType.ChatPropsStore], selector, zustand_shallow__WEBPACK_IMPORTED_MODULE_10__.shallow);
};
var useUiEventStore = function useUiEventStore(selector) {
  var store = useChatStoreContext();
  return (0,zustand_traditional__WEBPACK_IMPORTED_MODULE_9__.useStoreWithEqualityFn)(store[StoreType.UiEvent], selector, zustand_shallow__WEBPACK_IMPORTED_MODULE_10__.shallow);
};
var useChatInputStore = function useChatInputStore(selector) {
  var store = useChatStoreContext();
  return (0,zustand_traditional__WEBPACK_IMPORTED_MODULE_9__.useStoreWithEqualityFn)(store[StoreType.ChatInputStore], selector, zustand_shallow__WEBPACK_IMPORTED_MODULE_10__.shallow);
};

/***/ }),

/***/ "./src/libs/provider/context/index.tsx":
/*!*********************************************!*\
  !*** ./src/libs/provider/context/index.tsx ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ChatFamePropsProvider: function() { return /* reexport safe */ _chat_frame_props_context__WEBPACK_IMPORTED_MODULE_0__.ChatFamePropsProvider; },
/* harmony export */   ChatStoreProvider: function() { return /* reexport safe */ _chat_store_context__WEBPACK_IMPORTED_MODULE_1__.ChatStoreProvider; },
/* harmony export */   useApiClientStore: function() { return /* reexport safe */ _chat_store_context__WEBPACK_IMPORTED_MODULE_1__.useApiClientStore; },
/* harmony export */   useChatInfoStore: function() { return /* reexport safe */ _chat_store_context__WEBPACK_IMPORTED_MODULE_1__.useChatInfoStore; },
/* harmony export */   useChatInputStore: function() { return /* reexport safe */ _chat_store_context__WEBPACK_IMPORTED_MODULE_1__.useChatInputStore; },
/* harmony export */   useChatPropsContext: function() { return /* reexport safe */ _chat_frame_props_context__WEBPACK_IMPORTED_MODULE_0__.useChatPropsContext; },
/* harmony export */   useChatPropsStore: function() { return /* reexport safe */ _chat_store_context__WEBPACK_IMPORTED_MODULE_1__.useChatPropsStore; },
/* harmony export */   useChatStatusStore: function() { return /* reexport safe */ _chat_store_context__WEBPACK_IMPORTED_MODULE_1__.useChatStatusStore; },
/* harmony export */   useConversationStore: function() { return /* reexport safe */ _chat_store_context__WEBPACK_IMPORTED_MODULE_1__.useConversationStore; },
/* harmony export */   useI18n: function() { return /* reexport safe */ _chat_store_context__WEBPACK_IMPORTED_MODULE_1__.useI18n; },
/* harmony export */   useUserInfoStore: function() { return /* reexport safe */ _chat_store_context__WEBPACK_IMPORTED_MODULE_1__.useUserInfoStore; }
/* harmony export */ });
/* harmony import */ var _chat_frame_props_context__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chat-frame-props-context */ "./src/libs/provider/context/chat-frame-props-context.tsx");
/* harmony import */ var _chat_store_context__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chat-store-context */ "./src/libs/provider/context/chat-store-context.tsx");



/***/ }),

/***/ "./src/libs/provider/framework.tsx":
/*!*****************************************!*\
  !*** ./src/libs/provider/framework.tsx ***!
  \*****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ChatFrameProvider: function() { return /* binding */ ChatFrameProvider; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectSpread2.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectSpread2.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js");
/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./context */ "./src/libs/provider/context/index.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");


var _excluded = ["children"];


var ChatFrameProvider = function ChatFrameProvider(_ref) {
  var children = _ref.children,
    resProps = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_2__["default"])(_ref, _excluded);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_context__WEBPACK_IMPORTED_MODULE_0__.ChatFamePropsProvider, (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__["default"])({}, resProps), {}, {
    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_context__WEBPACK_IMPORTED_MODULE_0__.ChatStoreProvider, {
      children: children
    })
  }));
};

/***/ }),

/***/ "./src/libs/provider/hooks/use-chat-max-width.ts":
/*!*******************************************************!*\
  !*** ./src/libs/provider/hooks/use-chat-max-width.ts ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useChatMaxWidth: function() { return /* binding */ useChatMaxWidth; }
/* harmony export */ });
/* harmony import */ var _libs_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/libs/utils */ "./src/libs/utils/index.ts");
/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../context */ "./src/libs/provider/context/index.tsx");


var useChatMaxWidth = function useChatMaxWidth() {
  var maxWidth = (0,_context__WEBPACK_IMPORTED_MODULE_1__.useChatPropsStore)(function (store) {
    var _store$ui, _store$ui2;
    _libs_utils__WEBPACK_IMPORTED_MODULE_0__.logger.debug("ChatSlot useChatPropsStore...", (_store$ui = store.ui) === null || _store$ui === void 0 || (_store$ui = _store$ui.chatSlot) === null || _store$ui === void 0 || (_store$ui = _store$ui.base) === null || _store$ui === void 0 ? void 0 : _store$ui.maxWidth);
    return (_store$ui2 = store.ui) === null || _store$ui2 === void 0 || (_store$ui2 = _store$ui2.chatSlot) === null || _store$ui2 === void 0 || (_store$ui2 = _store$ui2.base) === null || _store$ui2 === void 0 ? void 0 : _store$ui2.maxWidth;
  });
  if (!maxWidth) {
    return undefined;
  }
  if (!(maxWidth - 0)) {
    return undefined;
  }
  return Math.max(300, maxWidth - 0);
};

/***/ }),

/***/ "./src/libs/provider/hooks/use-init-bg-info.ts":
/*!*****************************************************!*\
  !*** ./src/libs/provider/hooks/use-init-bg-info.ts ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useInitBgInfo: function() { return /* binding */ useInitBgInfo; }
/* harmony export */ });
/* harmony import */ var _libs_provider__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/libs/provider */ "./src/libs/provider/index.tsx");

var useInitBgInfo = function useInitBgInfo() {
  var bgInfoFromProps = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_0__.useChatPropsStore)(function (store) {
    return store.chat.bgInfo;
  });
  var bgInfo = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_0__.useChatInfoStore)(function (store) {
    var _store$info;
    return (_store$info = store.info) === null || _store$info === void 0 ? void 0 : _store$info.bgInfo;
  });
  var bgInfoResult = bgInfoFromProps || bgInfo;
  return bgInfoResult;
};

/***/ }),

/***/ "./src/libs/provider/hooks/use-init-success.ts":
/*!*****************************************************!*\
  !*** ./src/libs/provider/hooks/use-init-success.ts ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useInitSuccess: function() { return /* binding */ useInitSuccess; }
/* harmony export */ });
/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../context */ "./src/libs/provider/context/index.tsx");

var useInitSuccess = function useInitSuccess() {
  var _useChatInfoStore = (0,_context__WEBPACK_IMPORTED_MODULE_0__.useChatInfoStore)(function (store) {
      return {
        isLoading: store.isLoading,
        error: store.error
      };
    }),
    isLoading = _useChatInfoStore.isLoading,
    error = _useChatInfoStore.error;
  return isLoading === false && !error ? true : false;
};

/***/ }),

/***/ "./src/libs/provider/hooks/use-laytout.ts":
/*!************************************************!*\
  !*** ./src/libs/provider/hooks/use-laytout.ts ***!
  \************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useIsMobile: function() { return /* binding */ useIsMobile; }
/* harmony export */ });
/* unused harmony export useLayout */
/* harmony import */ var _libs_provider__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/libs/provider */ "./src/libs/provider/index.tsx");

var useLayout = function useLayout() {
  var layout = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_0__.useChatPropsStore)(function (store) {
    var _store$ui;
    return (_store$ui = store.ui) === null || _store$ui === void 0 ? void 0 : _store$ui.layout;
  });
  return layout === "mobile" ? "mobile" : "pc";
};
var useIsMobile = function useIsMobile() {
  return useLayout() === "mobile";
};

/***/ }),

/***/ "./src/libs/provider/hooks/use-theme-type.ts":
/*!***************************************************!*\
  !*** ./src/libs/provider/hooks/use-theme-type.ts ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useThemeType: function() { return /* binding */ useThemeType; }
/* harmony export */ });
/* harmony import */ var _use_init_bg_info__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./use-init-bg-info */ "./src/libs/provider/hooks/use-init-bg-info.ts");

var useThemeType = function useThemeType() {
  var bgInfo = (0,_use_init_bg_info__WEBPACK_IMPORTED_MODULE_0__.useInitBgInfo)();
  var theme = bgInfo !== null && bgInfo !== void 0 && bgInfo.pc && bgInfo !== null && bgInfo !== void 0 && bgInfo.mobile ? "bg-theme" : "light";
  return theme;
};

/***/ }),

/***/ "./src/libs/provider/hooks/use-voice-info.ts":
/*!***************************************************!*\
  !*** ./src/libs/provider/hooks/use-voice-info.ts ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useDefaultInputMode: function() { return /* binding */ useDefaultInputMode; },
/* harmony export */   useIsNeedAudioInput: function() { return /* binding */ useIsNeedAudioInput; },
/* harmony export */   useIsNeedTextToAudio: function() { return /* binding */ useIsNeedTextToAudio; },
/* harmony export */   useVoiceId: function() { return /* binding */ useVoiceId; }
/* harmony export */ });
/* unused harmony export useVoiceInfo */
/* harmony import */ var _libs_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/libs/types */ "./src/libs/types/index.ts");
/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../context */ "./src/libs/provider/context/index.tsx");
/* harmony import */ var _libs_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/libs/utils */ "./src/libs/utils/index.ts");
/* harmony import */ var _libs_ui_kit_chat_input_type__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/libs/ui-kit/chat-input/type */ "./src/libs/ui-kit/chat-input/type.ts");




var useVoiceInfo = function useVoiceInfo() {
  var voiceInfo = (0,_context__WEBPACK_IMPORTED_MODULE_1__.useChatInfoStore)(function (store) {
    var _store$info;
    return (_store$info = store.info) === null || _store$info === void 0 ? void 0 : _store$info.voiceInfo;
  });
  return voiceInfo;
};
var useIsNeedAudioInput = function useIsNeedAudioInput() {
  var isNeedAudio = (0,_context__WEBPACK_IMPORTED_MODULE_1__.useChatPropsStore)(function (store) {
    var _store$ui;
    return (_store$ui = store.ui) === null || _store$ui === void 0 || (_store$ui = _store$ui.chatSlot) === null || _store$ui === void 0 || (_store$ui = _store$ui.input) === null || _store$ui === void 0 ? void 0 : _store$ui.isNeedAudio;
  });
  /*const isWeixinWeb = useMemo(() => {
    if (isWeb) {
      if (navigator.userAgent.includes("wechat")) {
        return true;
      }
    }
    return false;
  }, []);*/
  // Tha audio input is not suppotted in weixin webview
  return isNeedAudio || false;
};
var useDefaultInputMode = function useDefaultInputMode() {
  var defaultMode = (0,_context__WEBPACK_IMPORTED_MODULE_1__.useChatInfoStore)(function (store) {
    var _store$info2;
    return (_store$info2 = store.info) === null || _store$info2 === void 0 || (_store$info2 = _store$info2.inputMode) === null || _store$info2 === void 0 ? void 0 : _store$info2.default;
  });
  var isNeedAudio = useIsNeedAudioInput();
  return defaultMode === 2 && isNeedAudio ? _libs_ui_kit_chat_input_type__WEBPACK_IMPORTED_MODULE_3__.InputType.Voice : _libs_ui_kit_chat_input_type__WEBPACK_IMPORTED_MODULE_3__.InputType.Text;
};
var useVoiceId = function useVoiceId() {
  var voiceInfo = (0,_context__WEBPACK_IMPORTED_MODULE_1__.useChatInfoStore)(function (store) {
    var _store$info3;
    return (_store$info3 = store.info) === null || _store$info3 === void 0 ? void 0 : _store$info3.voiceInfo;
  });
  var i18n = (0,_context__WEBPACK_IMPORTED_MODULE_1__.useI18n)();
  var langList = i18n.language === _libs_types__WEBPACK_IMPORTED_MODULE_0__.Language.ZH_CN ? ["zh", "en"] : ["en", "zh"];
  var voiceId;
  for (var i = 0; i < langList.length; i++) {
    var _voiceInfo$voiceConfi;
    if (voiceInfo !== null && voiceInfo !== void 0 && (_voiceInfo$voiceConfi = voiceInfo.voiceConfigMap) !== null && _voiceInfo$voiceConfi !== void 0 && (_voiceInfo$voiceConfi = _voiceInfo$voiceConfi[langList[i]]) !== null && _voiceInfo$voiceConfi !== void 0 && _voiceInfo$voiceConfi.voice_id) {
      var _voiceInfo$voiceConfi2;
      voiceId = voiceInfo === null || voiceInfo === void 0 || (_voiceInfo$voiceConfi2 = voiceInfo.voiceConfigMap) === null || _voiceInfo$voiceConfi2 === void 0 || (_voiceInfo$voiceConfi2 = _voiceInfo$voiceConfi2[langList[i]]) === null || _voiceInfo$voiceConfi2 === void 0 ? void 0 : _voiceInfo$voiceConfi2.voice_id;
    }
  }
  _libs_utils__WEBPACK_IMPORTED_MODULE_2__.logger.debug("useVoiceId voiceInfo:", voiceInfo, voiceId);
  return voiceId;
};
var useIsNeedTextToAudio = function useIsNeedTextToAudio() {
  var voiceInfo = useVoiceInfo();
  var voiceId = useVoiceId();
  _libs_utils__WEBPACK_IMPORTED_MODULE_2__.logger.debug("useIsNeedAudioInput info:", {
    voiceId: voiceId,
    isNeedTextToAudio: voiceId && !!(voiceInfo !== null && voiceInfo !== void 0 && voiceInfo.isTextToVoiceEnable) || false
  });
  return voiceId && !!(voiceInfo !== null && voiceInfo !== void 0 && voiceInfo.isTextToVoiceEnable) || false;
};

/***/ }),

/***/ "./src/libs/provider/index.tsx":
/*!*************************************!*\
  !*** ./src/libs/provider/index.tsx ***!
  \*************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ChatFrameProvider: function() { return /* reexport safe */ _framework__WEBPACK_IMPORTED_MODULE_1__.ChatFrameProvider; },
/* harmony export */   useApiClientStore: function() { return /* reexport safe */ _context__WEBPACK_IMPORTED_MODULE_0__.useApiClientStore; },
/* harmony export */   useChatInfoStore: function() { return /* reexport safe */ _context__WEBPACK_IMPORTED_MODULE_0__.useChatInfoStore; },
/* harmony export */   useChatMaxWidth: function() { return /* reexport safe */ _hooks_use_chat_max_width__WEBPACK_IMPORTED_MODULE_6__.useChatMaxWidth; },
/* harmony export */   useChatPropsContext: function() { return /* reexport safe */ _context__WEBPACK_IMPORTED_MODULE_0__.useChatPropsContext; },
/* harmony export */   useChatPropsStore: function() { return /* reexport safe */ _context__WEBPACK_IMPORTED_MODULE_0__.useChatPropsStore; },
/* harmony export */   useChatStatusStore: function() { return /* reexport safe */ _context__WEBPACK_IMPORTED_MODULE_0__.useChatStatusStore; },
/* harmony export */   useConversationStore: function() { return /* reexport safe */ _context__WEBPACK_IMPORTED_MODULE_0__.useConversationStore; },
/* harmony export */   useDefaultInputMode: function() { return /* reexport safe */ _hooks_use_voice_info__WEBPACK_IMPORTED_MODULE_7__.useDefaultInputMode; },
/* harmony export */   useI18n: function() { return /* reexport safe */ _context__WEBPACK_IMPORTED_MODULE_0__.useI18n; },
/* harmony export */   useInitBgInfo: function() { return /* reexport safe */ _hooks_use_init_bg_info__WEBPACK_IMPORTED_MODULE_2__.useInitBgInfo; },
/* harmony export */   useInitSuccess: function() { return /* reexport safe */ _hooks_use_init_success__WEBPACK_IMPORTED_MODULE_5__.useInitSuccess; },
/* harmony export */   useIsMobile: function() { return /* reexport safe */ _hooks_use_laytout__WEBPACK_IMPORTED_MODULE_4__.useIsMobile; },
/* harmony export */   useIsNeedAudioInput: function() { return /* reexport safe */ _hooks_use_voice_info__WEBPACK_IMPORTED_MODULE_7__.useIsNeedAudioInput; },
/* harmony export */   useIsNeedTextToAudio: function() { return /* reexport safe */ _hooks_use_voice_info__WEBPACK_IMPORTED_MODULE_7__.useIsNeedTextToAudio; },
/* harmony export */   useThemeType: function() { return /* reexport safe */ _hooks_use_theme_type__WEBPACK_IMPORTED_MODULE_3__.useThemeType; },
/* harmony export */   useUserInfoStore: function() { return /* reexport safe */ _context__WEBPACK_IMPORTED_MODULE_0__.useUserInfoStore; },
/* harmony export */   useVoiceId: function() { return /* reexport safe */ _hooks_use_voice_info__WEBPACK_IMPORTED_MODULE_7__.useVoiceId; }
/* harmony export */ });
/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./context */ "./src/libs/provider/context/index.tsx");
/* harmony import */ var _framework__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./framework */ "./src/libs/provider/framework.tsx");
/* harmony import */ var _hooks_use_init_bg_info__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./hooks/use-init-bg-info */ "./src/libs/provider/hooks/use-init-bg-info.ts");
/* harmony import */ var _hooks_use_theme_type__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./hooks/use-theme-type */ "./src/libs/provider/hooks/use-theme-type.ts");
/* harmony import */ var _hooks_use_laytout__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./hooks/use-laytout */ "./src/libs/provider/hooks/use-laytout.ts");
/* harmony import */ var _hooks_use_init_success__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./hooks/use-init-success */ "./src/libs/provider/hooks/use-init-success.ts");
/* harmony import */ var _hooks_use_chat_max_width__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./hooks/use-chat-max-width */ "./src/libs/provider/hooks/use-chat-max-width.ts");
/* harmony import */ var _hooks_use_voice_info__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./hooks/use-voice-info */ "./src/libs/provider/hooks/use-voice-info.ts");









/***/ }),

/***/ "./src/libs/provider/store/api-client.ts":
/*!***********************************************!*\
  !*** ./src/libs/provider/store/api-client.ts ***!
  \***********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createApiClientStore: function() { return /* binding */ createApiClientStore; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectSpread2.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectSpread2.js");
/* harmony import */ var zustand__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! zustand */ "./node_modules/.pnpm/zustand@4.5.6_@types+react@18.2.37_react@18.3.1/node_modules/zustand/esm/index.mjs");
/* harmony import */ var _libs_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/libs/utils */ "./src/libs/utils/index.ts");
/* harmony import */ var _libs_services__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/libs/services */ "./src/libs/services/index.ts");




var createApiClientStore = function createApiClientStore(_ref) {
  var auth = _ref.auth,
    setting = _ref.setting,
    chat = _ref.chat;
  var token = auth.token,
    onRefreshToken = auth.onRefreshToken,
    _auth$connectorId = auth.connectorId,
    connectorId = _auth$connectorId === void 0 ? "999" : _auth$connectorId;
  var _ref2 = setting || {},
    apiBaseUrl = _ref2.apiBaseUrl,
    _ref2$requestHeader = _ref2.requestHeader,
    requestHeader = _ref2$requestHeader === void 0 ? {} : _ref2$requestHeader,
    onGetCustomChatService = _ref2.onGetCustomChatService;
  var apiClient = new _libs_utils__WEBPACK_IMPORTED_MODULE_0__.MiniCozeApi({
    token: token,
    allowPersonalAccessTokenInBrowser: true,
    baseURL: apiBaseUrl,
    axiosOptions: {
      headers: (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__["default"])({}, requestHeader)
    },
    debug: _libs_utils__WEBPACK_IMPORTED_MODULE_0__.logger.isDebug(),
    onRefreshToken: onRefreshToken
  });
  var chatServiceProps = {
    apiClient: apiClient,
    connectorId: connectorId,
    appId: chat.appId,
    chatType: chat.type
  };
  var chatService = (onGetCustomChatService === null || onGetCustomChatService === void 0 ? void 0 : onGetCustomChatService(chatServiceProps)) || new _libs_services__WEBPACK_IMPORTED_MODULE_1__.ChatService(chatServiceProps);
  return (0,zustand__WEBPACK_IMPORTED_MODULE_3__.create)()(function (_set) {
    return {
      connectorId: connectorId,
      apiClient: apiClient,
      chatService: chatService
    };
  });
};

/***/ }),

/***/ "./src/libs/provider/store/chat-info.ts":
/*!**********************************************!*\
  !*** ./src/libs/provider/store/chat-info.ts ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useCreateChatInfoStore: function() { return /* binding */ useCreateChatInfoStore; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectSpread2.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectSpread2.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/slicedToArray.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var zustand__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! zustand */ "./node_modules/.pnpm/zustand@4.5.6_@types+react@18.2.37_react@18.3.1/node_modules/zustand/esm/index.mjs");
/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../context */ "./src/libs/provider/context/index.tsx");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _libs_hooks__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/libs/hooks */ "./src/libs/hooks/index.ts");
/* harmony import */ var _libs_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/libs/utils */ "./src/libs/utils/index.ts");







var getCustomChatInfo = function getCustomChatInfo(chat) {
  return Object.fromEntries(Object.entries({
    name: chat.name,
    description: chat.description,
    icon_url: chat.icon_url,
    onboarding_info: chat.onboarding_info,
    bgInfo: chat.bgInfo,
    voiceInfo: chat.voiceInfo,
    suggestPromoteInfo: chat.suggestPromoteInfo
  }).filter(function (_ref) {
    var _ref2 = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__["default"])(_ref, 2),
      _ = _ref2[0],
      value = _ref2[1];
    return !!value;
  }));
};
var combineChatInfo = function combineChatInfo(chatInfoFromInit, customChatInfo) {
  var _customChatInfo$onboa, _customChatInfo$onboa2, _customChatInfo$onboa3, _chatInfoFromInit$onb, _customChatInfo$onboa4, _customChatInfo$onboa5, _chatInfoFromInit$onb2, _ref3, _chatInfoFromInit$onb3;
  var customSuggestionList = ((_customChatInfo$onboa = customChatInfo.onboarding_info) === null || _customChatInfo$onboa === void 0 || (_customChatInfo$onboa = _customChatInfo$onboa.suggested_questions) === null || _customChatInfo$onboa === void 0 ? void 0 : _customChatInfo$onboa.filter(function (item) {
    return !!item;
  })) || [];
  return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__["default"])({}, chatInfoFromInit), customChatInfo), {}, {
    onboarding_info: {
      display_all_suggestions: (_customChatInfo$onboa2 = (_customChatInfo$onboa3 = customChatInfo.onboarding_info) === null || _customChatInfo$onboa3 === void 0 ? void 0 : _customChatInfo$onboa3.display_all_suggestions) !== null && _customChatInfo$onboa2 !== void 0 ? _customChatInfo$onboa2 : (_chatInfoFromInit$onb = chatInfoFromInit.onboarding_info) === null || _chatInfoFromInit$onb === void 0 ? void 0 : _chatInfoFromInit$onb.display_all_suggestions,
      prologue: !!((_customChatInfo$onboa4 = customChatInfo.onboarding_info) !== null && _customChatInfo$onboa4 !== void 0 && _customChatInfo$onboa4.prologue) ? (_customChatInfo$onboa5 = customChatInfo.onboarding_info) === null || _customChatInfo$onboa5 === void 0 ? void 0 : _customChatInfo$onboa5.prologue : (_chatInfoFromInit$onb2 = chatInfoFromInit.onboarding_info) === null || _chatInfoFromInit$onb2 === void 0 ? void 0 : _chatInfoFromInit$onb2.prologue,
      suggested_questions: (_ref3 = !!(customSuggestionList !== null && customSuggestionList !== void 0 && customSuggestionList.length) ? customSuggestionList : (_chatInfoFromInit$onb3 = chatInfoFromInit.onboarding_info) === null || _chatInfoFromInit$onb3 === void 0 ? void 0 : _chatInfoFromInit$onb3.suggested_questions) === null || _ref3 === void 0 ? void 0 : _ref3.filter(function (item) {
        return !!item;
      })
    }
  });
};
var createChatInfoStore = function createChatInfoStore(_ref4) {
  var chat = _ref4.chat;
  // If the chat's parameter(name, description, icon_url, onboarding_info) is not empty, then use it to set the chat info
  var customChatInfo = getCustomChatInfo(chat);
  var chatInfoFromInit;
  return (0,zustand__WEBPACK_IMPORTED_MODULE_6__.create)()(function (set) {
    return {
      id: chat.appId,
      type: chat.type,
      info: null,
      isLoading: true,
      error: null,
      setIsLoading: function setIsLoading(isLoading) {
        set({
          isLoading: isLoading,
          error: null
        });
      },
      // 设置系统配置的数据
      setChatInfo: function setChatInfo(info) {
        chatInfoFromInit = info;
        _libs_utils__WEBPACK_IMPORTED_MODULE_3__.logger.debug("setChatInfo", {
          initInfo: info,
          customChatInfo: customChatInfo
        });
        set({
          error: null,
          isLoading: false,
          info: combineChatInfo(chatInfoFromInit, customChatInfo)
        });
      },
      // 设置自定义参数
      setCustomChatInfo: function setCustomChatInfo(info) {
        customChatInfo = getCustomChatInfo(info);
        if (!chatInfoFromInit) {
          return;
        }
        _libs_utils__WEBPACK_IMPORTED_MODULE_3__.logger.debug("setCustomChatInfo", {
          oldInfo: chatInfoFromInit,
          customChatInfo: customChatInfo
        });
        set({
          info: combineChatInfo(chatInfoFromInit, customChatInfo)
        });
      },
      setError: function setError(error) {
        set({
          isLoading: false,
          error: error
        });
      }
    };
  });
};
var useCreateChatInfoStore = function useCreateChatInfoStore() {
  var chatProps = (0,_context__WEBPACK_IMPORTED_MODULE_0__.useChatPropsContext)();
  var chatInfoStore = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () {
    return createChatInfoStore({
      chat: chatProps.chat
    });
  }, []);
  (0,_libs_hooks__WEBPACK_IMPORTED_MODULE_2__.useUpdateEffect)(function () {
    _libs_utils__WEBPACK_IMPORTED_MODULE_3__.logger.debug("useCreateChatInfoStore update chat props: ", chatProps.chat);
    chatInfoStore.getState().setCustomChatInfo(chatProps.chat);
  }, [chatProps.chat]);
  return chatInfoStore;
};

/***/ }),

/***/ "./src/libs/provider/store/chat-input.ts":
/*!***********************************************!*\
  !*** ./src/libs/provider/store/chat-input.ts ***!
  \***********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useCreateChatInputStore: function() { return /* binding */ useCreateChatInputStore; }
/* harmony export */ });
/* harmony import */ var zustand__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! zustand */ "./node_modules/.pnpm/zustand@4.5.6_@types+react@18.2.37_react@18.3.1/node_modules/zustand/esm/index.mjs");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);


var createChatInputStore = function createChatInputStore() {
  return (0,zustand__WEBPACK_IMPORTED_MODULE_1__.create)()(function (set) {
    return {
      taskList: [],
      setTaskList: function setTaskList(props) {
        set({
          taskList: (props === null || props === void 0 ? void 0 : props.taskList) || []
        });
      }
    };
  });
};
var useCreateChatInputStore = function useCreateChatInputStore() {
  var chatInputStore = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {
    return createChatInputStore();
  }, []);
  return chatInputStore;
};

/***/ }),

/***/ "./src/libs/provider/store/chat-props.ts":
/*!***********************************************!*\
  !*** ./src/libs/provider/store/chat-props.ts ***!
  \***********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useCreateChatPropsStore: function() { return /* binding */ useCreateChatPropsStore; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectSpread2.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectSpread2.js");
/* harmony import */ var zustand__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! zustand */ "./node_modules/.pnpm/zustand@4.5.6_@types+react@18.2.37_react@18.3.1/node_modules/zustand/esm/index.mjs");
/* harmony import */ var _libs_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/libs/utils */ "./src/libs/utils/index.ts");
/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../context */ "./src/libs/provider/context/index.tsx");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _libs_hooks__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/libs/hooks */ "./src/libs/hooks/index.ts");






var createChatPropsStore = function createChatPropsStore(props) {
  _libs_utils__WEBPACK_IMPORTED_MODULE_0__.logger.debug("createChatPropsStore", props);
  return (0,zustand__WEBPACK_IMPORTED_MODULE_4__.create)()(function (set) {
    return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__["default"])({}, props), {}, {
      setChatProps: function setChatProps(props) {
        set((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__["default"])({}, props));
      }
    });
  });
};
var useCreateChatPropsStore = function useCreateChatPropsStore() {
  var chatProps = (0,_context__WEBPACK_IMPORTED_MODULE_1__.useChatPropsContext)();
  var chatPropsStore = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(function () {
    return createChatPropsStore(chatProps);
  }, []);
  (0,_libs_hooks__WEBPACK_IMPORTED_MODULE_3__.useUpdateEffect)(function () {
    chatPropsStore.getState().setChatProps(chatProps);
    _libs_utils__WEBPACK_IMPORTED_MODULE_0__.logger.debug("useCreateChatPropsStore props Change", chatProps);
  }, [chatProps]);
  return chatPropsStore;
};

/***/ }),

/***/ "./src/libs/provider/store/chat-status.ts":
/*!************************************************!*\
  !*** ./src/libs/provider/store/chat-status.ts ***!
  \************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useCreateStatusStore: function() { return /* binding */ useCreateStatusStore; }
/* harmony export */ });
/* harmony import */ var zustand__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! zustand */ "./node_modules/.pnpm/zustand@4.5.6_@types+react@18.2.37_react@18.3.1/node_modules/zustand/esm/index.mjs");
/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../context */ "./src/libs/provider/context/index.tsx");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _libs_hooks__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/libs/hooks */ "./src/libs/hooks/index.ts");




var createChatStatusStore = function createChatStatusStore(_ref) {
  var isReadonly = _ref.isReadonly;
  return (0,zustand__WEBPACK_IMPORTED_MODULE_3__.create)()(function (set, get) {
    var wrapStateFunc = function wrapStateFunc(func) {
      return function () {
        var result = func.apply(void 0, arguments);
        get().setOpDisabledState();
        return result;
      };
    };
    return {
      isReadonly: isReadonly || false,
      isDeleting: false,
      isSendingMsg: false,
      isClearingContext: false,
      isAudioRecording: false,
      disableState: {
        clearMessage: isReadonly || false,
        clearContext: isReadonly || false,
        input: isReadonly || false
      },
      setIsReadonly: wrapStateFunc(function (isReadonly) {
        set({
          isReadonly: isReadonly
        });
      }),
      setIsAudioRecording: wrapStateFunc(function (isAudioRecording) {
        set({
          isAudioRecording: isAudioRecording
        });
      }),
      setIsDeleting: wrapStateFunc(function (isDeleting) {
        set({
          isDeleting: isDeleting
        });
      }),
      setIsSendingMsg: wrapStateFunc(function (isSendingMsg) {
        set({
          isSendingMsg: isSendingMsg
        });
      }),
      setIsClearingContext: wrapStateFunc(function (isClearingContext) {
        set({
          isClearingContext: isClearingContext
        });
      }),
      setOpDisabledState: function setOpDisabledState() {
        set({
          disableState: get().getOpDisabledState()
        });
      },
      getOpDisabledState: function getOpDisabledState() {
        var _get = get(),
          isDeleting = _get.isDeleting,
          isSendingMsg = _get.isSendingMsg,
          isClearingContext = _get.isClearingContext,
          isReadonly = _get.isReadonly;
        var isInteracting = isDeleting || isSendingMsg || isClearingContext;
        return {
          clearMessage: isReadonly || isInteracting,
          input: isReadonly || isInteracting,
          clearContext: isReadonly || isInteracting
        };
      }
    };
  });
};
var useCreateStatusStore = function useCreateStatusStore() {
  var _chatProps$ui3;
  var chatProps = (0,_context__WEBPACK_IMPORTED_MODULE_0__.useChatPropsContext)();
  var chatStatusStore = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () {
    var _chatProps$ui;
    return createChatStatusStore({
      isReadonly: (_chatProps$ui = chatProps.ui) === null || _chatProps$ui === void 0 ? void 0 : _chatProps$ui.isReadonly
    });
  }, []);
  (0,_libs_hooks__WEBPACK_IMPORTED_MODULE_2__.useUpdateEffect)(function () {
    var _chatProps$ui2;
    chatStatusStore.getState().setIsReadonly(!!((_chatProps$ui2 = chatProps.ui) !== null && _chatProps$ui2 !== void 0 && _chatProps$ui2.isReadonly));
  }, [(_chatProps$ui3 = chatProps.ui) === null || _chatProps$ui3 === void 0 ? void 0 : _chatProps$ui3.isReadonly]);
  return chatStatusStore;
};

/***/ }),

/***/ "./src/libs/provider/store/conversation.ts":
/*!*************************************************!*\
  !*** ./src/libs/provider/store/conversation.ts ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useCreateConversationStore: function() { return /* binding */ useCreateConversationStore; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectSpread2.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectSpread2.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js");
/* harmony import */ var zustand__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! zustand */ "./node_modules/.pnpm/zustand@4.5.6_@types+react@18.2.37_react@18.3.1/node_modules/zustand/esm/index.mjs");
/* harmony import */ var _libs_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/libs/utils */ "./src/libs/utils/index.ts");
/* harmony import */ var _libs_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/libs/types */ "./src/libs/types/index.ts");
/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../context */ "./src/libs/provider/context/index.tsx");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _libs_hooks__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/libs/hooks */ "./src/libs/hooks/index.ts");








var packMessageToGroup = function packMessageToGroup(newMessageList) {
  var groups = [];
  newMessageList.map(function (item) {
    var groupLocalIdCur = (0,_libs_utils__WEBPACK_IMPORTED_MODULE_0__.nanoid)();
    //进入这里的必需有一个localId,用于定位;
    var curChatId = item.chat_id,
      type = item.type;
    if (groups.length > 0) {
      var lastGroup = groups[groups.length - 1];
      var lastChatId = lastGroup.chatId;
      if (type !== "question" && lastChatId) {
        if (lastChatId === curChatId) {
          // 同一个对话中的消息放到一起。
          lastGroup.respMessages.push(item);
          return;
        }
      }
    }
    // 新的对话
    if (type !== "question") {
      groups.push({
        id: groupLocalIdCur,
        chatId: curChatId,
        respMessages: [item],
        sectionId: item.section_id
      });
    } else {
      groups.push({
        id: groupLocalIdCur,
        chatId: curChatId,
        query: item,
        respMessages: [],
        sectionId: item.section_id
      });
    }
  });
  return groups;
};

// 两个消息的结合出，需要进行合并，因为 问题、回答可能会处于两个请求中。
var combineMessageGroup = function combineMessageGroup(groupBefore, groupAfter) {
  var messageGroupsToSave = [];
  var lastGroupInBefore = groupBefore[groupBefore.length - 1];
  var firstGroupInAfter = groupAfter[0];
  if (!(firstGroupInAfter !== null && firstGroupInAfter !== void 0 && firstGroupInAfter.query) && firstGroupInAfter) {
    // 新消息是回答，回答是一定会有chatId的。
    // 如果chatId一致，则将新消息合并到当前的消息中。
    // 如果上一个query没有chatId，就认为这两个对话被两个请求被截断了，需要合并到一起
    if ((lastGroupInBefore === null || lastGroupInBefore === void 0 ? void 0 : lastGroupInBefore.chatId) === (firstGroupInAfter === null || firstGroupInAfter === void 0 ? void 0 : firstGroupInAfter.chatId) || !(lastGroupInBefore !== null && lastGroupInBefore !== void 0 && lastGroupInBefore.chatId)) {
      lastGroupInBefore.chatId = firstGroupInAfter === null || firstGroupInAfter === void 0 ? void 0 : firstGroupInAfter.chatId;
      groupAfter.shift(); // 合并后，清除上一个数据
      lastGroupInBefore.respMessages = [].concat((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_5__["default"])(lastGroupInBefore.respMessages), (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_5__["default"])(firstGroupInAfter.respMessages));
    }
  }
  messageGroupsToSave = [].concat((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_5__["default"])(groupBefore), (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_5__["default"])(groupAfter));
  return messageGroupsToSave;
};
var defaultData = {
  id: "",
  sectionId: "",
  chatMessageGroups: [],
  prevCursorId: "",
  prevHasMore: false,
  prevError: undefined,
  nextCursorId: "",
  nextHasMore: false,
  nextError: undefined,
  sendMessageService: undefined,
  inProcessChatMessageGroup: undefined,
  isUnshiftingMessageFlag: false
};
var createConversationStore = function createConversationStore(_ref) {
  var eventCallbacks = _ref.eventCallbacks;
  var eventCallbacksAboutMessage = eventCallbacks === null || eventCallbacks === void 0 ? void 0 : eventCallbacks.message;
  return (0,zustand__WEBPACK_IMPORTED_MODULE_6__.create)()(function (set, get) {
    var clearConversation = function clearConversation() {
      set((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__["default"])({}, defaultData));
      get().closeSendMessage();
    };
    return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__["default"])({}, defaultData), {}, {
      setEventCallbacksAboutMessage: function setEventCallbacksAboutMessage(callbacks) {
        eventCallbacksAboutMessage = callbacks;
      },
      setConversationDetail: function setConversationDetail(detail, messageList) {
        clearConversation();
        set((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__["default"])({}, detail), {}, {
          chatMessageGroups: packMessageToGroup(messageList)
        }));
      },
      setNewConversationId: function setNewConversationId(id) {
        clearConversation();
        // 新会话的时候，不需要向前翻页，且消息记录是空的。
        set({
          id: id
        });
      },
      setSectionId: function setSectionId(id) {
        set({
          sectionId: id
        });
      },
      // 处于末尾，目前只会存在于新回复消息。
      pushMessageList: function pushMessageList(list) {
        var curMessageGroups = get().chatMessageGroups;
        var newMessageGroups = packMessageToGroup(list);
        set({
          chatMessageGroups: combineMessageGroup(curMessageGroups, newMessageGroups)
        });
      },
      unshiftMessageList: function unshiftMessageList(conversationId, list) {
        var _chatMessageGroups$;
        var chatMessageGroups = get().chatMessageGroups;
        var conversationIdCur = get().id;
        if (conversationId !== conversationIdCur) {
          // 异常处理， 比如已经清空了数据，但是上一屏幕数据才到。
          return null;
        }
        var firstAnswerMessage;
        if (chatMessageGroups[0] && !(chatMessageGroups !== null && chatMessageGroups !== void 0 && (_chatMessageGroups$ = chatMessageGroups[0]) !== null && _chatMessageGroups$ !== void 0 && _chatMessageGroups$.query)) {
          firstAnswerMessage = chatMessageGroups.shift();
        }
        var topChatMessageGroups = combineMessageGroup(packMessageToGroup(list), firstAnswerMessage ? [firstAnswerMessage] : []);
        set({
          isUnshiftingMessageFlag: true,
          chatMessageGroups: [].concat((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_5__["default"])(topChatMessageGroups), (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_5__["default"])(chatMessageGroups))
        });
      },
      setPrevInfo: function setPrevInfo(prevHasMore, prevCursorId) {
        set({
          prevError: undefined,
          prevHasMore: prevHasMore,
          prevCursorId: prevCursorId
        });
      },
      setNextInfo: function setNextInfo(nextHasMore, nextCursorId) {
        set({
          nextError: undefined,
          nextHasMore: nextHasMore,
          nextCursorId: nextCursorId
        });
      },
      isShowOnBoarding: function isShowOnBoarding() {
        var _get = get(),
          chatMessageGroups = _get.chatMessageGroups,
          inProcessChatMessageGroup = _get.inProcessChatMessageGroup;
        return chatMessageGroups.length === 0 && !inProcessChatMessageGroup;
      },
      clearUnshiftingMessageFlg: function clearUnshiftingMessageFlg(scrollTop) {
        set({
          scrollTop: scrollTop,
          isUnshiftingMessageFlag: false
        });
      },
      setPrevError: function setPrevError(error) {
        set({
          prevError: error
        });
      },
      setNextError: function setNextError(error) {
        set({
          nextError: error
        });
      },
      setSendMessageService: function setSendMessageService(service) {
        set({
          sendMessageService: service
        });
        var groupLocalId = (0,_libs_utils__WEBPACK_IMPORTED_MODULE_0__.nanoid)();
        service.on(_libs_types__WEBPACK_IMPORTED_MODULE_1__.SendMessageEvent.ReceiveMessage, function (event) {
          var group = packMessageToGroup(event.messages)[0];
          _libs_utils__WEBPACK_IMPORTED_MODULE_0__.logger.debug("[dev] ReceiveMessage", event.messages[event.messages.length - 1].content);
          group.id = groupLocalId;
          group.isAWaiting = true;
          set({
            inProcessChatMessageGroup: group
          });
        });
        service.on(_libs_types__WEBPACK_IMPORTED_MODULE_1__.SendMessageEvent.ReceiveComplete, function (event) {
          var _eventCallbacksAboutM, _eventCallbacksAboutM2;
          var messages = event.messages,
            error = event.error;
          set({
            inProcessChatMessageGroup: undefined
          });
          var curMessageGroups = get().chatMessageGroups;
          var messageList = event.messages;
          if (messages.length === 1 && error) {
            messageList = [(0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__["default"])({}, messages[0]), {}, {
              error: error
            })];
          }
          var newGroup = packMessageToGroup(messageList)[0];
          newGroup.id = groupLocalId;
          newGroup.sectionId;
          if (newGroup.sectionId) {
            get().setSectionId(newGroup.sectionId || "");
          } else {
            newGroup.sectionId = get().sectionId;
          }
          (_eventCallbacksAboutM = eventCallbacksAboutMessage) === null || _eventCallbacksAboutM === void 0 || (_eventCallbacksAboutM2 = _eventCallbacksAboutM.afterMessageReceivedFinish) === null || _eventCallbacksAboutM2 === void 0 || _eventCallbacksAboutM2.call(_eventCallbacksAboutM, {
            extra: {
              processChatMessageGroup: newGroup
            }
          });
          set({
            chatMessageGroups: combineMessageGroup(curMessageGroups, [newGroup])
          });
        });
        service.on(_libs_types__WEBPACK_IMPORTED_MODULE_1__.SendMessageEvent.Close, function () {
          set({
            inProcessChatMessageGroup: undefined,
            sendMessageService: undefined
          });
        });
      },
      closeSendMessage: function closeSendMessage() {
        var service = get().sendMessageService;
        service === null || service === void 0 || service.close();
      },
      popLastErrorChatGroup: function popLastErrorChatGroup() {
        var _chatMessageGroups, _chatMessageGroups2;
        var chatMessageGroups = get().chatMessageGroups;
        if ((_chatMessageGroups = chatMessageGroups[chatMessageGroups.length - 1]) !== null && _chatMessageGroups !== void 0 && (_chatMessageGroups = _chatMessageGroups.query) !== null && _chatMessageGroups !== void 0 && _chatMessageGroups.error && (_chatMessageGroups2 = chatMessageGroups[chatMessageGroups.length - 1]) !== null && _chatMessageGroups2 !== void 0 && (_chatMessageGroups2 = _chatMessageGroups2.query) !== null && _chatMessageGroups2 !== void 0 && _chatMessageGroups2.rawMessage) {
          var chatGroup = chatMessageGroups.pop();
          set({
            chatMessageGroups: chatMessageGroups
          });
          return chatGroup || null;
        }
        return null;
      }
    });
  });
};
var useCreateConversationStore = function useCreateConversationStore() {
  var _chatProps$eventCallb2;
  var chatProps = (0,_context__WEBPACK_IMPORTED_MODULE_2__.useChatPropsContext)();
  var conversationStore = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(function () {
    return createConversationStore(chatProps);
  }, []);
  (0,_libs_hooks__WEBPACK_IMPORTED_MODULE_4__.useUpdateEffect)(function () {
    var _chatProps$eventCallb;
    conversationStore.getState().setEventCallbacksAboutMessage(chatProps === null || chatProps === void 0 || (_chatProps$eventCallb = chatProps.eventCallbacks) === null || _chatProps$eventCallb === void 0 ? void 0 : _chatProps$eventCallb.message);
  }, [chatProps === null || chatProps === void 0 || (_chatProps$eventCallb2 = chatProps.eventCallbacks) === null || _chatProps$eventCallb2 === void 0 ? void 0 : _chatProps$eventCallb2.message]);
  return conversationStore;
};

/***/ }),

/***/ "./src/libs/provider/store/index.ts":
/*!******************************************!*\
  !*** ./src/libs/provider/store/index.ts ***!
  \******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createApiClientStore: function() { return /* reexport safe */ _api_client__WEBPACK_IMPORTED_MODULE_0__.createApiClientStore; },
/* harmony export */   useCreateChatInfoStore: function() { return /* reexport safe */ _chat_info__WEBPACK_IMPORTED_MODULE_1__.useCreateChatInfoStore; },
/* harmony export */   useCreateChatInputStore: function() { return /* reexport safe */ _chat_input__WEBPACK_IMPORTED_MODULE_7__.useCreateChatInputStore; },
/* harmony export */   useCreateChatPropsStore: function() { return /* reexport safe */ _chat_props__WEBPACK_IMPORTED_MODULE_5__.useCreateChatPropsStore; },
/* harmony export */   useCreateConversationStore: function() { return /* reexport safe */ _conversation__WEBPACK_IMPORTED_MODULE_2__.useCreateConversationStore; },
/* harmony export */   useCreateStatusStore: function() { return /* reexport safe */ _chat_status__WEBPACK_IMPORTED_MODULE_3__.useCreateStatusStore; },
/* harmony export */   useCreateUiEventStore: function() { return /* reexport safe */ _ui_event__WEBPACK_IMPORTED_MODULE_6__.useCreateUiEventStore; },
/* harmony export */   useCreateUserInfoStore: function() { return /* reexport safe */ _user_info__WEBPACK_IMPORTED_MODULE_4__.useCreateUserInfoStore; }
/* harmony export */ });
/* harmony import */ var _api_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./api-client */ "./src/libs/provider/store/api-client.ts");
/* harmony import */ var _chat_info__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chat-info */ "./src/libs/provider/store/chat-info.ts");
/* harmony import */ var _conversation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./conversation */ "./src/libs/provider/store/conversation.ts");
/* harmony import */ var _chat_status__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chat-status */ "./src/libs/provider/store/chat-status.ts");
/* harmony import */ var _user_info__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./user-info */ "./src/libs/provider/store/user-info.ts");
/* harmony import */ var _chat_props__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./chat-props */ "./src/libs/provider/store/chat-props.ts");
/* harmony import */ var _ui_event__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ui-event */ "./src/libs/provider/store/ui-event.ts");
/* harmony import */ var _chat_input__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./chat-input */ "./src/libs/provider/store/chat-input.ts");









/***/ }),

/***/ "./src/libs/provider/store/ui-event.ts":
/*!*********************************************!*\
  !*** ./src/libs/provider/store/ui-event.ts ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useCreateUiEventStore: function() { return /* binding */ useCreateUiEventStore; }
/* harmony export */ });
/* harmony import */ var zustand__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! zustand */ "./node_modules/.pnpm/zustand@4.5.6_@types+react@18.2.37_react@18.3.1/node_modules/zustand/esm/index.mjs");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _tarojs_taro__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @tarojs/taro */ "./node_modules/.pnpm/@tarojs+taro@4.0.8_@tarojs+components@4.0.8_@tarojs+helper@4.0.8_@swc+helpers@0.5.15__@_28b4aa939e10f4882a0917541e7336fe/node_modules/@tarojs/taro/index.js");
/* harmony import */ var _tarojs_taro__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_tarojs_taro__WEBPACK_IMPORTED_MODULE_1__);



var createUiEventStore = function createUiEventStore() {
  return (0,zustand__WEBPACK_IMPORTED_MODULE_2__.create)()(function () {
    return {
      event: new _tarojs_taro__WEBPACK_IMPORTED_MODULE_1__.Events()
    };
  });
};
var useCreateUiEventStore = function useCreateUiEventStore() {
  var uiEventStore = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {
    return createUiEventStore();
  }, []);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {
    return function () {
      uiEventStore.getState().event.off();
    };
  }, []);
  return uiEventStore;
};

/***/ }),

/***/ "./src/libs/provider/store/user-info.ts":
/*!**********************************************!*\
  !*** ./src/libs/provider/store/user-info.ts ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useCreateUserInfoStore: function() { return /* binding */ useCreateUserInfoStore; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectSpread2.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectSpread2.js");
/* harmony import */ var zustand__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! zustand */ "./node_modules/.pnpm/zustand@4.5.6_@types+react@18.2.37_react@18.3.1/node_modules/zustand/esm/index.mjs");
/* harmony import */ var _libs_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/libs/utils */ "./src/libs/utils/index.ts");
/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../context */ "./src/libs/provider/context/index.tsx");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _libs_hooks__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/libs/hooks */ "./src/libs/hooks/index.ts");






var createUserInfoStore = function createUserInfoStore(_ref) {
  var user = _ref.user;
  var defaultInfo = {
    id: (user === null || user === void 0 ? void 0 : user.id) || (0,_libs_utils__WEBPACK_IMPORTED_MODULE_0__.nanoid)()
  };
  return (0,zustand__WEBPACK_IMPORTED_MODULE_4__.create)()(function (set) {
    return {
      info: (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__["default"])({}, defaultInfo), user),
      setUserInfo: function setUserInfo(info) {
        set({
          info: (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__["default"])({}, defaultInfo), info || {})
        });
      }
    };
  });
};
var useCreateUserInfoStore = function useCreateUserInfoStore() {
  var chatProps = (0,_context__WEBPACK_IMPORTED_MODULE_1__.useChatPropsContext)();
  var userInfoStore = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(function () {
    return createUserInfoStore({
      user: chatProps === null || chatProps === void 0 ? void 0 : chatProps.user
    });
  }, []);
  (0,_libs_hooks__WEBPACK_IMPORTED_MODULE_3__.useUpdateEffect)(function () {
    userInfoStore.getState().setUserInfo(chatProps.user);
    _libs_utils__WEBPACK_IMPORTED_MODULE_0__.logger.debug("useCreateUserInfoStore in userUpdateEffect", chatProps.user);
  }, [chatProps]);
  return userInfoStore;
};

/***/ }),

/***/ "./src/libs/services/helper/chat-service.ts":
/*!**************************************************!*\
  !*** ./src/libs/services/helper/chat-service.ts ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ChatService: function() { return /* binding */ ChatService; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectSpread2.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectSpread2.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/classCallCheck.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/createClass.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var _libs_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/libs/utils */ "./src/libs/utils/index.ts");







var MESSAGE_LIST_NUM = 20;
var ChatService = /*#__PURE__*/function () {
  function ChatService(_ref) {
    var apiClient = _ref.apiClient,
      connectorId = _ref.connectorId,
      appId = _ref.appId,
      chatType = _ref.chatType;
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_1__["default"])(this, ChatService);
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_2__["default"])(this, "apiClient", void 0);
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_2__["default"])(this, "connectorId", void 0);
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_2__["default"])(this, "appId", void 0);
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_2__["default"])(this, "chatType", void 0);
    this.apiClient = apiClient;
    this.connectorId = connectorId || "999";
    this.appId = appId;
    this.chatType = chatType;
  }
  return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_3__["default"])(ChatService, [{
    key: "createNewConversation",
    value: function () {
      var _createNewConversation = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_4__["default"])(/*#__PURE__*/(0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_5__["default"])().mark(function _callee() {
        var _yield$this$apiClient, conversationId, _yield$this$apiClient2, sectionId;
        return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_5__["default"])().wrap(function _callee$(_context) {
          while (1) switch (_context.prev = _context.next) {
            case 0:
              _context.next = 2;
              return this.apiClient.conversations.create({
                bot_id: this.appId,
                // @ts-expect-error -- linter-disable-autofix
                connector_id: this.connectorId
              });
            case 2:
              _yield$this$apiClient = _context.sent;
              conversationId = _yield$this$apiClient.id;
              _yield$this$apiClient2 = _yield$this$apiClient.last_section_id;
              sectionId = _yield$this$apiClient2 === void 0 ? "" : _yield$this$apiClient2;
              return _context.abrupt("return", {
                conversationId: conversationId,
                sectionId: sectionId
              });
            case 7:
            case "end":
              return _context.stop();
          }
        }, _callee, this);
      }));
      function createNewConversation() {
        return _createNewConversation.apply(this, arguments);
      }
      return createNewConversation;
    }()
  }, {
    key: "createNewSection",
    value: function () {
      var _createNewSection = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_4__["default"])(/*#__PURE__*/(0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_5__["default"])().mark(function _callee2(conversationId) {
        var _yield$this$apiClient3, sectionId;
        return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_5__["default"])().wrap(function _callee2$(_context2) {
          while (1) switch (_context2.prev = _context2.next) {
            case 0:
              _context2.next = 2;
              return this.apiClient.conversations.clear(conversationId || "");
            case 2:
              _yield$this$apiClient3 = _context2.sent;
              sectionId = _yield$this$apiClient3.id;
              return _context2.abrupt("return", {
                sectionId: sectionId
              });
            case 5:
            case "end":
              return _context2.stop();
          }
        }, _callee2, this);
      }));
      function createNewSection(_x) {
        return _createNewSection.apply(this, arguments);
      }
      return createNewSection;
    }()
  }, {
    key: "getAppInfo",
    value: function () {
      var _getAppInfo = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_4__["default"])(/*#__PURE__*/(0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_5__["default"])().mark(function _callee3() {
        var result, err;
        return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_5__["default"])().wrap(function _callee3$(_context3) {
          while (1) switch (_context3.prev = _context3.next) {
            case 0:
              _context3.prev = 0;
              _context3.next = 3;
              return this.apiClient.bots.retrieve({
                bot_id: this.appId,
                // @ts-expect-error -- linter-disable-autofix
                connector_id: this.connectorId
              });
            case 3:
              result = _context3.sent;
              return _context3.abrupt("return", (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__["default"])({
                appId: this.appId,
                type: this.chatType
              }, result));
            case 7:
              _context3.prev = 7;
              _context3.t0 = _context3["catch"](0);
              err = _context3.t0;
              throw new _libs_utils__WEBPACK_IMPORTED_MODULE_0__.MiniChatError(err.code || -1, err.message);
            case 11:
            case "end":
              return _context3.stop();
          }
        }, _callee3, this, [[0, 7]]);
      }));
      function getAppInfo() {
        return _getAppInfo.apply(this, arguments);
      }
      return getAppInfo;
    }()
  }, {
    key: "getOrCreateConversationId",
    value: function () {
      var _getOrCreateConversationId = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_4__["default"])(/*#__PURE__*/(0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_5__["default"])().mark(function _callee4() {
        var _conversationRes$conv;
        var _ref2, conversationRes, _ref3, conversationId, sectionId;
        return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_5__["default"])().wrap(function _callee4$(_context4) {
          while (1) switch (_context4.prev = _context4.next) {
            case 0:
              _context4.next = 2;
              return this.apiClient.get("/v1/conversations", {
                bot_id: this.appId,
                connector_id: this.connectorId,
                page_num: 1,
                page_size: 1
              });
            case 2:
              _ref2 = _context4.sent;
              conversationRes = _ref2.data;
              _ref3 = (conversationRes === null || conversationRes === void 0 || (_conversationRes$conv = conversationRes.conversations) === null || _conversationRes$conv === void 0 ? void 0 : _conversationRes$conv[0]) || {}, conversationId = _ref3.id, sectionId = _ref3.last_section_id;
              if (conversationId) {
                _context4.next = 9;
                break;
              }
              _context4.next = 8;
              return this.createNewConversation();
            case 8:
              return _context4.abrupt("return", _context4.sent);
            case 9:
              return _context4.abrupt("return", {
                conversationId: conversationId,
                sectionId: sectionId
              });
            case 10:
            case "end":
              return _context4.stop();
          }
        }, _callee4, this);
      }));
      function getOrCreateConversationId() {
        return _getOrCreateConversationId.apply(this, arguments);
      }
      return getOrCreateConversationId;
    }()
  }, {
    key: "getMessageList",
    value: function () {
      var _getMessageList = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_4__["default"])(/*#__PURE__*/(0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_5__["default"])().mark(function _callee5(_ref4) {
        var conversationId, prevCursorId, _ref4$limit, limit, resMessage, getFormatMessageListInfo;
        return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_5__["default"])().wrap(function _callee5$(_context5) {
          while (1) switch (_context5.prev = _context5.next) {
            case 0:
              getFormatMessageListInfo = function _getFormatMessageList(resMessage) {
                var nextCursorId = resMessage.first_id,
                  prevCursorId = resMessage.last_id,
                  prevHasMore = resMessage.has_more,
                  messageList = resMessage.data;
                return {
                  prevCursorId: prevCursorId,
                  nextCursorId: nextCursorId,
                  prevHasMore: prevHasMore,
                  nextHasMore: false,
                  messages: messageList.reverse()
                };
              };
              conversationId = _ref4.conversationId, prevCursorId = _ref4.prevCursorId, _ref4$limit = _ref4.limit, limit = _ref4$limit === void 0 ? MESSAGE_LIST_NUM : _ref4$limit;
              _context5.prev = 2;
              _context5.next = 5;
              return this.apiClient.conversations.messages.list(conversationId, {
                after_id: prevCursorId || undefined,
                limit: limit
              });
            case 5:
              resMessage = _context5.sent;
              return _context5.abrupt("return", getFormatMessageListInfo(resMessage));
            case 9:
              _context5.prev = 9;
              _context5.t0 = _context5["catch"](2);
              _libs_utils__WEBPACK_IMPORTED_MODULE_0__.logger.error("Get Message Error", _context5.t0);
              return _context5.abrupt("return", {
                prevCursorId: undefined,
                nextCursorId: undefined,
                prevHasMore: false,
                nextHasMore: false,
                messages: [],
                error: new _libs_utils__WEBPACK_IMPORTED_MODULE_0__.MiniChatError(-1, "Get Message Error")
              });
            case 13:
            case "end":
              return _context5.stop();
          }
        }, _callee5, this, [[2, 9]]);
      }));
      function getMessageList(_x2) {
        return _getMessageList.apply(this, arguments);
      }
      return getMessageList;
    }()
  }, {
    key: "asyncChat",
    value: function asyncChat(params, options) {
      return this.apiClient.chat.stream(params, options);
    }
  }, {
    key: "upload",
    value: function upload(params, options) {
      return this.apiClient.files.upload(params, options);
    }
  }, {
    key: "translation",
    value: function () {
      var _translation = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_4__["default"])(/*#__PURE__*/(0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_5__["default"])().mark(function _callee6(params, options) {
        return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_5__["default"])().wrap(function _callee6$(_context6) {
          while (1) switch (_context6.prev = _context6.next) {
            case 0:
              _context6.next = 2;
              return this.apiClient.audio.transcriptions(params, options);
            case 2:
              return _context6.abrupt("return", _context6.sent);
            case 3:
            case "end":
              return _context6.stop();
          }
        }, _callee6, this);
      }));
      function translation(_x3, _x4) {
        return _translation.apply(this, arguments);
      }
      return translation;
    }()
  }, {
    key: "audioSpeech",
    value: function () {
      var _audioSpeech = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_4__["default"])(/*#__PURE__*/(0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_5__["default"])().mark(function _callee7(params) {
        return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_5__["default"])().wrap(function _callee7$(_context7) {
          while (1) switch (_context7.prev = _context7.next) {
            case 0:
              _context7.next = 2;
              return this.apiClient.audio.speech.create(params);
            case 2:
              return _context7.abrupt("return", _context7.sent);
            case 3:
            case "end":
              return _context7.stop();
          }
        }, _callee7, this);
      }));
      function audioSpeech(_x5) {
        return _audioSpeech.apply(this, arguments);
      }
      return audioSpeech;
    }()
  }]);
}();

/***/ }),

/***/ "./src/libs/services/helper/message/index.ts":
/*!***************************************************!*\
  !*** ./src/libs/services/helper/message/index.ts ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   RawMessageType: function() { return /* reexport safe */ _libs_types__WEBPACK_IMPORTED_MODULE_0__.RawMessageType; },
/* harmony export */   getSendMessageHandler: function() { return /* binding */ getSendMessageHandler; }
/* harmony export */ });
/* harmony import */ var _libs_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/libs/types */ "./src/libs/types/index.ts");
/* harmony import */ var _send_message_async_send_message__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./send-message/async-send-message */ "./src/libs/services/helper/message/send-message/async-send-message.ts");
/* harmony import */ var _libs_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/libs/utils */ "./src/libs/utils/index.ts");




var isCanStream = _libs_utils__WEBPACK_IMPORTED_MODULE_2__.isWeb || _libs_utils__WEBPACK_IMPORTED_MODULE_2__.isTT || _libs_utils__WEBPACK_IMPORTED_MODULE_2__.isWeapp;
var getSendMessageHandler = function getSendMessageHandler(props) {
  var isStream = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : isCanStream;
  if (!isStream) {
    _libs_utils__WEBPACK_IMPORTED_MODULE_2__.logger.error("not support sync send message");
    throw new Error("not support sync send message");
  }
  return new _send_message_async_send_message__WEBPACK_IMPORTED_MODULE_1__.AsyncSendMessage(props);
  /*
   * 暂不支持异步，后续有需要再补充钙内容
   */
  /*
  if (!isStream) {
    return new SyncSendMessage(props);
  } else {
    return new AsyncSendMessage(props);
  }*/
};

/***/ }),

/***/ "./src/libs/services/helper/message/send-message/async-send-message.ts":
/*!*****************************************************************************!*\
  !*** ./src/libs/services/helper/message/send-message/async-send-message.ts ***!
  \*****************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AsyncSendMessage: function() { return /* binding */ AsyncSendMessage; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectSpread2.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectSpread2.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/classCallCheck.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/createClass.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_callSuper_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/callSuper.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/callSuper.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/inherits.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncIterator_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/asyncIterator.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/asyncIterator.js");
/* harmony import */ var _coze_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @coze/api */ "./node_modules/.pnpm/@coze+api@1.0.21_axios@1.7.9/node_modules/@coze/api/dist/esm/index.js");
/* harmony import */ var _libs_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/libs/utils */ "./src/libs/utils/index.ts");
/* harmony import */ var _multi_send_message__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./multi-send-message */ "./src/libs/services/helper/message/send-message/multi-send-message.ts");













var AsyncSendMessage = /*#__PURE__*/function (_MultiSendMessage) {
  function AsyncSendMessage(props) {
    var _this;
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_3__["default"])(this, AsyncSendMessage);
    _this = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_callSuper_js__WEBPACK_IMPORTED_MODULE_4__["default"])(this, AsyncSendMessage, [props]);
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_5__["default"])(_this, "chatStream", void 0);
    return _this;
  }
  (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_6__["default"])(AsyncSendMessage, _MultiSendMessage);
  return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_7__["default"])(AsyncSendMessage, [{
    key: "sendMessage",
    value: function () {
      var _sendMessage = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__["default"])(/*#__PURE__*/(0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_9__["default"])().mark(function _callee(message, historyMessages) {
        var _this$chatInfo, chatStream;
        return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_9__["default"])().wrap(function _callee$(_context) {
          while (1) switch (_context.prev = _context.next) {
            case 0:
              _context.prev = 0;
              _libs_utils__WEBPACK_IMPORTED_MODULE_1__.logger.debug("asyncChat start sendMessage: ", message);
              this._checkTimeout();
              _context.next = 5;
              return this.chatService.asyncChat({
                bot_id: this.botId,
                user_id: this.userId,
                additional_messages: [].concat((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_10__["default"])(historyMessages || []), [message]),
                conversation_id: this.conversationId,
                connector_id: this.connectorId,
                suggestPromoteInfo: (_this$chatInfo = this.chatInfo) === null || _this$chatInfo === void 0 ? void 0 : _this$chatInfo.suggestPromoteInfo
              });
            case 5:
              chatStream = _context.sent;
              _libs_utils__WEBPACK_IMPORTED_MODULE_1__.logger.debug("asyncChat sendMessage stream: ", chatStream);
              this.chatStream = chatStream;
              this.pollAnswer();
              _context.next = 16;
              break;
            case 11:
              _context.prev = 11;
              _context.t0 = _context["catch"](0);
              _libs_utils__WEBPACK_IMPORTED_MODULE_1__.logger.error("asyncChat sendMessage error", _context.t0);
              this.sendErrorEvent(new _libs_utils__WEBPACK_IMPORTED_MODULE_1__.MiniChatError(-1, this.i18n.t("sendFailed")));
              this.close();
            case 16:
            case "end":
              return _context.stop();
          }
        }, _callee, this, [[0, 11]]);
      }));
      function sendMessage(_x, _x2) {
        return _sendMessage.apply(this, arguments);
      }
      return sendMessage;
    }()
  }, {
    key: "pollAnswer",
    value: function () {
      var _pollAnswer = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__["default"])(/*#__PURE__*/(0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_9__["default"])().mark(function _callee2() {
        var messageList, messageInProcessing, _iteratorAbruptCompletion, _didIteratorError, _iteratorError, _iterator, _step, eventData, event, data, messageNew, _ref, chatId, sectionId, _messageNew, _messageNew2, messageError, _messageError$last_er, _messageError$last_er2, _messageError;
        return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_9__["default"])().wrap(function _callee2$(_context2) {
          while (1) switch (_context2.prev = _context2.next) {
            case 0:
              if (this.chatStream) {
                _context2.next = 4;
                break;
              }
              _libs_utils__WEBPACK_IMPORTED_MODULE_1__.logger.error("asyncChat pollAnswer", "chatStream is undefined");
              // 这里基本不会出现，下边方便通过语法结构
              this.sendErrorEvent(new _libs_utils__WEBPACK_IMPORTED_MODULE_1__.MiniChatError(-1, this.i18n.t("sendFailed")));
              return _context2.abrupt("return");
            case 4:
              _libs_utils__WEBPACK_IMPORTED_MODULE_1__.logger.debug("asyncChat pollAnswer awaiting start");
              messageList = [];
              messageInProcessing = null;
              this._checkTimeout();
              _context2.prev = 8;
              _iteratorAbruptCompletion = false;
              _didIteratorError = false;
              _context2.prev = 11;
              _iterator = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncIterator_js__WEBPACK_IMPORTED_MODULE_11__["default"])(this.chatStream);
            case 13:
              _context2.next = 15;
              return _iterator.next();
            case 15:
              if (!(_iteratorAbruptCompletion = !(_step = _context2.sent).done)) {
                _context2.next = 70;
                break;
              }
              eventData = _step.value;
              this._checkTimeout();
              if (this.isAbort) {
                _context2.next = 66;
                break;
              }
              event = eventData.event, data = eventData.data;
              /*
               * 未做处理消息
               * CONVERSATION_CHAT_REQUIRES_ACTION
               * CONVERSATION_CHAT_IN_PROGRESS
               * CONVERSATION_AUDIO_DELTA
               * CONVERSATION_CHAT_COMPLETED
               */
              _context2.t0 = event;
              _context2.next = _context2.t0 === _coze_api__WEBPACK_IMPORTED_MODULE_0__.ChatEventType.CONVERSATION_CHAT_CREATED ? 23 : _context2.t0 === _coze_api__WEBPACK_IMPORTED_MODULE_0__.ChatEventType.CONVERSATION_MESSAGE_DELTA ? 32 : _context2.t0 === _coze_api__WEBPACK_IMPORTED_MODULE_0__.ChatEventType.CONVERSATION_MESSAGE_COMPLETED ? 40 : _context2.t0 === _coze_api__WEBPACK_IMPORTED_MODULE_0__.ChatEventType.ERROR ? 54 : _context2.t0 === _coze_api__WEBPACK_IMPORTED_MODULE_0__.ChatEventType.CONVERSATION_CHAT_FAILED ? 57 : _context2.t0 === _coze_api__WEBPACK_IMPORTED_MODULE_0__.ChatEventType.DONE ? 60 : 63;
              break;
            case 23:
              messageNew = (0,_libs_utils__WEBPACK_IMPORTED_MODULE_1__.safeJSONParse)(eventData.data); // @ts-expect-error -- linter-disable-autofix
              _ref = messageNew || {}, chatId = _ref.id, sectionId = _ref.section_id;
              this.messageSended.chat_id = chatId || "";
              this.messageSended.section_id = sectionId;
              this.messageSended.extData = {
                // @ts-expect-error -- linter-disable-autofix
                executeId: data === null || data === void 0 ? void 0 : data.execute_id
              };
              this.messageSended = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_12__["default"])({}, this.messageSended);
              this.messageList = [this.messageSended].concat((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_10__["default"])(messageList || []));
              this.sendProcessEvent();
              return _context2.abrupt("break", 64);
            case 32:
              _messageNew = (0,_libs_utils__WEBPACK_IMPORTED_MODULE_1__.safeJSONParse)(data);
              if (_messageNew) {
                _context2.next = 35;
                break;
              }
              return _context2.abrupt("break", 64);
            case 35:
              if (!messageInProcessing) {
                messageInProcessing = _messageNew;
              } else {
                messageInProcessing.content = messageInProcessing.content || "";
                messageInProcessing.content += _messageNew.content || "";
                if (!messageInProcessing.content || !messageInProcessing.reasoning_content) {
                  messageInProcessing.reasoning_content = messageInProcessing.reasoning_content || "";
                  messageInProcessing.reasoning_content += _messageNew.reasoning_content || "";
                }
              }
              messageInProcessing.isComplete = false;
              this.messageList = [this.messageSended].concat((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_10__["default"])(messageList || []), [messageInProcessing]);
              this.sendProcessEvent();
              return _context2.abrupt("break", 64);
            case 40:
              // 消息结束
              _messageNew2 = (0,_libs_utils__WEBPACK_IMPORTED_MODULE_1__.safeJSONParse)(data);
              if (!messageInProcessing) {
                _context2.next = 47;
                break;
              }
              messageInProcessing.isComplete = true;
              messageList.push(messageInProcessing);
              messageInProcessing = null;
              _context2.next = 51;
              break;
            case 47:
              if (_messageNew2) {
                _context2.next = 49;
                break;
              }
              return _context2.abrupt("break", 64);
            case 49:
              _messageNew2.isComplete = true;
              messageList.push(_messageNew2);
            case 51:
              this.messageList = [this.messageSended].concat((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_10__["default"])(messageList || []));
              this.sendProcessEvent();
              return _context2.abrupt("break", 64);
            case 54:
              messageError = (0,_libs_utils__WEBPACK_IMPORTED_MODULE_1__.safeJSONParse)(data);
              this.sendErrorEvent(new _libs_utils__WEBPACK_IMPORTED_MODULE_1__.MiniChatError(messageError.code || -1, messageError.msg || this.i18n.t("sendFailed")));
              return _context2.abrupt("return");
            case 57:
              _messageError = (0,_libs_utils__WEBPACK_IMPORTED_MODULE_1__.safeJSONParse)(data);
              this.sendErrorEvent(new _libs_utils__WEBPACK_IMPORTED_MODULE_1__.MiniChatError(((_messageError$last_er = _messageError.last_error) === null || _messageError$last_er === void 0 ? void 0 : _messageError$last_er.code) || -1, ((_messageError$last_er2 = _messageError.last_error) === null || _messageError$last_er2 === void 0 ? void 0 : _messageError$last_er2.msg) || this.i18n.t("sendFailed")));
              return _context2.abrupt("return");
            case 60:
              this.messageList = [this.messageSended].concat((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_10__["default"])(messageList || []));
              this.sendCompleteEvent();
              return _context2.abrupt("return");
            case 63:
              return _context2.abrupt("break", 64);
            case 64:
              _context2.next = 67;
              break;
            case 66:
              return _context2.abrupt("return");
            case 67:
              _iteratorAbruptCompletion = false;
              _context2.next = 13;
              break;
            case 70:
              _context2.next = 76;
              break;
            case 72:
              _context2.prev = 72;
              _context2.t1 = _context2["catch"](11);
              _didIteratorError = true;
              _iteratorError = _context2.t1;
            case 76:
              _context2.prev = 76;
              _context2.prev = 77;
              if (!(_iteratorAbruptCompletion && _iterator.return != null)) {
                _context2.next = 81;
                break;
              }
              _context2.next = 81;
              return _iterator.return();
            case 81:
              _context2.prev = 81;
              if (!_didIteratorError) {
                _context2.next = 84;
                break;
              }
              throw _iteratorError;
            case 84:
              return _context2.finish(81);
            case 85:
              return _context2.finish(76);
            case 86:
              _context2.next = 93;
              break;
            case 88:
              _context2.prev = 88;
              _context2.t2 = _context2["catch"](8);
              _libs_utils__WEBPACK_IMPORTED_MODULE_1__.logger.error("asyncChat pollAnswer error", _context2.t2);
              this.sendErrorEvent(new _libs_utils__WEBPACK_IMPORTED_MODULE_1__.MiniChatError(-1, this.i18n.t("sendFailed")));
              return _context2.abrupt("return");
            case 93:
            case "end":
              return _context2.stop();
          }
        }, _callee2, this, [[8, 88], [11, 72, 76, 86], [77,, 81, 85]]);
      }));
      function pollAnswer() {
        return _pollAnswer.apply(this, arguments);
      }
      return pollAnswer;
    }()
  }]);
}(_multi_send_message__WEBPACK_IMPORTED_MODULE_2__.MultiSendMessage);

/***/ }),

/***/ "./src/libs/services/helper/message/send-message/multi-send-message.ts":
/*!*****************************************************************************!*\
  !*** ./src/libs/services/helper/message/send-message/multi-send-message.ts ***!
  \*****************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MultiSendMessage: function() { return /* binding */ MultiSendMessage; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectSpread2.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectSpread2.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/classCallCheck.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/createClass.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_callSuper_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/callSuper.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/callSuper.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/inherits.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _coze_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @coze/api */ "./node_modules/.pnpm/@coze+api@1.0.21_axios@1.7.9/node_modules/@coze/api/dist/esm/index.js");
/* harmony import */ var _libs_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/libs/types */ "./src/libs/types/index.ts");
/* harmony import */ var _libs_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/libs/utils */ "./src/libs/utils/index.ts");
/* harmony import */ var _raw_send_message__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./raw-send-message */ "./src/libs/services/helper/message/send-message/raw-send-message.ts");












var MultiSendMessage = /*#__PURE__*/function (_RawSendMessage) {
  function MultiSendMessage() {
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_4__["default"])(this, MultiSendMessage);
    return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_callSuper_js__WEBPACK_IMPORTED_MODULE_5__["default"])(this, MultiSendMessage, arguments);
  }
  (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_6__["default"])(MultiSendMessage, _RawSendMessage);
  return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_7__["default"])(MultiSendMessage, [{
    key: "sendTextMessage",
    value: function () {
      var _sendTextMessage = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__["default"])(/*#__PURE__*/(0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_9__["default"])().mark(function _callee(content, historyMessages) {
        var message;
        return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_9__["default"])().wrap(function _callee$(_context) {
          while (1) switch (_context.prev = _context.next) {
            case 0:
              message = {
                role: _coze_api__WEBPACK_IMPORTED_MODULE_0__.RoleType.User,
                content: content,
                content_type: "text"
              };
              this.sendStartMessage(message);
              this.sendMessage(message, historyMessages);
            case 3:
            case "end":
              return _context.stop();
          }
        }, _callee, this);
      }));
      function sendTextMessage(_x, _x2) {
        return _sendTextMessage.apply(this, arguments);
      }
      return sendTextMessage;
    }()
  }, {
    key: "sendFileMessage",
    value: function () {
      var _sendFileMessage = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__["default"])(/*#__PURE__*/(0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_9__["default"])().mark(function _callee2(files, historyMessages) {
        var _this = this;
        var content, message, fileList;
        return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_9__["default"])().wrap(function _callee2$(_context2) {
          while (1) switch (_context2.prev = _context2.next) {
            case 0:
              content = files.map(function (item) {
                return _this.packFileObject(item);
              }).filter(function (item) {
                return !!item;
              });
              message = {
                role: _coze_api__WEBPACK_IMPORTED_MODULE_0__.RoleType.User,
                content: content,
                content_type: "object_string"
              };
              this.sendStartMessage(message);
              _context2.next = 5;
              return this.uploadFile(files);
            case 5:
              fileList = _context2.sent;
              if (fileList) {
                _context2.next = 9;
                break;
              }
              //失败了。
              this.sendErrorEvent(new _libs_utils__WEBPACK_IMPORTED_MODULE_2__.MiniChatError(-1, this.i18n.t("sendMessageUploadFailed")));
              return _context2.abrupt("return");
            case 9:
              this.messageSended.content = JSON.stringify(fileList);
              message.content = JSON.stringify(fileList.map(function (item) {
                return {
                  type: item.type,
                  file_id: item.file_id
                };
              }));

              // @ts-expect-error -- linter-disable-autofix
              message.content = content;
              this.sendStartMessage((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_10__["default"])({}, message));
              this.sendMessage(message, historyMessages);
            case 14:
            case "end":
              return _context2.stop();
          }
        }, _callee2, this);
      }));
      function sendFileMessage(_x3, _x4) {
        return _sendFileMessage.apply(this, arguments);
      }
      return sendFileMessage;
    }()
  }, {
    key: "sendAudioMessage",
    value: function () {
      var _sendAudioMessage = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__["default"])(/*#__PURE__*/(0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_9__["default"])().mark(function _callee3(audio, historyMessages) {
        var message, content, _miniChatError$getErr, miniChatError, _content;
        return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_9__["default"])().wrap(function _callee3$(_context3) {
          while (1) switch (_context3.prev = _context3.next) {
            case 0:
              _libs_utils__WEBPACK_IMPORTED_MODULE_2__.logger.info("sendAudioMessage audio", audio);
              message = {
                role: _coze_api__WEBPACK_IMPORTED_MODULE_0__.RoleType.User,
                content: "",
                content_type: "text"
              };
              this.sendStartMessage((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_10__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_10__["default"])({}, message), {}, {
                content: "",
                isAudioTranslatingToText: true
              }));
              _context3.prev = 3;
              _context3.next = 6;
              return this.translateAudioToText(audio);
            case 6:
              content = _context3.sent;
              _libs_utils__WEBPACK_IMPORTED_MODULE_2__.logger.debug("sendAudioMessage content", content);
              message.content = content;
              this.sendStartMessage((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_10__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_10__["default"])({}, message), {}, {
                isAudioTranslatingToText: false
              }));
              this.sendMessage(message, historyMessages);
              _context3.next = 22;
              break;
            case 13:
              _context3.prev = 13;
              _context3.t0 = _context3["catch"](3);
              _libs_utils__WEBPACK_IMPORTED_MODULE_2__.logger.error("sendAudioMessage", {
                error: _context3.t0
              });
              miniChatError = (0,_libs_utils__WEBPACK_IMPORTED_MODULE_2__.convertToMinChatError)(_context3.t0);
              _content = miniChatError === null || miniChatError === void 0 || (_miniChatError$getErr = miniChatError.getErrorMessageByI18n) === null || _miniChatError$getErr === void 0 ? void 0 : _miniChatError$getErr.call(miniChatError, this.i18n, {}, this.i18n.t("sendMessageTranslationAudioFailed"));
              this.messageSended.isAudioTranslatingToText = false;
              this.messageSended.content = _content;
              this.sendErrorEvent(miniChatError);
              return _context3.abrupt("return");
            case 22:
            case "end":
              return _context3.stop();
          }
        }, _callee3, this, [[3, 13]]);
      }));
      function sendAudioMessage(_x5, _x6) {
        return _sendAudioMessage.apply(this, arguments);
      }
      return sendAudioMessage;
    }()
  }, {
    key: "translateAudioToText",
    value: function () {
      var _translateAudioToText = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__["default"])(/*#__PURE__*/(0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_9__["default"])().mark(function _callee4(audio) {
        var res;
        return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_9__["default"])().wrap(function _callee4$(_context4) {
          while (1) switch (_context4.prev = _context4.next) {
            case 0:
              _context4.next = 2;
              return this.chatService.translation({
                file: {
                  filePath: audio.tempFilePath,
                  fileName: audio.fileName
                }
              });
            case 2:
              res = _context4.sent;
              if (res.text) {
                _context4.next = 5;
                break;
              }
              throw new _libs_utils__WEBPACK_IMPORTED_MODULE_2__.MiniChatError(_libs_utils__WEBPACK_IMPORTED_MODULE_2__.MiniChatErrorCode.Audio_Translation_NoContent, this.i18n.t("sendMessageTranslationAudioNone"));
            case 5:
              return _context4.abrupt("return", res.text);
            case 6:
            case "end":
              return _context4.stop();
          }
        }, _callee4, this);
      }));
      function translateAudioToText(_x7) {
        return _translateAudioToText.apply(this, arguments);
      }
      return translateAudioToText;
    }()
  }, {
    key: "uploadFile",
    value: function () {
      var _uploadFile = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__["default"])(/*#__PURE__*/(0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_9__["default"])().mark(function _callee6(file) {
        var _this2 = this;
        var fileList, hasError;
        return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_9__["default"])().wrap(function _callee6$(_context6) {
          while (1) switch (_context6.prev = _context6.next) {
            case 0:
              fileList = [];
              hasError = false;
              _context6.prev = 2;
              _context6.next = 5;
              return Promise.all(file.map(/*#__PURE__*/function () {
                var _ref = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__["default"])(/*#__PURE__*/(0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_9__["default"])().mark(function _callee5(item) {
                  var packResult, res;
                  return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_9__["default"])().wrap(function _callee5$(_context5) {
                    while (1) switch (_context5.prev = _context5.next) {
                      case 0:
                        packResult = _this2.packFileObject(item);
                        if (!packResult) {
                          _context5.next = 7;
                          break;
                        }
                        _context5.next = 4;
                        return _this2.chatService.upload({
                          file: item.file
                        });
                      case 4:
                        res = _context5.sent;
                        packResult.file_id = res.id;
                        fileList.push(packResult);
                      case 7:
                      case "end":
                        return _context5.stop();
                    }
                  }, _callee5);
                }));
                return function (_x9) {
                  return _ref.apply(this, arguments);
                };
              }()));
            case 5:
              _context6.next = 10;
              break;
            case 7:
              _context6.prev = 7;
              _context6.t0 = _context6["catch"](2);
              hasError = true;
            case 10:
              return _context6.abrupt("return", hasError ? null : fileList);
            case 11:
            case "end":
              return _context6.stop();
          }
        }, _callee6, null, [[2, 7]]);
      }));
      function uploadFile(_x8) {
        return _uploadFile.apply(this, arguments);
      }
      return uploadFile;
    }()
  }, {
    key: "getObjectStringType",
    value: function getObjectStringType(fileType) {
      return fileType === _libs_types__WEBPACK_IMPORTED_MODULE_1__.FileTypeEnum.IMAGE ? "image" : "file";
    }
  }, {
    key: "packFileObject",
    value: function packFileObject(fileInfo) {
      var type = this.getObjectStringType(fileInfo.type);
      switch (type) {
        case "image":
          {
            return {
              type: "image",
              file_url: fileInfo.tempFilePath,
              file_info: fileInfo
            };
          }
        case "file":
          {
            return {
              type: "file",
              // @ts-expect-error -- linter-disable-autofix
              name: fileInfo.file.name,
              // @ts-expect-error -- linter-disable-autofix
              size: fileInfo.file.size,
              file_url: fileInfo.tempFilePath,
              file_info: fileInfo
            };
          }
        default:
          {
            return null;
          }
      }
    }
  }, {
    key: "sendRawMessage",
    value: function () {
      var _sendRawMessage = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__["default"])(/*#__PURE__*/(0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_9__["default"])().mark(function _callee7(rawMessage, historyMessages) {
        return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_9__["default"])().wrap(function _callee7$(_context7) {
          while (1) switch (_context7.prev = _context7.next) {
            case 0:
              this.messageSended.rawMessage = rawMessage;
              _context7.t0 = rawMessage.type;
              _context7.next = _context7.t0 === _libs_types__WEBPACK_IMPORTED_MODULE_1__.RawMessageType.TEXT ? 4 : _context7.t0 === _libs_types__WEBPACK_IMPORTED_MODULE_1__.RawMessageType.FILE ? 7 : _context7.t0 === _libs_types__WEBPACK_IMPORTED_MODULE_1__.RawMessageType.AUDIO ? 10 : 13;
              break;
            case 4:
              _context7.next = 6;
              return this.sendTextMessage(rawMessage.data, historyMessages);
            case 6:
              return _context7.abrupt("return", _context7.sent);
            case 7:
              _context7.next = 9;
              return this.sendFileMessage(rawMessage.data, historyMessages);
            case 9:
              return _context7.abrupt("return", _context7.sent);
            case 10:
              _context7.next = 12;
              return this.sendAudioMessage(rawMessage.data, historyMessages);
            case 12:
              return _context7.abrupt("return", _context7.sent);
            case 13:
              throw new _libs_utils__WEBPACK_IMPORTED_MODULE_2__.MiniChatError(-1, "unknown message type");
            case 14:
            case "end":
              return _context7.stop();
          }
        }, _callee7, this);
      }));
      function sendRawMessage(_x10, _x11) {
        return _sendRawMessage.apply(this, arguments);
      }
      return sendRawMessage;
    }()
  }]);
}(_raw_send_message__WEBPACK_IMPORTED_MODULE_3__.RawSendMessage);

/***/ }),

/***/ "./src/libs/services/helper/message/send-message/raw-send-message.ts":
/*!***************************************************************************!*\
  !*** ./src/libs/services/helper/message/send-message/raw-send-message.ts ***!
  \***************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   RawSendMessage: function() { return /* binding */ RawSendMessage; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectSpread2.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectSpread2.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/classCallCheck.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/createClass.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var _tarojs_taro__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tarojs/taro */ "./node_modules/.pnpm/@tarojs+taro@4.0.8_@tarojs+components@4.0.8_@tarojs+helper@4.0.8_@swc+helpers@0.5.15__@_28b4aa939e10f4882a0917541e7336fe/node_modules/@tarojs/taro/index.js");
/* harmony import */ var _tarojs_taro__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_tarojs_taro__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _coze_api__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @coze/api */ "./node_modules/.pnpm/@coze+api@1.0.21_axios@1.7.9/node_modules/@coze/api/dist/esm/index.js");
/* harmony import */ var _libs_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/libs/utils */ "./src/libs/utils/index.ts");
/* harmony import */ var _libs_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/libs/types */ "./src/libs/types/index.ts");








var RawSendMessage = /*#__PURE__*/function () {
  function RawSendMessage(_ref) {
    var conversationId = _ref.conversationId,
      botId = _ref.botId,
      chatService = _ref.chatService,
      userId = _ref.userId,
      connectorId = _ref.connectorId,
      sectionId = _ref.sectionId,
      chatInfo = _ref.chatInfo,
      i18n = _ref.i18n;
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_4__["default"])(this, RawSendMessage);
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_5__["default"])(this, "botId", void 0);
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_5__["default"])(this, "userId", void 0);
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_5__["default"])(this, "conversationId", void 0);
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_5__["default"])(this, "sectionId", void 0);
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_5__["default"])(this, "timeoutId", void 0);
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_5__["default"])(this, "chatId", void 0);
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_5__["default"])(this, "connectorId", void 0);
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_5__["default"])(this, "isAbort", void 0);
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_5__["default"])(this, "chatService", void 0);
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_5__["default"])(this, "event", void 0);
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_5__["default"])(this, "messageSended", void 0);
    // 发送出去的消息
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_5__["default"])(this, "messageList", void 0);
    // 当前的消息列表
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_5__["default"])(this, "chatInfo", void 0);
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_5__["default"])(this, "i18n", void 0);
    this.botId = botId;
    this.conversationId = conversationId;
    this.chatInfo = chatInfo;
    this.isAbort = false;
    this.chatService = chatService;
    this.event = new _tarojs_taro__WEBPACK_IMPORTED_MODULE_0__.Events();
    this.messageList = [];
    this.userId = userId;
    this.chatId = "";
    this.connectorId = connectorId;
    this.sectionId = sectionId;
    this.i18n = i18n;

    //默认值，初始化使用
    this.messageSended = {
      id: "",
      role: _coze_api__WEBPACK_IMPORTED_MODULE_1__.RoleType.User,
      conversation_id: this.conversationId,
      section_id: this.sectionId,
      bot_id: this.botId,
      chat_id: "",
      localId: (0,_libs_utils__WEBPACK_IMPORTED_MODULE_2__.nanoid)(),
      meta_data: {},
      content: "",
      content_type: "text",
      created_at: Date.now(),
      updated_at: Date.now(),
      type: "question"
    };
  }
  return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_6__["default"])(RawSendMessage, [{
    key: "sendMessage",
    value: function sendMessage(_message, _historyMessages) {
      throw new Error("Un implement sendMessage");
    }
  }, {
    key: "on",
    value: function on(eventName, callback) {
      this.event.on(eventName, callback);
    }
  }, {
    key: "off",
    value: function off(eventName, callback) {
      this.event.off(eventName, callback);
    }
  }, {
    key: "emit",
    value: function emit(eventName, data) {
      if (eventName === _libs_types__WEBPACK_IMPORTED_MODULE_3__.SendMessageEvent.ReceiveComplete) {
        // 调用结束，关闭对话
        this.close(data);
      } else {
        this.event.trigger(eventName, data);
      }
    }

    // 结束的时候，一定要调用该位置。
  }, {
    key: "close",
    value: function close(data) {
      this._clearTimeout();
      if (this.isAbort) {
        return false;
      }
      // 关闭轮询
      var eventData = data || {
        messages: this.messageList,
        status: "complete"
      };
      this.isAbort = true;
      this.event.trigger(_libs_types__WEBPACK_IMPORTED_MODULE_3__.SendMessageEvent.ReceiveComplete, eventData);
      this.event.trigger(_libs_types__WEBPACK_IMPORTED_MODULE_3__.SendMessageEvent.Close, eventData);
      this.event.off();
      return true;
    }
  }, {
    key: "break",
    value: function _break() {
      this.close();
      // 取消后续的模型回答，并关闭轮询
      // todo: 暂时无此场景，不处理
    }

    // question消息发送成功事件
  }, {
    key: "sendStartMessage",
    value: function sendStartMessage(message) {
      this.packMessage(message);
      this.sendProcessEvent();
    }
  }, {
    key: "packMessage",
    value: function packMessage(message) {
      this.messageSended = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__["default"])({}, this.messageSended), {
        content: message.content,
        content_type: message.content_type,
        // @ts-expect-error -- linter-disable-autofix
        isAudioTranslatingToText: message.isAudioTranslatingToText
      });
      this.messageList = [this.messageSended];
    }

    // 消息打断事件，暂时未使用
  }, {
    key: "sendBreakEvent",
    value: function sendBreakEvent() {
      this.emit(_libs_types__WEBPACK_IMPORTED_MODULE_3__.SendMessageEvent.ReceiveComplete, {
        status: "break",
        messages: this.messageList
      });
    }
    // 消息进行中事件，
  }, {
    key: "sendProcessEvent",
    value: function sendProcessEvent() {
      _libs_utils__WEBPACK_IMPORTED_MODULE_2__.logger.debug("[dev] in_process", this.messageList[this.messageList.length - 1].content);
      this.emit(_libs_types__WEBPACK_IMPORTED_MODULE_3__.SendMessageEvent.ReceiveMessage, {
        status: "in_process",
        messages: this.messageList
      });
    }

    // 消息完成事件
  }, {
    key: "sendCompleteEvent",
    value: function sendCompleteEvent() {
      this.emit(_libs_types__WEBPACK_IMPORTED_MODULE_3__.SendMessageEvent.ReceiveComplete, {
        status: "complete",
        messages: this.messageList
      });
    }
    // 消息失败事件
  }, {
    key: "sendErrorEvent",
    value: function sendErrorEvent() {
      var error = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : new _libs_utils__WEBPACK_IMPORTED_MODULE_2__.MiniChatError(-1, "对话失败");
      this.emit(_libs_types__WEBPACK_IMPORTED_MODULE_3__.SendMessageEvent.ReceiveComplete, {
        status: "error",
        messages: this.messageList,
        error: error
      });
    }
  }, {
    key: "_checkTimeout",
    value: function _checkTimeout() {
      var _this = this;
      var timeout = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 210000;
      if (this.timeoutId) {
        clearTimeout(this.timeoutId);
      }
      this.timeoutId = setTimeout(function () {
        _libs_utils__WEBPACK_IMPORTED_MODULE_2__.logger.error("send message timeout");
        _this.sendErrorEvent(new _libs_utils__WEBPACK_IMPORTED_MODULE_2__.MiniChatError(-1, "timeout"));
      }, timeout);
    }
  }, {
    key: "_clearTimeout",
    value: function _clearTimeout() {
      if (this.timeoutId) {
        clearTimeout(this.timeoutId);
      }
    }
  }]);
}();

/***/ }),

/***/ "./src/libs/services/index.ts":
/*!************************************!*\
  !*** ./src/libs/services/index.ts ***!
  \************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ChatService: function() { return /* reexport safe */ _helper_chat_service__WEBPACK_IMPORTED_MODULE_6__.ChatService; },
/* harmony export */   useAudioSpeech: function() { return /* reexport safe */ _use_audio_speech__WEBPACK_IMPORTED_MODULE_7__.useAudioSpeech; },
/* harmony export */   useChatInit: function() { return /* reexport safe */ _use_chat_init__WEBPACK_IMPORTED_MODULE_0__.useChatInit; },
/* harmony export */   useClearContext: function() { return /* reexport safe */ _use_clear_context__WEBPACK_IMPORTED_MODULE_5__.useClearContext; },
/* harmony export */   useClearMessage: function() { return /* reexport safe */ _use_clear_message__WEBPACK_IMPORTED_MODULE_2__.useClearMessage; },
/* harmony export */   useCreatePrologueMessage: function() { return /* reexport safe */ _use_create_prologue_message__WEBPACK_IMPORTED_MODULE_4__.useCreatePrologueMessage; },
/* harmony export */   useScrollMore: function() { return /* reexport safe */ _use_scroll_more__WEBPACK_IMPORTED_MODULE_1__.useScrollMore; },
/* harmony export */   useSendMessage: function() { return /* reexport safe */ _use_send_message__WEBPACK_IMPORTED_MODULE_3__.useSendMessage; }
/* harmony export */ });
/* harmony import */ var _use_chat_init__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./use-chat-init */ "./src/libs/services/use-chat-init.ts");
/* harmony import */ var _use_scroll_more__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./use-scroll-more */ "./src/libs/services/use-scroll-more.ts");
/* harmony import */ var _use_clear_message__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./use-clear-message */ "./src/libs/services/use-clear-message.ts");
/* harmony import */ var _use_send_message__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./use-send-message */ "./src/libs/services/use-send-message.ts");
/* harmony import */ var _use_create_prologue_message__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./use-create-prologue-message */ "./src/libs/services/use-create-prologue-message.ts");
/* harmony import */ var _use_clear_context__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./use-clear-context */ "./src/libs/services/use-clear-context.ts");
/* harmony import */ var _helper_chat_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./helper/chat-service */ "./src/libs/services/helper/chat-service.ts");
/* harmony import */ var _use_audio_speech__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./use-audio-speech */ "./src/libs/services/use-audio-speech.ts");









/***/ }),

/***/ "./src/libs/services/use-audio-speech.ts":
/*!***********************************************!*\
  !*** ./src/libs/services/use-audio-speech.ts ***!
  \***********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useAudioSpeech: function() { return /* binding */ useAudioSpeech; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _provider__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../provider */ "./src/libs/provider/index.tsx");


var useAudioSpeech = function useAudioSpeech() {
  var _useApiClientStore = (0,_provider__WEBPACK_IMPORTED_MODULE_1__.useApiClientStore)(function (store) {
      return {
        chatService: store.chatService
      };
    }),
    chatService = _useApiClientStore.chatService;
  var voiceId = (0,_provider__WEBPACK_IMPORTED_MODULE_1__.useVoiceId)();
  var audioSpeech = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (input) {
    return chatService.audioSpeech({
      input: input,
      voice_id: voiceId,
      response_format: "wav",
      sampling_rate: 8000
    });
  }, [chatService, voiceId]);
  return {
    audioSpeech: audioSpeech
  };
};

/***/ }),

/***/ "./src/libs/services/use-chat-init.ts":
/*!********************************************!*\
  !*** ./src/libs/services/use-chat-init.ts ***!
  \********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useChatInit: function() { return /* binding */ useChatInit; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectSpread2.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectSpread2.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/slicedToArray.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _libs_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/libs/utils */ "./src/libs/utils/index.ts");
/* harmony import */ var _libs_provider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/libs/provider */ "./src/libs/provider/index.tsx");
/* harmony import */ var _provider_context_chat_store_context__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../provider/context/chat-store-context */ "./src/libs/provider/context/chat-store-context.tsx");









var useChatInit = function useChatInit() {
  var chatProps = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_2__.useChatPropsContext)();
  var _useChatInfoStore = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_2__.useChatInfoStore)(function (store) {
      return {
        setChatError: store.setError,
        setChatInfo: store.setChatInfo,
        setChatIsLoading: store.setIsLoading,
        setCustomChatInfo: store.setCustomChatInfo,
        isLoadingChatInfo: store.isLoading,
        error: store.error
      };
    }),
    setChatError = _useChatInfoStore.setChatError,
    setChatInfo = _useChatInfoStore.setChatInfo,
    setChatIsLoading = _useChatInfoStore.setChatIsLoading,
    chatError = _useChatInfoStore.error;
  var setConversationDetail = (0,_provider_context_chat_store_context__WEBPACK_IMPORTED_MODULE_3__.useConversationStore)(function (store) {
    return store.setConversationDetail;
  });
  var chatService = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_2__.useApiClientStore)(function (store) {
    return store.chatService;
  });
  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0),
    _useState2 = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__["default"])(_useState, 2),
    retryTime = _useState2[0],
    setRetryTime = _useState2[1];
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {
    if (!checkParams(chatProps)) {
      setChatError(new _libs_utils__WEBPACK_IMPORTED_MODULE_1__.MiniChatError(-1, "params error"));
      return;
    }
    var isAbort = false;
    setChatError(null);
    setChatIsLoading(true);
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_5__["default"])(/*#__PURE__*/(0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_6__["default"])().mark(function _callee() {
      var _yield$Promise$all, _yield$Promise$all2, chatInfo, conversationDetail, miniChatError;
      return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_6__["default"])().wrap(function _callee$(_context) {
        while (1) switch (_context.prev = _context.next) {
          case 0:
            _context.prev = 0;
            _context.next = 3;
            return Promise.all([chatService.getAppInfo(), getInitConversationDetail(chatService)]);
          case 3:
            _yield$Promise$all = _context.sent;
            _yield$Promise$all2 = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__["default"])(_yield$Promise$all, 2);
            chatInfo = _yield$Promise$all2[0];
            conversationDetail = _yield$Promise$all2[1];
            if (!isAbort) {
              setConversationDetail(conversationDetail, conversationDetail.messages);
              setChatInfo(chatInfo);
            }
            _context.next = 15;
            break;
          case 10:
            _context.prev = 10;
            _context.t0 = _context["catch"](0);
            _libs_utils__WEBPACK_IMPORTED_MODULE_1__.logger.error("get chat info error", _context.t0);
            miniChatError = (0,_libs_utils__WEBPACK_IMPORTED_MODULE_1__.convertToMinChatError)(_context.t0);
            setChatError(miniChatError);
          case 15:
          case "end":
            return _context.stop();
        }
      }, _callee, null, [[0, 10]]);
    }))();
    return function () {
      isAbort = true;
    };
  }, [retryTime, chatService]);
  return {
    retryChatInit: function retryChatInit() {
      if (chatError) {
        setRetryTime(retryTime + 1);
      }
    }
  };
};

/*
 * @param chatProps - The chat props.
 * @returns A boolean value.
 */
function checkParams(chatProps) {
  var _chatProps$setting, _chatProps$setting2, _chatProps$chat, _chatProps$auth, _chatProps$auth2, _chatProps$user, _chatProps$user2, _chatProps$user3;
  if (!(chatProps !== null && chatProps !== void 0 && (_chatProps$setting = chatProps.setting) !== null && _chatProps$setting !== void 0 && _chatProps$setting.apiBaseUrl)) {
    _libs_utils__WEBPACK_IMPORTED_MODULE_1__.logger.error("Setting's apiBaseUrl must be provided");
    return false;
  }
  if (!(chatProps !== null && chatProps !== void 0 && (_chatProps$setting2 = chatProps.setting) !== null && _chatProps$setting2 !== void 0 && _chatProps$setting2.cdnBaseUrlPath)) {
    _libs_utils__WEBPACK_IMPORTED_MODULE_1__.logger.warn("Setting's cdnBaseUrlPath is not provided; The chat will show a crash image");
  }
  if (!(chatProps !== null && chatProps !== void 0 && (_chatProps$chat = chatProps.chat) !== null && _chatProps$chat !== void 0 && _chatProps$chat.appId)) {
    _libs_utils__WEBPACK_IMPORTED_MODULE_1__.logger.error("Chat's appId must be provided");
    return false;
  }
  if (!(chatProps !== null && chatProps !== void 0 && (_chatProps$auth = chatProps.auth) !== null && _chatProps$auth !== void 0 && _chatProps$auth.token)) {
    _libs_utils__WEBPACK_IMPORTED_MODULE_1__.logger.error("Token  must be provided");
    return false;
  }
  if (!(chatProps !== null && chatProps !== void 0 && (_chatProps$auth2 = chatProps.auth) !== null && _chatProps$auth2 !== void 0 && _chatProps$auth2.onRefreshToken)) {
    _libs_utils__WEBPACK_IMPORTED_MODULE_1__.logger.warn("onRefreshToken is not provided; The chat will not be able to refresh the token");
  }
  if (!(chatProps !== null && chatProps !== void 0 && (_chatProps$user = chatProps.user) !== null && _chatProps$user !== void 0 && _chatProps$user.id) || !(chatProps !== null && chatProps !== void 0 && (_chatProps$user2 = chatProps.user) !== null && _chatProps$user2 !== void 0 && _chatProps$user2.name) || !(chatProps !== null && chatProps !== void 0 && (_chatProps$user3 = chatProps.user) !== null && _chatProps$user3 !== void 0 && _chatProps$user3.avatar)) {
    _libs_utils__WEBPACK_IMPORTED_MODULE_1__.logger.warn("User's property (id, name, avatar) is empty; The chat will show a default user");
    return true;
  }
  return true;
}

/*
 * Get the initial conversation detail
 * @param chatService - The chat service to use.
 * @returns The conversation detail(conversationId, sectionId, messages)
 */
function getInitConversationDetail(_x) {
  return _getInitConversationDetail.apply(this, arguments);
}
function _getInitConversationDetail() {
  _getInitConversationDetail = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_5__["default"])(/*#__PURE__*/(0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_6__["default"])().mark(function _callee2(chatService) {
    var conversationId, sectionId, res, apiError, messageListRes;
    return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_6__["default"])().wrap(function _callee2$(_context2) {
      while (1) switch (_context2.prev = _context2.next) {
        case 0:
          conversationId = "";
          sectionId = "";
          _context2.prev = 2;
          _context2.next = 5;
          return chatService.getOrCreateConversationId();
        case 5:
          res = _context2.sent;
          conversationId = res.conversationId;
          sectionId = res.sectionId;
          _context2.next = 15;
          break;
        case 10:
          _context2.prev = 10;
          _context2.t0 = _context2["catch"](2);
          _libs_utils__WEBPACK_IMPORTED_MODULE_1__.logger.error("Get Message Error", _context2.t0);
          apiError = (0,_libs_utils__WEBPACK_IMPORTED_MODULE_1__.convertToMinChatError)(_context2.t0);
          throw new _libs_utils__WEBPACK_IMPORTED_MODULE_1__.MiniChatError(apiError.code || _libs_utils__WEBPACK_IMPORTED_MODULE_1__.MiniChatErrorCode.Custom_Conversation_Create_Error, apiError.msg || "Conversation Create Error");
        case 15:
          _context2.prev = 15;
          _context2.next = 18;
          return chatService.getMessageList({
            conversationId: conversationId
          });
        case 18:
          messageListRes = _context2.sent;
          return _context2.abrupt("return", (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__["default"])({
            id: conversationId,
            sectionId: sectionId
          }, messageListRes));
        case 22:
          _context2.prev = 22;
          _context2.t1 = _context2["catch"](15);
          throw new _libs_utils__WEBPACK_IMPORTED_MODULE_1__.MiniChatError(_libs_utils__WEBPACK_IMPORTED_MODULE_1__.MiniChatErrorCode.Custom_GetMessageList_Error, "Get MessageList Error");
        case 25:
        case "end":
          return _context2.stop();
      }
    }, _callee2, null, [[2, 10], [15, 22]]);
  }));
  return _getInitConversationDetail.apply(this, arguments);
}

/***/ }),

/***/ "./src/libs/services/use-clear-context.ts":
/*!************************************************!*\
  !*** ./src/libs/services/use-clear-context.ts ***!
  \************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useClearContext: function() { return /* binding */ useClearContext; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _libs_provider__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/libs/provider */ "./src/libs/provider/index.tsx");
/* harmony import */ var _libs_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/libs/utils */ "./src/libs/utils/index.ts");
/* harmony import */ var _provider_context_chat_store_context__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../provider/context/chat-store-context */ "./src/libs/provider/context/chat-store-context.tsx");
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../types */ "./src/libs/types/index.ts");







var useClearContext = function useClearContext() {
  var _useConversationStore = (0,_provider_context_chat_store_context__WEBPACK_IMPORTED_MODULE_3__.useConversationStore)(function (store) {
      return {
        conversationId: store.id,
        setSectionId: store.setSectionId
      };
    }),
    conversationId = _useConversationStore.conversationId,
    setSectionId = _useConversationStore.setSectionId;
  var _useChatStatusStore = (0,_provider_context_chat_store_context__WEBPACK_IMPORTED_MODULE_3__.useChatStatusStore)(function (store) {
      return {
        setIsClearingContext: store.setIsClearingContext,
        getOpDisabledState: store.getOpDisabledState
      };
    }),
    getOpDisabledState = _useChatStatusStore.getOpDisabledState,
    setIsClearingContext = _useChatStatusStore.setIsClearingContext;
  var targetEventCenter = (0,_provider_context_chat_store_context__WEBPACK_IMPORTED_MODULE_3__.useUiEventStore)(function (store) {
    return store.event;
  });
  var chatEvent = (0,_provider_context_chat_store_context__WEBPACK_IMPORTED_MODULE_3__.useUiEventStore)(function (store) {
    return store.event;
  });
  var chatService = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_1__.useApiClientStore)(function (store) {
    return store.chatService;
  });
  var i18n = (0,_provider_context_chat_store_context__WEBPACK_IMPORTED_MODULE_3__.useI18n)();
  var clearContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(/*#__PURE__*/(0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_5__["default"])(/*#__PURE__*/(0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_6__["default"])().mark(function _callee() {
    var _getOpDisabledState, disableState, _yield$chatService$cr, sectionId;
    return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_6__["default"])().wrap(function _callee$(_context) {
      while (1) switch (_context.prev = _context.next) {
        case 0:
          _getOpDisabledState = getOpDisabledState(), disableState = _getOpDisabledState.clearContext;
          if (conversationId) {
            _context.next = 4;
            break;
          }
          _libs_utils__WEBPACK_IMPORTED_MODULE_2__.logger.error("clearContext, conversationId is empty");
          return _context.abrupt("return");
        case 4:
          if (!disableState) {
            _context.next = 6;
            break;
          }
          return _context.abrupt("return");
        case 6:
          setIsClearingContext(true);
          chatEvent.trigger(_types__WEBPACK_IMPORTED_MODULE_4__.UIEventType.ChatSlotScrollToAnchorBottom);
          _context.prev = 8;
          _context.next = 11;
          return chatService.createNewSection(conversationId);
        case 11:
          _yield$chatService$cr = _context.sent;
          sectionId = _yield$chatService$cr.sectionId;
          setSectionId(sectionId);
          _context.next = 19;
          break;
        case 16:
          _context.prev = 16;
          _context.t0 = _context["catch"](8);
          (0,_libs_utils__WEBPACK_IMPORTED_MODULE_2__.showToast)({
            content: i18n.t("clearContextFailed"),
            icon: "error"
          }, targetEventCenter);
        case 19:
          chatEvent.trigger(_types__WEBPACK_IMPORTED_MODULE_4__.UIEventType.ChatSlotRemoveAnchorBottom);
          setIsClearingContext(false);
        case 21:
        case "end":
          return _context.stop();
      }
    }, _callee, null, [[8, 16]]);
  })), [conversationId, targetEventCenter]);
  return {
    clearContext: clearContext
  };
};

/***/ }),

/***/ "./src/libs/services/use-clear-message.ts":
/*!************************************************!*\
  !*** ./src/libs/services/use-clear-message.ts ***!
  \************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useClearMessage: function() { return /* binding */ useClearMessage; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _libs_provider__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/libs/provider */ "./src/libs/provider/index.tsx");
/* harmony import */ var _libs_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/libs/utils */ "./src/libs/utils/index.ts");
/* harmony import */ var _provider_context_chat_store_context__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../provider/context/chat-store-context */ "./src/libs/provider/context/chat-store-context.tsx");






var useClearMessage = function useClearMessage() {
  var _useConversationStore = (0,_provider_context_chat_store_context__WEBPACK_IMPORTED_MODULE_3__.useConversationStore)(function (store) {
      return {
        setNewConversationId: store.setNewConversationId,
        setSectionId: store.setSectionId
      };
    }),
    setNewConversationId = _useConversationStore.setNewConversationId,
    setSectionId = _useConversationStore.setSectionId;
  var i18n = (0,_provider_context_chat_store_context__WEBPACK_IMPORTED_MODULE_3__.useI18n)();
  var appId = (0,_provider_context_chat_store_context__WEBPACK_IMPORTED_MODULE_3__.useChatInfoStore)(function (store) {
    return store.id;
  });
  var _useChatStatusStore = (0,_provider_context_chat_store_context__WEBPACK_IMPORTED_MODULE_3__.useChatStatusStore)(function (store) {
      return {
        setIsDeleting: store.setIsDeleting,
        getOpDisabledState: store.getOpDisabledState
      };
    }),
    getOpDisabledState = _useChatStatusStore.getOpDisabledState,
    setIsDeleting = _useChatStatusStore.setIsDeleting;
  var targetEventCenter = (0,_provider_context_chat_store_context__WEBPACK_IMPORTED_MODULE_3__.useUiEventStore)(function (store) {
    return store.event;
  });
  var chatService = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_1__.useApiClientStore)(function (store) {
    return store.chatService;
  });
  var clearMessage = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(/*#__PURE__*/(0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_4__["default"])(/*#__PURE__*/(0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_5__["default"])().mark(function _callee() {
    var _getOpDisabledState, disableState, _yield$chatService$cr, conversationId, sectionId;
    return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_5__["default"])().wrap(function _callee$(_context) {
      while (1) switch (_context.prev = _context.next) {
        case 0:
          _getOpDisabledState = getOpDisabledState(), disableState = _getOpDisabledState.clearMessage;
          if (!disableState) {
            _context.next = 3;
            break;
          }
          return _context.abrupt("return");
        case 3:
          setIsDeleting(true);
          _context.prev = 4;
          _context.next = 7;
          return chatService.createNewConversation();
        case 7:
          _yield$chatService$cr = _context.sent;
          conversationId = _yield$chatService$cr.conversationId;
          sectionId = _yield$chatService$cr.sectionId;
          setNewConversationId(conversationId);
          setSectionId(sectionId);
          _context.next = 17;
          break;
        case 14:
          _context.prev = 14;
          _context.t0 = _context["catch"](4);
          (0,_libs_utils__WEBPACK_IMPORTED_MODULE_2__.showToast)({
            content: i18n.t("clearMessageFailed"),
            icon: "error"
          }, targetEventCenter);
        case 17:
          setIsDeleting(false);
        case 18:
        case "end":
          return _context.stop();
      }
    }, _callee, null, [[4, 14]]);
  })), [appId, targetEventCenter]);
  return {
    clearMessage: clearMessage
  };
};

/***/ }),

/***/ "./src/libs/services/use-create-prologue-message.ts":
/*!**********************************************************!*\
  !*** ./src/libs/services/use-create-prologue-message.ts ***!
  \**********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useCreatePrologueMessage: function() { return /* binding */ useCreatePrologueMessage; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js");
/* harmony import */ var _libs_provider__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/libs/provider */ "./src/libs/provider/index.tsx");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _coze_api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @coze/api */ "./node_modules/.pnpm/@coze+api@1.0.21_axios@1.7.9/node_modules/@coze/api/dist/esm/index.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils */ "./src/libs/utils/index.ts");





var useCreatePrologueMessage = function useCreatePrologueMessage(nextSectionId) {
  var _chatInfo$onboarding_3, _chatInfo$onboarding_4;
  var _useChatInfoStore = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_0__.useChatInfoStore)(function (store) {
      return {
        chatInfo: store.info
      };
    }),
    chatInfo = _useChatInfoStore.chatInfo;
  var _useConversationStore = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_0__.useConversationStore)(function (store) {
      return {
        conversationId: store.id
      };
    }),
    conversationId = _useConversationStore.conversationId;
  var _useUserInfoStore = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_0__.useUserInfoStore)(function (store) {
      return {
        userInfo: store.info
      };
    }),
    userInfo = _useUserInfoStore.userInfo;
  var createAnswerMessage = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function (type, content) {
    return {
      id: "",
      conversation_id: conversationId || "",
      section_id: nextSectionId || "",
      bot_id: (chatInfo === null || chatInfo === void 0 ? void 0 : chatInfo.appId) || "",
      chat_id: "",
      role: _coze_api__WEBPACK_IMPORTED_MODULE_2__.RoleType.Assistant,
      type: type,
      localId: (0,_utils__WEBPACK_IMPORTED_MODULE_3__.nanoid)(),
      meta_data: {},
      content_type: "text",
      created_at: 0,
      updated_at: 0,
      content: content
    };
  }, [conversationId, nextSectionId, chatInfo]);
  var localId = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () {
    return (0,_utils__WEBPACK_IMPORTED_MODULE_3__.nanoid)();
  }, []);
  var chatMessage = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () {
    var _chatInfo$onboarding_, _chatInfo$onboarding_2;
    return [createAnswerMessage("answer", ((chatInfo === null || chatInfo === void 0 || (_chatInfo$onboarding_ = chatInfo.onboarding_info) === null || _chatInfo$onboarding_ === void 0 ? void 0 : _chatInfo$onboarding_.prologue) || "").replaceAll("{{user_name}}", (userInfo === null || userInfo === void 0 ? void 0 : userInfo.name) || ""))].concat((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_4__["default"])(((chatInfo === null || chatInfo === void 0 || (_chatInfo$onboarding_2 = chatInfo.onboarding_info) === null || _chatInfo$onboarding_2 === void 0 ? void 0 : _chatInfo$onboarding_2.suggested_questions) || []).map(function (item) {
      return createAnswerMessage("follow_up", item);
    })));
  }, [chatInfo, conversationId, createAnswerMessage, userInfo]);
  var chatGroup = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () {
    return {
      id: localId,
      chatId: "",
      respMessages: chatMessage,
      sectionId: nextSectionId,
      isPrologue: true
    };
  }, [chatMessage, localId, nextSectionId]);
  return chatInfo !== null && chatInfo !== void 0 && (_chatInfo$onboarding_3 = chatInfo.onboarding_info) !== null && _chatInfo$onboarding_3 !== void 0 && _chatInfo$onboarding_3.prologue && (chatInfo === null || chatInfo === void 0 || (_chatInfo$onboarding_4 = chatInfo.onboarding_info) === null || _chatInfo$onboarding_4 === void 0 ? void 0 : _chatInfo$onboarding_4.prologue) !== "\n" // chatflow里边 默认会有一个\n
  ? chatGroup : null;
};

/***/ }),

/***/ "./src/libs/services/use-scroll-more.ts":
/*!**********************************************!*\
  !*** ./src/libs/services/use-scroll-more.ts ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useScrollMore: function() { return /* binding */ useScrollMore; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _libs_provider__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/libs/provider */ "./src/libs/provider/index.tsx");
/* harmony import */ var _provider_context_chat_store_context__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../provider/context/chat-store-context */ "./src/libs/provider/context/chat-store-context.tsx");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils */ "./src/libs/utils/index.ts");



var _excluded = ["messages", "error"];




var UPPER_THRESHOLD = 100;
var useScrollMore = function useScrollMore() {
  var refLoading = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);
  var refDebounce = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(Date.now());
  var _useConversationStore = (0,_provider_context_chat_store_context__WEBPACK_IMPORTED_MODULE_2__.useConversationStore)(function (store) {
      return {
        conversationId: store.id,
        unshiftMessageList: store.unshiftMessageList,
        prevError: store.prevError,
        prevHasMore: store.prevHasMore,
        prevCursorId: store.prevCursorId,
        setPrevInfo: store.setPrevInfo,
        setPrevError: store.setPrevError
      };
    }),
    conversationId = _useConversationStore.conversationId,
    unshiftMessageList = _useConversationStore.unshiftMessageList,
    prevError = _useConversationStore.prevError,
    prevHasMore = _useConversationStore.prevHasMore,
    prevCursorId = _useConversationStore.prevCursorId,
    setPrevInfo = _useConversationStore.setPrevInfo,
    setPrevError = _useConversationStore.setPrevError;
  var chatService = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_1__.useApiClientStore)(function (store) {
    return store.chatService;
  });
  var onScrollToUpper = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(/*#__PURE__*/(0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_4__["default"])(/*#__PURE__*/(0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_5__["default"])().mark(function _callee() {
    var _yield$chatService$ge, messageList, error, rest;
    return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_5__["default"])().wrap(function _callee$(_context) {
      while (1) switch (_context.prev = _context.next) {
        case 0:
          if (!(refLoading.current || !conversationId)) {
            _context.next = 2;
            break;
          }
          return _context.abrupt("return");
        case 2:
          _utils__WEBPACK_IMPORTED_MODULE_3__.logger.debug("onScrollToUpper currentTime", {
            currentTime: refDebounce.current,
            time: Date.now() - refDebounce.current
          });
          if (!(Date.now() - refDebounce.current < 1500)) {
            _context.next = 5;
            break;
          }
          return _context.abrupt("return");
        case 5:
          refLoading.current = true;

          // chatService.getMessageList will never throw error, so don't need to catch error
          _context.next = 8;
          return chatService.getMessageList({
            conversationId: conversationId || "",
            prevCursorId: prevCursorId
          });
        case 8:
          _yield$chatService$ge = _context.sent;
          messageList = _yield$chatService$ge.messages;
          error = _yield$chatService$ge.error;
          rest = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_6__["default"])(_yield$chatService$ge, _excluded);
          unshiftMessageList(conversationId, messageList);
          if (error) {
            setPrevError(error);
          } else {
            setPrevInfo(rest.prevHasMore || false, rest.prevCursorId || "");
          }
          refDebounce.current = Date.now();
          refLoading.current = false;
        case 16:
        case "end":
          return _context.stop();
      }
    }, _callee);
  })), [prevCursorId, chatService, conversationId, unshiftMessageList]);
  return {
    prevError: prevError,
    isNeedPrevLoadMore: prevHasMore,
    upperThreshold: UPPER_THRESHOLD,
    onScrollToUpper: prevHasMore ? onScrollToUpper : undefined
  };
};

/***/ }),

/***/ "./src/libs/services/use-send-message.ts":
/*!***********************************************!*\
  !*** ./src/libs/services/use-send-message.ts ***!
  \***********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useSendMessage: function() { return /* binding */ useSendMessage; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _libs_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/libs/utils */ "./src/libs/utils/index.ts");
/* harmony import */ var _libs_provider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/libs/provider */ "./src/libs/provider/index.tsx");
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../types */ "./src/libs/types/index.ts");
/* harmony import */ var _provider_context_chat_store_context__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../provider/context/chat-store-context */ "./src/libs/provider/context/chat-store-context.tsx");
/* harmony import */ var _helper_message__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./helper/message */ "./src/libs/services/helper/message/index.ts");
/* harmony import */ var _hooks__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../hooks */ "./src/libs/hooks/index.ts");







var useSendMessage = function useSendMessage() {
  var _useConversationStore = (0,_provider_context_chat_store_context__WEBPACK_IMPORTED_MODULE_4__.useConversationStore)(function (store) {
      return {
        setSendMessageService: store.setSendMessageService,
        conversationId: store.id,
        sectionId: store.sectionId,
        popLastErrorChatGroup: store.popLastErrorChatGroup
      };
    }),
    setSendMessageService = _useConversationStore.setSendMessageService,
    conversationId = _useConversationStore.conversationId,
    sectionId = _useConversationStore.sectionId,
    popLastErrorChatGroup = _useConversationStore.popLastErrorChatGroup;
  var i18n = (0,_provider_context_chat_store_context__WEBPACK_IMPORTED_MODULE_4__.useI18n)();
  var userInfo = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_2__.useUserInfoStore)(function (store) {
    return store.info;
  });
  var botId = (0,_provider_context_chat_store_context__WEBPACK_IMPORTED_MODULE_4__.useChatInfoStore)(function (store) {
    return store.id;
  });
  var _useChatStatusStore = (0,_provider_context_chat_store_context__WEBPACK_IMPORTED_MODULE_4__.useChatStatusStore)(function (store) {
      return {
        setIsDeleting: store.setIsDeleting,
        getOpDisabledState: store.getOpDisabledState
      };
    }),
    getOpDisabledState = _useChatStatusStore.getOpDisabledState,
    setIsDeleting = _useChatStatusStore.setIsDeleting;
  var chatInfo = (0,_provider_context_chat_store_context__WEBPACK_IMPORTED_MODULE_4__.useChatInfoStore)(function (store) {
    return store.info;
  });
  var setTaskList = (0,_provider_context_chat_store_context__WEBPACK_IMPORTED_MODULE_4__.useChatInputStore)(function (store) {
    return store.setTaskList;
  });
  var _useApiClientStore = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_2__.useApiClientStore)(function (store) {
      return {
        connectorId: store.connectorId,
        chatService: store.chatService
      };
    }),
    connectorId = _useApiClientStore.connectorId,
    chatService = _useApiClientStore.chatService;
  var targetEventCenter = (0,_provider_context_chat_store_context__WEBPACK_IMPORTED_MODULE_4__.useUiEventStore)(function (store) {
    return store.event;
  });
  var sendMessage = (0,_hooks__WEBPACK_IMPORTED_MODULE_6__.usePersistCallback)(function (rawMessage, historyMessages) {
    var _getOpDisabledState = getOpDisabledState(),
      disableState = _getOpDisabledState.clearMessage;
    if (disableState) {
      return;
    }
    if (!botId || !conversationId) {
      return;
    }
    // Clear task message after message sended
    setTaskList({
      taskList: []
    });
    setIsDeleting(true);
    var sendMessageHandler = (0,_helper_message__WEBPACK_IMPORTED_MODULE_5__.getSendMessageHandler)({
      botId: botId,
      chatService: chatService,
      conversationId: conversationId,
      userId: (userInfo === null || userInfo === void 0 ? void 0 : userInfo.id) || "",
      connectorId: connectorId,
      sectionId: sectionId,
      chatInfo: chatInfo || undefined,
      i18n: i18n
    });
    sendMessageHandler.on(_types__WEBPACK_IMPORTED_MODULE_3__.SendMessageEvent.Close, function () {
      setIsDeleting(false);
    });
    sendMessageHandler.on(_types__WEBPACK_IMPORTED_MODULE_3__.SendMessageEvent.ReceiveComplete, function (event) {
      if (event.error) {
        var _event$error;
        (0,_libs_utils__WEBPACK_IMPORTED_MODULE_1__.showToast)({
          content: ((_event$error = event.error) === null || _event$error === void 0 ? void 0 : _event$error.getErrorMessageByI18n(i18n, {})) || i18n.t("sendFailed"),
          icon: "error",
          duration: 2000
        }, targetEventCenter);
      }
    });
    setSendMessageService(sendMessageHandler);
    sendMessageHandler.sendRawMessage(rawMessage, historyMessages);
  });
  var sendTextMessage = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (content) {
    sendMessage({
      type: _helper_message__WEBPACK_IMPORTED_MODULE_5__.RawMessageType.TEXT,
      data: content
    });
  }, [sendMessage]);
  var sendFileMessage = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (files) {
    sendMessage({
      type: _helper_message__WEBPACK_IMPORTED_MODULE_5__.RawMessageType.FILE,
      data: files
    });
  }, [sendMessage]);
  var sendAudioMessage = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (audio) {
    sendMessage({
      type: _helper_message__WEBPACK_IMPORTED_MODULE_5__.RawMessageType.AUDIO,
      data: audio
    });
  }, [sendMessage]);
  var reSendLastErrorMessage = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {
    var _chatMessageGroup$que;
    var chatMessageGroup = popLastErrorChatGroup();
    if (chatMessageGroup !== null && chatMessageGroup !== void 0 && (_chatMessageGroup$que = chatMessageGroup.query) !== null && _chatMessageGroup$que !== void 0 && _chatMessageGroup$que.rawMessage) {
      var _chatMessageGroup$que2;
      sendMessage(chatMessageGroup === null || chatMessageGroup === void 0 || (_chatMessageGroup$que2 = chatMessageGroup.query) === null || _chatMessageGroup$que2 === void 0 ? void 0 : _chatMessageGroup$que2.rawMessage);
    }
  }, [sendMessage]);
  return {
    sendMessage: sendMessage,
    sendTextMessage: sendTextMessage,
    sendFileMessage: sendFileMessage,
    sendAudioMessage: sendAudioMessage,
    reSendLastErrorMessage: reSendLastErrorMessage
  };
};

/***/ }),

/***/ "./src/libs/types/base/chat.ts":
/*!*************************************!*\
  !*** ./src/libs/types/base/chat.ts ***!
  \*************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ChatType: function() { return /* binding */ ChatType; }
/* harmony export */ });
var ChatType = /*#__PURE__*/function (ChatType) {
  ChatType["Bot"] = "bot";
  ChatType["App"] = "App";
  return ChatType;
}({});

/***/ }),

/***/ "./src/libs/types/base/file.ts":
/*!*************************************!*\
  !*** ./src/libs/types/base/file.ts ***!
  \*************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FileTypeEnum: function() { return /* binding */ FileTypeEnum; }
/* harmony export */ });
var FileTypeEnum = /*#__PURE__*/function (FileTypeEnum) {
  FileTypeEnum["IMAGE"] = "image";
  FileTypeEnum["PDF"] = "pdf";
  FileTypeEnum["DOCX"] = "docx";
  FileTypeEnum["EXCEL"] = "excel";
  FileTypeEnum["CSV"] = "csv";
  FileTypeEnum["AUDIO"] = "audio";
  FileTypeEnum["VIDEO"] = "video";
  FileTypeEnum["TXT"] = "txt";
  FileTypeEnum["PPT"] = "ppt";
  FileTypeEnum["ZIP"] = "zip";
  FileTypeEnum["CODE"] = "code";
  FileTypeEnum["DEFAULT_UNKNOWN"] = "default_unknown";
  return FileTypeEnum;
}({});

/***/ }),

/***/ "./src/libs/types/base/index.ts":
/*!**************************************!*\
  !*** ./src/libs/types/base/index.ts ***!
  \**************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ChatType: function() { return /* reexport safe */ _chat__WEBPACK_IMPORTED_MODULE_0__.ChatType; },
/* harmony export */   FileTypeEnum: function() { return /* reexport safe */ _file__WEBPACK_IMPORTED_MODULE_2__.FileTypeEnum; },
/* harmony export */   UIEventType: function() { return /* reexport safe */ _ui_event__WEBPACK_IMPORTED_MODULE_1__.UIEventType; }
/* harmony export */ });
/* harmony import */ var _chat__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chat */ "./src/libs/types/base/chat.ts");
/* harmony import */ var _ui_event__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ui-event */ "./src/libs/types/base/ui-event.ts");
/* harmony import */ var _file__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./file */ "./src/libs/types/base/file.ts");




/***/ }),

/***/ "./src/libs/types/base/ui-event.ts":
/*!*****************************************!*\
  !*** ./src/libs/types/base/ui-event.ts ***!
  \*****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   UIEventType: function() { return /* binding */ UIEventType; }
/* harmony export */ });
var UIEventType = /*#__PURE__*/function (UIEventType) {
  UIEventType["FrameClick"] = "frame-click";
  UIEventType["ChatToastShow"] = "chat-toast-show";
  UIEventType["KeyDown"] = "key-down-event";
  UIEventType["KeyUp"] = "key-up-event";
  UIEventType["TriggerFocus"] = "trigger-focus";
  UIEventType["FrameFocus"] = "frame-focus";
  UIEventType["FrameBlur"] = "frame-blur";
  UIEventType["ChatModalShow"] = "chat-modal-show";
  UIEventType["ChatSlotToBottom"] = "chat-slot-to-bottom";
  UIEventType["ChatSlotScrollToAnchorBottom"] = "chat-slot-scroll-to-anchor-bottom";
  UIEventType["ChatSlotRemoveAnchorBottom"] = "chat-slot-remove-anchor-bottom";
  return UIEventType;
}({});

/***/ }),

/***/ "./src/libs/types/index.ts":
/*!*********************************!*\
  !*** ./src/libs/types/index.ts ***!
  \*********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ChatType: function() { return /* reexport safe */ _base__WEBPACK_IMPORTED_MODULE_0__.ChatType; },
/* harmony export */   FileTypeEnum: function() { return /* reexport safe */ _base__WEBPACK_IMPORTED_MODULE_0__.FileTypeEnum; },
/* harmony export */   Language: function() { return /* reexport safe */ _utils_i18n__WEBPACK_IMPORTED_MODULE_6__.Language; },
/* harmony export */   RawMessageType: function() { return /* reexport safe */ _services_send_message__WEBPACK_IMPORTED_MODULE_5__.RawMessageType; },
/* harmony export */   SendMessageEvent: function() { return /* reexport safe */ _services_send_message__WEBPACK_IMPORTED_MODULE_5__.SendMessageEvent; },
/* harmony export */   UIEventType: function() { return /* reexport safe */ _base__WEBPACK_IMPORTED_MODULE_0__.UIEventType; }
/* harmony export */ });
/* harmony import */ var _base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base */ "./src/libs/types/base/index.ts");
/* harmony import */ var _provider_chat_status__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./provider/chat-status */ "./src/libs/types/provider/chat-status.ts");
/* harmony import */ var _provider_chat_status__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_provider_chat_status__WEBPACK_IMPORTED_MODULE_1__);
/* harmony reexport (checked) */ if(__webpack_require__.o(_provider_chat_status__WEBPACK_IMPORTED_MODULE_1__, "RawMessageType")) __webpack_require__.d(__webpack_exports__, { RawMessageType: function() { return _provider_chat_status__WEBPACK_IMPORTED_MODULE_1__.RawMessageType; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_provider_chat_status__WEBPACK_IMPORTED_MODULE_1__, "SendMessageEvent")) __webpack_require__.d(__webpack_exports__, { SendMessageEvent: function() { return _provider_chat_status__WEBPACK_IMPORTED_MODULE_1__.SendMessageEvent; } });
/* harmony import */ var _provider_user_info__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./provider/user-info */ "./src/libs/types/provider/user-info.ts");
/* harmony import */ var _provider_user_info__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_provider_user_info__WEBPACK_IMPORTED_MODULE_2__);
/* harmony reexport (checked) */ if(__webpack_require__.o(_provider_user_info__WEBPACK_IMPORTED_MODULE_2__, "RawMessageType")) __webpack_require__.d(__webpack_exports__, { RawMessageType: function() { return _provider_user_info__WEBPACK_IMPORTED_MODULE_2__.RawMessageType; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_provider_user_info__WEBPACK_IMPORTED_MODULE_2__, "SendMessageEvent")) __webpack_require__.d(__webpack_exports__, { SendMessageEvent: function() { return _provider_user_info__WEBPACK_IMPORTED_MODULE_2__.SendMessageEvent; } });
/* harmony import */ var _provider_chat_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./provider/chat-props */ "./src/libs/types/provider/chat-props.ts");
/* harmony import */ var _provider_chat_props__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_provider_chat_props__WEBPACK_IMPORTED_MODULE_3__);
/* harmony reexport (checked) */ if(__webpack_require__.o(_provider_chat_props__WEBPACK_IMPORTED_MODULE_3__, "RawMessageType")) __webpack_require__.d(__webpack_exports__, { RawMessageType: function() { return _provider_chat_props__WEBPACK_IMPORTED_MODULE_3__.RawMessageType; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_provider_chat_props__WEBPACK_IMPORTED_MODULE_3__, "SendMessageEvent")) __webpack_require__.d(__webpack_exports__, { SendMessageEvent: function() { return _provider_chat_props__WEBPACK_IMPORTED_MODULE_3__.SendMessageEvent; } });
/* harmony import */ var _provider_chat_input__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./provider/chat-input */ "./src/libs/types/provider/chat-input.ts");
/* harmony import */ var _provider_chat_input__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_provider_chat_input__WEBPACK_IMPORTED_MODULE_4__);
/* harmony reexport (checked) */ if(__webpack_require__.o(_provider_chat_input__WEBPACK_IMPORTED_MODULE_4__, "RawMessageType")) __webpack_require__.d(__webpack_exports__, { RawMessageType: function() { return _provider_chat_input__WEBPACK_IMPORTED_MODULE_4__.RawMessageType; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_provider_chat_input__WEBPACK_IMPORTED_MODULE_4__, "SendMessageEvent")) __webpack_require__.d(__webpack_exports__, { SendMessageEvent: function() { return _provider_chat_input__WEBPACK_IMPORTED_MODULE_4__.SendMessageEvent; } });
/* harmony import */ var _services_send_message__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./services/send-message */ "./src/libs/types/services/send-message.ts");
/* harmony import */ var _utils_i18n__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./utils/i18n */ "./src/libs/types/utils/i18n.ts");














/***/ }),

/***/ "./src/libs/types/provider/chat-input.ts":
/*!***********************************************!*\
  !*** ./src/libs/types/provider/chat-input.ts ***!
  \***********************************************/
/***/ (function() {



/***/ }),

/***/ "./src/libs/types/provider/chat-props.ts":
/*!***********************************************!*\
  !*** ./src/libs/types/provider/chat-props.ts ***!
  \***********************************************/
/***/ (function() {



/***/ }),

/***/ "./src/libs/types/provider/chat-status.ts":
/*!************************************************!*\
  !*** ./src/libs/types/provider/chat-status.ts ***!
  \************************************************/
/***/ (function() {



/***/ }),

/***/ "./src/libs/types/provider/user-info.ts":
/*!**********************************************!*\
  !*** ./src/libs/types/provider/user-info.ts ***!
  \**********************************************/
/***/ (function() {



/***/ }),

/***/ "./src/libs/types/services/send-message.ts":
/*!*************************************************!*\
  !*** ./src/libs/types/services/send-message.ts ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   RawMessageType: function() { return /* binding */ RawMessageType; },
/* harmony export */   SendMessageEvent: function() { return /* binding */ SendMessageEvent; }
/* harmony export */ });
var SendMessageEvent = /*#__PURE__*/function (SendMessageEvent) {
  SendMessageEvent["ReceiveMessage"] = "receiveMessage";
  SendMessageEvent["ReceiveComplete"] = "receiveComplete";
  SendMessageEvent["Close"] = "close"; // sendMessage结束了
  return SendMessageEvent;
}({});
var RawMessageType = /*#__PURE__*/function (RawMessageType) {
  RawMessageType["TEXT"] = "text";
  RawMessageType["FILE"] = "file";
  RawMessageType["AUDIO"] = "audio";
  return RawMessageType;
}({});

/***/ }),

/***/ "./src/libs/types/utils/i18n.ts":
/*!**************************************!*\
  !*** ./src/libs/types/utils/i18n.ts ***!
  \**************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Language: function() { return /* binding */ Language; }
/* harmony export */ });
var Language = /*#__PURE__*/function (Language) {
  Language["EN"] = "en";
  Language["ZH_CN"] = "zh-CN";
  return Language;
}({});

/***/ }),

/***/ "./src/libs/ui-kit/atomic/audio-input/index.tsx":
/*!******************************************************!*\
  !*** ./src/libs/ui-kit/atomic/audio-input/index.tsx ***!
  \******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AudioInput: function() { return /* binding */ AudioInput; }
/* harmony export */ });
/* harmony import */ var _tarojs_components__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @tarojs/components */ "./node_modules/.pnpm/@tarojs+plugin-platform-weapp@4.0.8_@tarojs+service@4.0.8_@swc+helpers@0.5.15__@tarojs+shared@4.0.8/node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js");
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/ui-kit/atomic/audio-input/index.module.less");
/* harmony import */ var _use_audio_record__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./use-audio-record */ "./src/libs/ui-kit/atomic/audio-input/use-audio-record.ts");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ "./node_modules/.pnpm/classnames@2.5.1/node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");





var AudioInput = function AudioInput(_ref) {
  var className = _ref.className,
    onTouching = _ref.onTouching,
    onEnd = _ref.onEnd,
    onOutside = _ref.onOutside,
    children = _ref.children,
    frameEventTarget = _ref.frameEventTarget,
    isPcMode = _ref.isPcMode,
    disabled = _ref.disabled;
  var _useAudioRecord = (0,_use_audio_record__WEBPACK_IMPORTED_MODULE_1__.useAudioRecord)({
      onTouching: onTouching,
      onOutside: onOutside,
      onEnd: onEnd,
      frameEventTarget: frameEventTarget,
      isPcMode: isPcMode,
      disabled: disabled
    }),
    onInitRefForAudioRecord = _useAudioRecord.onInitRefForAudioRecord,
    onTouchStart = _useAudioRecord.onTouchStart,
    onTouchMove = _useAudioRecord.onTouchMove,
    onTouchEnd = _useAudioRecord.onTouchEnd,
    onTouchCancel = _useAudioRecord.onTouchCancel;
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_4__.Button
  // coze-audio-input-button，用于监听chat组件的keydown方法
  , {
    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(_index_module_less__WEBPACK_IMPORTED_MODULE_0__["default"].container, className, "coze-audio-input-button"),
    ref: onInitRefForAudioRecord,
    onTouchStart: onTouchStart,
    onTouchMove: onTouchMove,
    onTouchEnd: onTouchEnd,
    onTouchCancel: onTouchCancel,
    children: children
  });
};

/***/ }),

/***/ "./src/libs/ui-kit/atomic/audio-input/use-audio-record.ts":
/*!****************************************************************!*\
  !*** ./src/libs/ui-kit/atomic/audio-input/use-audio-record.ts ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useAudioRecord: function() { return /* binding */ useAudioRecord; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/slicedToArray.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var _libs_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/libs/types */ "./src/libs/types/index.ts");
/* harmony import */ var _libs_hooks__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/libs/hooks */ "./src/libs/hooks/index.ts");
/* harmony import */ var _libs_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/libs/utils */ "./src/libs/utils/index.ts");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* provided dependency */ var document = __webpack_require__(/*! @tarojs/runtime */ "./node_modules/.pnpm/@tarojs+runtime@4.0.8/node_modules/@tarojs/runtime/dist/index.js")["document"];







var useAudioRecord = function useAudioRecord(_ref) {
  var onTouching = _ref.onTouching,
    onOutside = _ref.onOutside,
    onEnd = _ref.onEnd,
    frameEventTarget = _ref.frameEventTarget,
    isPcMode = _ref.isPcMode,
    disabled = _ref.disabled;
  var refAudioInput = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);
  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false),
    _useState2 = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__["default"])(_useState, 2),
    isTouching = _useState2[0],
    setIsTouching = _useState2[1];
  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false),
    _useState4 = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__["default"])(_useState3, 2),
    isOutside = _useState4[0],
    setIsOutside = _useState4[1];
  var refAudioInputBounding = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)();
  var triggerFromRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)();
  var onOutsideChange = (0,_libs_hooks__WEBPACK_IMPORTED_MODULE_1__.usePersistCallback)(function (isOutside) {
    setIsOutside(isOutside);
    onOutside === null || onOutside === void 0 || onOutside(isOutside);
  });
  var onStartAudioInput = (0,_libs_hooks__WEBPACK_IMPORTED_MODULE_1__.usePersistCallback)(/*#__PURE__*/function () {
    var _ref2 = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_5__["default"])(/*#__PURE__*/(0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_6__["default"])().mark(function _callee(event) {
      var _refAudioInput$curren, boundingRect, _yield$getBoundingRec, _yield$getBoundingRec2, _boundingRect;
      return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_6__["default"])().wrap(function _callee$(_context) {
        while (1) switch (_context.prev = _context.next) {
          case 0:
            setIsTouching(true);
            setIsOutside(false);
            if (!_libs_utils__WEBPACK_IMPORTED_MODULE_2__.isWeb) {
              _context.next = 7;
              break;
            }
            boundingRect = (_refAudioInput$curren = refAudioInput.current) === null || _refAudioInput$curren === void 0 ? void 0 : _refAudioInput$curren.getBoundingClientRect();
            if (boundingRect) {
              refAudioInputBounding.current = boundingRect;
            }
            _context.next = 14;
            break;
          case 7:
            if (!event) {
              _context.next = 14;
              break;
            }
            _context.next = 10;
            return (0,_libs_utils__WEBPACK_IMPORTED_MODULE_2__.getBoundingRect)("#".concat(event.currentTarget.id));
          case 10:
            _yield$getBoundingRec = _context.sent;
            _yield$getBoundingRec2 = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__["default"])(_yield$getBoundingRec, 1);
            _boundingRect = _yield$getBoundingRec2[0];
            if (_boundingRect) {
              refAudioInputBounding.current = _boundingRect;
            }
          case 14:
          case "end":
            return _context.stop();
        }
      }, _callee);
    }));
    return function (_x) {
      return _ref2.apply(this, arguments);
    };
  }());
  var checkIsOutside = (0,_libs_hooks__WEBPACK_IMPORTED_MODULE_1__.usePersistCallback)(function (event) {
    var clientY = event.clientY;
    var _ref3 = refAudioInputBounding.current || {},
      top = _ref3.top;
    var isOutside = false;
    if (top !== undefined && clientY < top) {
      isOutside = true;
    }
    return isOutside;
  });
  var checkAndSetIsOutside = (0,_libs_hooks__WEBPACK_IMPORTED_MODULE_1__.usePersistCallback)(function (event) {
    var isOutside = checkIsOutside(event);
    onOutsideChange(isOutside);
    return isOutside;
  });

  /** Start Mouse Event Handler On Mobile */
  var onTouchStart = (0,_libs_hooks__WEBPACK_IMPORTED_MODULE_1__.usePersistCallback)(function (event) {
    _libs_utils__WEBPACK_IMPORTED_MODULE_2__.logger.debug("[useAudioRecord]onTouchStart", event);
    if (triggerFromRef.current || disabled) {
      return;
    }
    triggerFromRef.current = "touch";
    onStartAudioInput(event);
  });
  var onTouchMove = (0,_libs_hooks__WEBPACK_IMPORTED_MODULE_1__.usePersistCallback)(function (event) {
    _libs_utils__WEBPACK_IMPORTED_MODULE_2__.logger.debug("[useAudioRecord]onTouchMove", event);
    if (triggerFromRef.current !== "touch" || disabled) {
      return;
    }
    if (isTouching) {
      checkAndSetIsOutside({
        clientX: event.changedTouches[0].clientX,
        clientY: event.changedTouches[0].clientY
      });
    }
  });
  var onTouchEnd = (0,_libs_hooks__WEBPACK_IMPORTED_MODULE_1__.usePersistCallback)(function () {
    _libs_utils__WEBPACK_IMPORTED_MODULE_2__.logger.debug("[useAudioRecord]onTouchEnd", triggerFromRef.current, isTouching);
    if (triggerFromRef.current !== "touch" || disabled) {
      return;
    }
    if (isTouching) {
      setIsTouching(false);
    }
  });
  var onTouchCancel = (0,_libs_hooks__WEBPACK_IMPORTED_MODULE_1__.usePersistCallback)(function (event) {
    _libs_utils__WEBPACK_IMPORTED_MODULE_2__.logger.debug("[useAudioRecord]onTouchCancel", event);
    setIsTouching(false);
    setIsOutside(false);
  });
  /** End Mouse Event Handler On Mobile */

  /** Start Mouse Event Handler On Pc */
  var onMouseDown = (0,_libs_hooks__WEBPACK_IMPORTED_MODULE_1__.usePersistCallback)(function (event) {
    _libs_utils__WEBPACK_IMPORTED_MODULE_2__.logger.debug("onMouseDown", event);
    event === null || event === void 0 || event.stopPropagation();
    if (triggerFromRef.current || disabled) {
      return;
    }
    triggerFromRef.current = "mouse";
    onStartAudioInput();
  });
  var onMouseMove = (0,_libs_hooks__WEBPACK_IMPORTED_MODULE_1__.usePersistCallback)(function (event) {
    if (triggerFromRef.current !== "mouse" || disabled) {
      return;
    }
    if (isTouching) {
      checkAndSetIsOutside({
        clientX: event.clientX,
        clientY: event.clientY
      });
    }
  });
  var onMouseUp = (0,_libs_hooks__WEBPACK_IMPORTED_MODULE_1__.usePersistCallback)(function (event) {
    _libs_utils__WEBPACK_IMPORTED_MODULE_2__.logger.info("onMouseDown 222", event, isTouching);
    if (triggerFromRef.current !== "mouse" || disabled) {
      return;
    }
    if (isTouching) {
      setIsTouching(false);
    }
  });
  var onKeyDown = (0,_libs_hooks__WEBPACK_IMPORTED_MODULE_1__.usePersistCallback)(function (event) {
    _libs_utils__WEBPACK_IMPORTED_MODULE_2__.logger.debug("[audio] onKeyDown", event);
    if (event.code === "Space") {
      if (triggerFromRef.current || disabled) {
        return;
      }
      triggerFromRef.current = "keyboard";
      setIsTouching(true);
      setIsOutside(false);
    }
  });
  var onKeyUp = (0,_libs_hooks__WEBPACK_IMPORTED_MODULE_1__.usePersistCallback)(function (event) {
    _libs_utils__WEBPACK_IMPORTED_MODULE_2__.logger.debug("[audio] onKeyUp", event);
    if (disabled) {
      return;
    }
    if (event.code === "Space") {
      if (triggerFromRef.current !== "keyboard") {
        return;
      }
      if (isTouching) {
        setIsTouching(false);
      }
    }
  });
  var onInitRefForAudioRecord = (0,_libs_hooks__WEBPACK_IMPORTED_MODULE_1__.usePersistCallback)(function (el) {
    if (_libs_utils__WEBPACK_IMPORTED_MODULE_2__.isWeb) {
      // If the element has been set, remove the event listener first
      if (refAudioInput.current) {
        refAudioInput.current.removeEventListener("mousedown", onMouseDown);
        document.removeEventListener("mousemove", onMouseMove);
        document.removeEventListener("mouseup", onMouseUp);
        if (isPcMode && frameEventTarget) {
          frameEventTarget.on(_libs_types__WEBPACK_IMPORTED_MODULE_0__.UIEventType.KeyDown, onKeyDown);
          frameEventTarget.on(_libs_types__WEBPACK_IMPORTED_MODULE_0__.UIEventType.KeyUp, onKeyUp);
        }
      }
      // Set the new element, and add the event listener
      if (el) {
        refAudioInput.current = el;
        refAudioInput.current.addEventListener("mousedown", onMouseDown);
        document.addEventListener("mousemove", onMouseMove);
        document.addEventListener("mouseup", onMouseUp);
        if (isPcMode && frameEventTarget) {
          frameEventTarget.on(_libs_types__WEBPACK_IMPORTED_MODULE_0__.UIEventType.KeyDown, onKeyDown);
          frameEventTarget.on(_libs_types__WEBPACK_IMPORTED_MODULE_0__.UIEventType.KeyUp, onKeyUp);
        }
      }
    } else {
      refAudioInput.current = el;
    }
  });
  (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(function () {
    return function () {
      if (_libs_utils__WEBPACK_IMPORTED_MODULE_2__.isWeb) {
        var _refAudioInput$curren2, _document, _document2;
        (_refAudioInput$curren2 = refAudioInput.current) === null || _refAudioInput$curren2 === void 0 || _refAudioInput$curren2.removeEventListener("mousedown", onMouseDown);
        (_document = document) === null || _document === void 0 || _document.removeEventListener("mousemove", onMouseMove);
        (_document2 = document) === null || _document2 === void 0 || _document2.removeEventListener("mouseup", onMouseUp);
        if (frameEventTarget) {
          frameEventTarget.off(_libs_types__WEBPACK_IMPORTED_MODULE_0__.UIEventType.KeyDown, onKeyDown);
          frameEventTarget.off(_libs_types__WEBPACK_IMPORTED_MODULE_0__.UIEventType.KeyDown, onKeyUp);
        }
      }
    };
  }, []);
  /** End Mouse Event Handler On Pc */

  (0,_libs_hooks__WEBPACK_IMPORTED_MODULE_1__.useUpdateEffect)(function () {
    _libs_utils__WEBPACK_IMPORTED_MODULE_2__.logger.debug("[useAudioRecord]isTouching", isTouching);
    if (isTouching) {
      onTouching === null || onTouching === void 0 || onTouching(triggerFromRef.current);
    }
  }, [isTouching]);
  (0,_libs_hooks__WEBPACK_IMPORTED_MODULE_1__.useUpdateEffect)(function () {
    onOutside === null || onOutside === void 0 || onOutside(isOutside);
  }, [isOutside]);
  (0,_libs_hooks__WEBPACK_IMPORTED_MODULE_1__.useUpdateEffect)(function () {
    _libs_utils__WEBPACK_IMPORTED_MODULE_2__.logger.info("[useAudioRecord]onEnd", isTouching);
    if (!isTouching) {
      triggerFromRef.current = undefined;
      onEnd === null || onEnd === void 0 || onEnd();
    }
  }, [isTouching]);
  (0,_libs_hooks__WEBPACK_IMPORTED_MODULE_1__.useUpdateEffect)(function () {
    if (isTouching) {
      setIsTouching(false);
    }
    /*if (isOutside) {
      setIsOutside(false);
    }*/
  }, [disabled]);
  return {
    onInitRefForAudioRecord: onInitRefForAudioRecord,
    onTouchStart: onTouchStart,
    onTouchMove: onTouchMove,
    onTouchEnd: onTouchEnd,
    onTouchCancel: onTouchCancel,
    isTouching: isTouching,
    isOutside: isOutside
  };
};

/***/ }),

/***/ "./src/libs/ui-kit/atomic/audio-play/index.tsx":
/*!*****************************************************!*\
  !*** ./src/libs/ui-kit/atomic/audio-play/index.tsx ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AudioPlay: function() { return /* binding */ AudioPlay; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/.pnpm/classnames@2.5.1/node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _tarojs_components__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @tarojs/components */ "./node_modules/.pnpm/@tarojs+plugin-platform-weapp@4.0.8_@tarojs+service@4.0.8_@swc+helpers@0.5.15__@tarojs+shared@4.0.8/node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js");
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/ui-kit/atomic/audio-play/index.module.less");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");





var AudioPlay = function AudioPlay(_ref) {
  var isPlaying = _ref.isPlaying,
    onClick = _ref.onClick,
    _ref$theme = _ref.theme,
    theme = _ref$theme === void 0 ? "dark" : _ref$theme;
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_3__.View, {
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()(_index_module_less__WEBPACK_IMPORTED_MODULE_1__["default"].audioPlay, (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_4__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_4__["default"])({}, _index_module_less__WEBPACK_IMPORTED_MODULE_1__["default"].playing, isPlaying), _index_module_less__WEBPACK_IMPORTED_MODULE_1__["default"][theme], true)),
    onClick: onClick
  });
};

/***/ }),

/***/ "./src/libs/ui-kit/atomic/audio-wave/index.tsx":
/*!*****************************************************!*\
  !*** ./src/libs/ui-kit/atomic/audio-wave/index.tsx ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AudioWave: function() { return /* binding */ AudioWave; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/.pnpm/classnames@2.5.1/node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _tarojs_components__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @tarojs/components */ "./node_modules/.pnpm/@tarojs+plugin-platform-weapp@4.0.8_@tarojs+service@4.0.8_@swc+helpers@0.5.15__@tarojs+shared@4.0.8/node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js");
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/ui-kit/atomic/audio-wave/index.module.less");
/* harmony import */ var _spacing__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../spacing */ "./src/libs/ui-kit/atomic/spacing/index.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");






var waveBarNumberMap = {
  large: 41,
  medium: 29,
  small: 4
};
var AudioWave = function AudioWave(_ref) {
  var _ref$size = _ref.size,
    size = _ref$size === void 0 ? "medium" : _ref$size,
    _ref$volumeNumber = _ref.volumeNumber,
    volumeNumber = _ref$volumeNumber === void 0 ? 0 : _ref$volumeNumber,
    _ref$type = _ref.type,
    type = _ref$type === void 0 ? "default" : _ref$type,
    className = _ref.className;
  var volumeRealNumber = Math.max(Math.min(volumeNumber, 100), 0);
  var waveBarNumber = waveBarNumberMap[size] || 29;
  var waveBarHeights = getBarHeights(waveBarNumber, volumeRealNumber);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_spacing__WEBPACK_IMPORTED_MODULE_2__.Spacing, {
    gap: 3,
    verticalCenter: true,
    horizontalCenter: true,
    width100: true,
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()(_index_module_less__WEBPACK_IMPORTED_MODULE_1__["default"].container, className),
    children: waveBarHeights.map(function (height, index) {
      return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_4__.View, {
        className: classnames__WEBPACK_IMPORTED_MODULE_0___default()(_index_module_less__WEBPACK_IMPORTED_MODULE_1__["default"]["audio-wave-".concat(index)], _index_module_less__WEBPACK_IMPORTED_MODULE_1__["default"][type], _index_module_less__WEBPACK_IMPORTED_MODULE_1__["default"]["bar"], _index_module_less__WEBPACK_IMPORTED_MODULE_1__["default"][size]),
        style: {
          backgroundColor: getBarBgColor(index, waveBarNumber, type),
          height: height
        }
      }, "".concat(type, "_").concat(index));
    })
  });
};
function getBarHeights(waveBarNumber, volumeRealNumber) {
  if (volumeRealNumber <= 0) {
    return new Array(waveBarNumber).fill(12);
  }
  var waveBarHeights = new Array(waveBarNumber).fill(0).map(function (_item, index) {
    return getBarHeight(index, waveBarNumber, volumeRealNumber);
  });
  var minHeight = Math.min.apply(Math, (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_5__["default"])(waveBarHeights));
  var maxHeight = Math.max.apply(Math, (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_5__["default"])(waveBarHeights));
  var heightSpan = maxHeight - minHeight;
  return waveBarHeights.map(function (item) {
    return 12 + (item - minHeight) / (maxHeight - minHeight) * Math.min(12, heightSpan);
  });
}
function getBarHeight(index, maxNumber, volumeNumber) {
  var percent = index / maxNumber;
  var maxHeight = 20;
  var baseHeight = 2;
  var randomMin = -2;
  var randomMax = 2;
  if (percent < 1 / 6) {
    baseHeight = 1 + (4 - 1) * percent * 6;
    randomMin = 0.1 + (-0.8 - 0.1) * percent * 6;
    randomMax = 0.3 + (0.6 - 0.3) * percent * 6;
  } else if (percent < 2 / 6) {
    baseHeight = 4 + (2 - 4) * (percent - 1 / 6) * 6;
    randomMin = -0.8 + (-0.0 + 0.8) * (percent - 1 / 6) * 6;
    randomMax = 0.6 + (0.6 - 0.6) * (percent - 1 / 6) * 6;
  } else if (percent < 3 / 6) {
    baseHeight = 2 + (8 - 2) * (percent - 2 / 6) * 6;
    randomMin = 0.0 + (-1.6 - 0.0) * (percent - 2 / 6) * 6;
    randomMax = 0.6 + (1.2 - 0.6) * (percent - 2 / 6) * 6;
  } else if (percent < 4 / 6) {
    baseHeight = 8 + (2 - 8) * (percent - 3 / 6) * 6;
    randomMin = -1.6 + (0.0 + 1.6) * (percent - 3 / 6) * 6;
    randomMax = 1.2 + (0.6 - 1.2) * (percent - 3 / 6) * 6;
  } else if (percent < 5 / 6) {
    baseHeight = 2 + (4 - 2) * (percent - 4 / 6) * 6;
    randomMin = 0.0 + (-0.8 - 0.0) * (percent - 4 / 6) * 6;
    randomMax = 0.6 + (0.6 - 0.6) * (percent - 4 / 6) * 6;
  } else if (percent < 1) {
    baseHeight = 4 + (1 - 4) * (percent - 5 / 6) * 6;
    randomMin = -0.8 + (0.1 + 0.8) * (percent - 5 / 6) * 6;
    randomMax = 0.1 + (0.3 - 0.6) * (percent - 5 / 6) * 6;
  }
  var height = baseHeight + volumeNumber * (Math.random() * (randomMax - randomMin) + randomMin) * (maxHeight - baseHeight);
  return height;
}
function getBarBgColor(index, maxNumber, type) {
  var bgColor = "#FFF";
  switch (type) {
    case "primary":
      {
        /*
         * implement : fill: linear-gradient(90deg, rgba(83, 71, 255, 0.20) 0%, #5347FF 20%, #B125F1 80%, rgba(177, 37, 241, 0.20) 100%);
         */
        var opacity = 0;
        var rColor = 0;
        var gColor = 0;
        var bColor = 0;
        var percent = index / maxNumber;
        if (percent < 0.2) {
          opacity = 0.2 + (1 - 0.2) * percent / 0.2;
          rColor = 83;
          gColor = 71;
          bColor = 255;
        } else if (percent < 0.8) {
          opacity = 1;
          rColor = Math.round(83 + (177 - 83) * (percent - 0.2) / 0.6);
          gColor = Math.round(71 + (37 - 71) * (percent - 0.2) / 0.6);
          bColor = Math.round(255 + (241 - 255) * (percent - 0.2) / 0.6);
        } else {
          opacity = 1 - (1 - 0.2) * (percent - 0.8) / 0.2;
          rColor = 177;
          gColor = 37;
          bColor = 241;
        }
        bgColor = "rgba(".concat(rColor, ", ").concat(gColor, ", ").concat(bColor, ", ").concat(opacity.toFixed(2), ")");
      }
      break;
    case "warning":
      {
        bgColor = "#FF0030";
      }
      break;
    default:
      {
        /*
         * implement : fill: linear-gradient(90deg, rgba(255, 255, 255, 0.20) 0%, #FFF 20%, rgba(255, 255, 255, 0.90) 80%, rgba(255, 255, 255, 0.20) 100%);
         */
        var _opacity = 0;
        var _percent = index / maxNumber;
        if (_percent < 0.2) {
          _opacity = 0.2 + (1 - 0.2) * _percent / 0.2;
        } else if (_percent < 0.8) {
          _opacity = 1 - (1 - 0.9) * (_percent - 0.2) / 0.6;
        } else {
          _opacity = 0.9 - (0.9 - 0.2) * (_percent - 0.8) / 0.2;
        }
        bgColor = "rgba(255, 255, 255, ".concat(_opacity.toFixed(2), ")");
      }
      break;
  }
  return bgColor;
}

/***/ }),

/***/ "./src/libs/ui-kit/atomic/avatar/index.tsx":
/*!*************************************************!*\
  !*** ./src/libs/ui-kit/atomic/avatar/index.tsx ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Avatar: function() { return /* binding */ Avatar; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/slicedToArray.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/.pnpm/classnames@2.5.1/node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/ui-kit/atomic/avatar/index.module.less");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _assets_imgs_avatar_png__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../assets/imgs/avatar.png */ "./src/libs/ui-kit/assets/imgs/avatar.png");
/* harmony import */ var _c_image__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../c-image */ "./src/libs/ui-kit/atomic/c-image/index.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");








var Avatar = function Avatar(_ref) {
  var className = _ref.className,
    src = _ref.src,
    _ref$size = _ref.size,
    size = _ref$size === void 0 ? "medium" : _ref$size;
  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false),
    _useState2 = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_6__["default"])(_useState, 2),
    isError = _useState2[0],
    setIsError = _useState2[1];
  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(function () {
    setIsError(false);
  }, [src]);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_c_image__WEBPACK_IMPORTED_MODULE_4__.CImage, {
    src: isError ? _assets_imgs_avatar_png__WEBPACK_IMPORTED_MODULE_3__ : src,
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()(_index_module_less__WEBPACK_IMPORTED_MODULE_1__["default"].avatar, className, (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_7__["default"])({}, _index_module_less__WEBPACK_IMPORTED_MODULE_1__["default"][size || ""], true)),
    onError: function onError() {
      return !isError && setIsError(true);
    },
    mode: "aspectFill"
  });
};

/***/ }),

/***/ "./src/libs/ui-kit/atomic/bubble-text/index.tsx":
/*!******************************************************!*\
  !*** ./src/libs/ui-kit/atomic/bubble-text/index.tsx ***!
  \******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BubbleText: function() { return /* binding */ BubbleText; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectSpread2.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectSpread2.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/.pnpm/classnames@2.5.1/node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _tarojs_components__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @tarojs/components */ "./node_modules/.pnpm/@tarojs+plugin-platform-weapp@4.0.8_@tarojs+service@4.0.8_@swc+helpers@0.5.15__@tarojs+shared@4.0.8/node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js");
/* harmony import */ var _bubble__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../bubble */ "./src/libs/ui-kit/atomic/bubble/index.tsx");
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/ui-kit/atomic/bubble-text/index.module.less");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");



var _excluded = ["className", "text", "size", "space", "enter", "selectable"];






var BubbleText = function BubbleText(_ref) {
  var className = _ref.className,
    text = _ref.text,
    _ref$size = _ref.size,
    size = _ref$size === void 0 ? "medium" : _ref$size,
    space = _ref.space,
    enter = _ref.enter,
    _ref$selectable = _ref.selectable,
    selectable = _ref$selectable === void 0 ? true : _ref$selectable,
    props = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_5__["default"])(_ref, _excluded);
  var textList = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {
    return enter ? text.split("\n") : [text];
  }, [text]);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_bubble__WEBPACK_IMPORTED_MODULE_2__.Bubble, (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__["default"])({}, props), {}, {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(className, _index_module_less__WEBPACK_IMPORTED_MODULE_3__["default"]["bubble"]),
    children: textList === null || textList === void 0 ? void 0 : textList.map(function (item, index) {
      return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_7__.Text, {
        className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(_index_module_less__WEBPACK_IMPORTED_MODULE_3__["default"]["bubble-text"], (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_8__["default"])({}, _index_module_less__WEBPACK_IMPORTED_MODULE_3__["default"][size || ""], true))
        //space={space ? "nbsp" : undefined}
        ,

        selectable: selectable,
        children: item
      }, index);
    })
  }));
};

/***/ }),

/***/ "./src/libs/ui-kit/atomic/bubble/index.tsx":
/*!*************************************************!*\
  !*** ./src/libs/ui-kit/atomic/bubble/index.tsx ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Bubble: function() { return /* binding */ Bubble; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/.pnpm/classnames@2.5.1/node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _tarojs_components__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @tarojs/components */ "./node_modules/.pnpm/@tarojs+plugin-platform-weapp@4.0.8_@tarojs+service@4.0.8_@swc+helpers@0.5.15__@tarojs+shared@4.0.8/node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js");
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/ui-kit/atomic/bubble/index.module.less");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");






var Bubble = function Bubble(_ref) {
  var className = _ref.className,
    children = _ref.children,
    _ref$isNeedBorder = _ref.isNeedBorder,
    isNeedBorder = _ref$isNeedBorder === void 0 ? true : _ref$isNeedBorder,
    _ref$isActive = _ref.isActive,
    isActive = _ref$isActive === void 0 ? false : _ref$isActive,
    _ref$canClick = _ref.canClick,
    canClick = _ref$canClick === void 0 ? false : _ref$canClick,
    onClick = _ref.onClick;
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_4__.View, {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(_index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"].bubble, className, (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_5__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_5__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_5__["default"])({}, _index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"].active, isActive), _index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"]['can-click'], canClick), _index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"]['is-need-border'], isNeedBorder)),
    onClick: onClick,
    children: children
  });
};

/***/ }),

/***/ "./src/libs/ui-kit/atomic/button/index.tsx":
/*!*************************************************!*\
  !*** ./src/libs/ui-kit/atomic/button/index.tsx ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Button: function() { return /* binding */ Button; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/.pnpm/classnames@2.5.1/node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _tarojs_components__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @tarojs/components */ "./node_modules/.pnpm/@tarojs+plugin-platform-weapp@4.0.8_@tarojs+service@4.0.8_@swc+helpers@0.5.15__@tarojs+shared@4.0.8/node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js");
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/ui-kit/atomic/button/index.module.less");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");





var Button = function Button(_ref) {
  var className = _ref.className,
    children = _ref.children,
    onClick = _ref.onClick;
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_4__.View, {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(_index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"].button, className),
    onClick: onClick,
    children: children
  });
};

/***/ }),

/***/ "./src/libs/ui-kit/atomic/c-image/index.tsx":
/*!**************************************************!*\
  !*** ./src/libs/ui-kit/atomic/c-image/index.tsx ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CImage: function() { return /* binding */ CImage; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectSpread2.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectSpread2.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/slicedToArray.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var _tarojs_components__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @tarojs/components */ "./node_modules/.pnpm/@tarojs+plugin-platform-weapp@4.0.8_@tarojs+service@4.0.8_@swc+helpers@0.5.15__@tarojs+shared@4.0.8/node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/.pnpm/classnames@2.5.1/node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/ui-kit/atomic/c-image/index.module.less");
/* harmony import */ var _libs_hooks__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/libs/hooks */ "./src/libs/hooks/index.ts");
/* harmony import */ var _libs_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/libs/utils */ "./src/libs/utils/index.ts");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");










var CImage = function CImage(props) {
  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(props.src),
    _useState2 = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_6__["default"])(_useState, 2),
    url = _useState2[0],
    setUrl = _useState2[1];
  (0,_libs_hooks__WEBPACK_IMPORTED_MODULE_3__.useUpdateEffect)(function () {
    setUrl(props.src);
  }, [props.src]);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_7__.Image, (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_8__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_8__["default"])({
    onError: function onError() {
      _libs_utils__WEBPACK_IMPORTED_MODULE_4__.logger.error("CImage onError", props.src);
      setUrl("");
    }
  }, props), {}, {
    src: url,
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(props.className, (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_9__["default"])({}, _index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"]["image-error"], !url))
  }));
};

/***/ }),

/***/ "./src/libs/ui-kit/atomic/center-aligned-box/index.tsx":
/*!*************************************************************!*\
  !*** ./src/libs/ui-kit/atomic/center-aligned-box/index.tsx ***!
  \*************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CenterAlignedBox: function() { return /* binding */ CenterAlignedBox; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectSpread2.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectSpread2.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/.pnpm/classnames@2.5.1/node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _tarojs_components__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @tarojs/components */ "./node_modules/.pnpm/@tarojs+plugin-platform-weapp@4.0.8_@tarojs+service@4.0.8_@swc+helpers@0.5.15__@tarojs+shared@4.0.8/node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js");
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/ui-kit/atomic/center-aligned-box/index.module.less");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");


var _excluded = ["className", "width", "height", "children"];




var CenterAlignedBox = function CenterAlignedBox(_ref) {
  var className = _ref.className,
    width = _ref.width,
    height = _ref.height,
    children = _ref.children,
    rest = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_3__["default"])(_ref, _excluded);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_4__.View, (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__["default"])({
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()(_index_module_less__WEBPACK_IMPORTED_MODULE_1__["default"].wrapper, className),
    style: {
      width: width,
      height: height
    }
  }, rest), {}, {
    children: children
  }));
};

/***/ }),

/***/ "./src/libs/ui-kit/atomic/check-box/index.tsx":
/*!****************************************************!*\
  !*** ./src/libs/ui-kit/atomic/check-box/index.tsx ***!
  \****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Checkbox: function() { return /* binding */ Checkbox; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/.pnpm/classnames@2.5.1/node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _tarojs_components__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @tarojs/components */ "./node_modules/.pnpm/@tarojs+plugin-platform-weapp@4.0.8_@tarojs+service@4.0.8_@swc+helpers@0.5.15__@tarojs+shared@4.0.8/node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js");
/* harmony import */ var _svg__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../svg */ "./src/libs/ui-kit/atomic/svg/index.tsx");
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/ui-kit/atomic/check-box/index.module.less");
/* harmony import */ var _spacing__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../spacing */ "./src/libs/ui-kit/atomic/spacing/index.tsx");
/* harmony import */ var _disable_container__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../disable-container */ "./src/libs/ui-kit/atomic/disable-container/index.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");










var Checkbox = function Checkbox(props) {
  var checked = props.checked,
    onChange = props.onChange,
    disabled = props.disabled,
    className = props.className,
    children = props.children;
  var handleChange = function handleChange() {
    if (disabled) {
      return;
    }
    onChange === null || onChange === void 0 || onChange(!checked);
  };
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_disable_container__WEBPACK_IMPORTED_MODULE_5__.DisableContainer, {
    disabled: disabled,
    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(_spacing__WEBPACK_IMPORTED_MODULE_4__.Spacing, {
      className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(_index_module_less__WEBPACK_IMPORTED_MODULE_3__["default"].box, className),
      gap: 8,
      onClick: handleChange,
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_7__.View, {
        className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(_index_module_less__WEBPACK_IMPORTED_MODULE_3__["default"].checkbox, (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_8__["default"])({}, _index_module_less__WEBPACK_IMPORTED_MODULE_3__["default"].checked, checked)),
        children: checked ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_svg__WEBPACK_IMPORTED_MODULE_2__.SvgCheckMark, {}) : null
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_7__.View, {
        style: {
          flex: 1
        },
        children: children
      })]
    })
  });
};

/***/ }),

/***/ "./src/libs/ui-kit/atomic/disable-container/index.tsx":
/*!************************************************************!*\
  !*** ./src/libs/ui-kit/atomic/disable-container/index.tsx ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DisableContainer: function() { return /* binding */ DisableContainer; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/.pnpm/classnames@2.5.1/node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _tarojs_components__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @tarojs/components */ "./node_modules/.pnpm/@tarojs+plugin-platform-weapp@4.0.8_@tarojs+service@4.0.8_@swc+helpers@0.5.15__@tarojs+shared@4.0.8/node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js");
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/ui-kit/atomic/disable-container/index.module.less");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");





var DisableContainer = function DisableContainer(_ref) {
  var disabled = _ref.disabled,
    className = _ref.className,
    children = _ref.children;
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_3__.View, {
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()(_index_module_less__WEBPACK_IMPORTED_MODULE_1__["default"].container, className, (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_4__["default"])({}, _index_module_less__WEBPACK_IMPORTED_MODULE_1__["default"].disabled, disabled)),
    children: children
  });
};

/***/ }),

/***/ "./src/libs/ui-kit/atomic/dot/index.tsx":
/*!**********************************************!*\
  !*** ./src/libs/ui-kit/atomic/dot/index.tsx ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Dot: function() { return /* binding */ Dot; }
/* harmony export */ });
/* harmony import */ var _center_aligned_box__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../center-aligned-box */ "./src/libs/ui-kit/atomic/center-aligned-box/index.tsx");
/* harmony import */ var _tarojs_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @tarojs/components */ "./node_modules/.pnpm/@tarojs+plugin-platform-weapp@4.0.8_@tarojs+service@4.0.8_@swc+helpers@0.5.15__@tarojs+shared@4.0.8/node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");



var Dot = function Dot(_ref) {
  var _ref$circleDiameter = _ref.circleDiameter,
    circleDiameter = _ref$circleDiameter === void 0 ? 4 : _ref$circleDiameter,
    _ref$circleColor = _ref.circleColor,
    circleColor = _ref$circleColor === void 0 ? "currentColor" : _ref$circleColor,
    _ref$boxHeight = _ref.boxHeight,
    boxHeight = _ref$boxHeight === void 0 ? 16 : _ref$boxHeight,
    _ref$boxWidth = _ref.boxWidth,
    boxWidth = _ref$boxWidth === void 0 ? 26 : _ref$boxWidth,
    className = _ref.className;
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_center_aligned_box__WEBPACK_IMPORTED_MODULE_0__.CenterAlignedBox, {
    width: boxWidth,
    height: boxHeight,
    className: className,
    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_2__.View, {
      style: {
        width: circleDiameter,
        height: circleDiameter,
        backgroundColor: circleColor,
        borderRadius: circleDiameter
      }
    })
  });
};

/***/ }),

/***/ "./src/libs/ui-kit/atomic/error-boundary/index.tsx":
/*!*********************************************************!*\
  !*** ./src/libs/ui-kit/atomic/error-boundary/index.tsx ***!
  \*********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ErrorBoundary: function() { return /* binding */ ErrorBoundary; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/classCallCheck.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/createClass.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_callSuper_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/callSuper.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/callSuper.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/inherits.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var _libs_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/libs/utils */ "./src/libs/utils/index.ts");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");








/*
  使用注意：
    1、使用的时候，如果直接下边的元素报错，无法捕获，如果， TypeView内部的元素报错，才能够捕获到。
    <ErrorBoundary>
      <TypeView s={throw new Error}></TypeView>
    </ErrorBoundary>
*/

var ErrorBoundary = /*#__PURE__*/function (_Component) {
  function ErrorBoundary(props) {
    var _this;
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_3__["default"])(this, ErrorBoundary);
    _this = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_callSuper_js__WEBPACK_IMPORTED_MODULE_4__["default"])(this, ErrorBoundary, [props]);
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_5__["default"])(_this, "state", {
      hasError: false
    });
    _this.state = {
      hasError: false
    };
    return _this;
  }
  (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_6__["default"])(ErrorBoundary, _Component);
  return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_7__["default"])(ErrorBoundary, [{
    key: "render",
    value: function render() {
      if (this.state.hasError) {
        return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, {
          children: this.props.fallbackNode
        });
      }
      return this.props.children;
    }
  }], [{
    key: "getDerivedStateFromError",
    value: function getDerivedStateFromError(error) {
      _libs_utils__WEBPACK_IMPORTED_MODULE_0__.logger.error("ErrorBoundary", error);
      return {
        hasError: true
      };
    }
  }]);
}(react__WEBPACK_IMPORTED_MODULE_1__.Component);
/* unused harmony default export */ var __WEBPACK_DEFAULT_EXPORT__ = (ErrorBoundary);

/***/ }),

/***/ "./src/libs/ui-kit/atomic/error-retry/index.tsx":
/*!******************************************************!*\
  !*** ./src/libs/ui-kit/atomic/error-retry/index.tsx ***!
  \******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ErrorRetry: function() { return /* binding */ ErrorRetry; },
/* harmony export */   ErrorRetryBtn: function() { return /* binding */ ErrorRetryBtn; }
/* harmony export */ });
/* harmony import */ var _tarojs_components__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @tarojs/components */ "./node_modules/.pnpm/@tarojs+plugin-platform-weapp@4.0.8_@tarojs+service@4.0.8_@swc+helpers@0.5.15__@tarojs+shared@4.0.8/node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js");
/* harmony import */ var _svg__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../svg */ "./src/libs/ui-kit/atomic/svg/index.tsx");
/* harmony import */ var _spacing__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../spacing */ "./src/libs/ui-kit/atomic/spacing/index.tsx");
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/ui-kit/atomic/error-retry/index.module.less");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");





var ErrorRetry = function ErrorRetry(_ref) {
  var errorText = _ref.errorText;
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_spacing__WEBPACK_IMPORTED_MODULE_1__.Spacing, {
    gap: 4,
    horizontalCenter: true,
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_svg__WEBPACK_IMPORTED_MODULE_0__.SvgWarn, {}), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_4__.Text, {
      className: _index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"].text,
      children: errorText
    })]
  });
};
var ErrorRetryBtn = function ErrorRetryBtn(_ref2) {
  var onClick = _ref2.onClick,
    retryText = _ref2.retryText;
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_4__.Text, {
    onClick: onClick,
    className: _index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"].retry,
    children: retryText
  });
};

/***/ }),

/***/ "./src/libs/ui-kit/atomic/file-chooser/index.tsx":
/*!*******************************************************!*\
  !*** ./src/libs/ui-kit/atomic/file-chooser/index.tsx ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export FileChooser */
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectSpread2.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectSpread2.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/.pnpm/classnames@2.5.1/node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _tarojs_taro__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @tarojs/taro */ "./node_modules/.pnpm/@tarojs+taro@4.0.8_@tarojs+components@4.0.8_@tarojs+helper@4.0.8_@swc+helpers@0.5.15__@_28b4aa939e10f4882a0917541e7336fe/node_modules/@tarojs/taro/index.js");
/* harmony import */ var _tarojs_taro__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_tarojs_taro__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _tarojs_components__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @tarojs/components */ "./node_modules/.pnpm/@tarojs+plugin-platform-weapp@4.0.8_@tarojs+service@4.0.8_@swc+helpers@0.5.15__@tarojs+shared@4.0.8/node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js");
/* harmony import */ var _libs_provider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/libs/provider */ "./src/libs/provider/index.tsx");
/* harmony import */ var _svg__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../svg */ "./src/libs/ui-kit/atomic/svg/index.tsx");
/* harmony import */ var _spacing__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../spacing */ "./src/libs/ui-kit/atomic/spacing/index.tsx");
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/ui-kit/atomic/file-chooser/index.module.less");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");











var Chooser = function Chooser(_ref) {
  var svg = _ref.svg,
    text = _ref.text,
    onClick = _ref.onClick;
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(_spacing__WEBPACK_IMPORTED_MODULE_4__.Spacing, {
    vertical: true,
    className: _index_module_less__WEBPACK_IMPORTED_MODULE_5__["default"].chooser,
    gap: 8,
    onClick: onClick,
    children: [svg, /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_7__.Text, {
      className: _index_module_less__WEBPACK_IMPORTED_MODULE_5__["default"].text,
      children: text
    })]
  });
};
var FileChooser = function FileChooser(_ref2) {
  var className = _ref2.className,
    onChooseFile = _ref2.onChooseFile;
  var i18n = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_2__.useI18n)();
  var _onClick = /*#__PURE__*/function () {
    var _ref3 = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__["default"])(/*#__PURE__*/(0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_9__["default"])().mark(function _callee(sourceType) {
      var res, _err$errMsg, err;
      return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_9__["default"])().wrap(function _callee$(_context) {
        while (1) switch (_context.prev = _context.next) {
          case 0:
            _context.prev = 0;
            _context.next = 3;
            return (0,_tarojs_taro__WEBPACK_IMPORTED_MODULE_1__.chooseImage)({
              count: 1,
              sizeType: ["original", "compressed"],
              sourceType: sourceType
            });
          case 3:
            res = _context.sent;
            if (!(res !== null && res !== void 0 && res.errMsg)) {
              _context.next = 6;
              break;
            }
            throw {
              errMsg: res.errMsg
            };
          case 6:
            onChooseFile === null || onChooseFile === void 0 || onChooseFile((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_10__["default"])({}, res));
            _context.next = 13;
            break;
          case 9:
            _context.prev = 9;
            _context.t0 = _context["catch"](0);
            err = _context.t0;
            if (err.errNo !== 10502 && !((_err$errMsg = err.errMsg) !== null && _err$errMsg !== void 0 && _err$errMsg.includes("cancel"))) {
              /* showToast({
                content: i18n.t("chooseImageError"),
                icon: "error",
                duration: 3000,
              });*/
            }
          case 13:
          case "end":
            return _context.stop();
        }
      }, _callee, null, [[0, 9]]);
    }));
    return function onClick(_x) {
      return _ref3.apply(this, arguments);
    };
  }();
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(_spacing__WEBPACK_IMPORTED_MODULE_4__.Spacing, {
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()(_index_module_less__WEBPACK_IMPORTED_MODULE_5__["default"].container, className),
    gap: 8,
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(Chooser, {
      svg: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_svg__WEBPACK_IMPORTED_MODULE_3__.SvgImage, {
        width: 24,
        height: 24
      }),
      text: i18n.t("chooseImage"),
      onClick: function onClick() {
        _onClick(["album"]);
      }
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(Chooser, {
      svg: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_svg__WEBPACK_IMPORTED_MODULE_3__.SvgCamera, {
        width: 24,
        height: 24
      }),
      text: i18n.t("chooseCamera"),
      onClick: function onClick() {
        _onClick(["camera"]);
      }
    })]
  });
};

/***/ }),

/***/ "./src/libs/ui-kit/atomic/icon-button/index.tsx":
/*!******************************************************!*\
  !*** ./src/libs/ui-kit/atomic/icon-button/index.tsx ***!
  \******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   IconButton: function() { return /* binding */ IconButton; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/.pnpm/classnames@2.5.1/node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _libs_ui_kit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/libs/ui-kit */ "./src/libs/ui-kit/index.ts");
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/ui-kit/atomic/icon-button/index.module.less");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");





var IconButton = function IconButton(_ref) {
  var _ref$type = _ref.type,
    type = _ref$type === void 0 ? "circle-btn" : _ref$type,
    children = _ref.children,
    _onClick = _ref.onClick,
    className = _ref.className,
    border = _ref.border,
    _ref$hoverTheme = _ref.hoverTheme,
    hoverTheme = _ref$hoverTheme === void 0 ? "hover" : _ref$hoverTheme,
    _ref$size = _ref.size,
    size = _ref$size === void 0 ? "medium" : _ref$size,
    bgColor = _ref.bgColor;
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_libs_ui_kit__WEBPACK_IMPORTED_MODULE_1__.CenterAlignedBox, {
    onClick: function onClick() {
      _onClick === null || _onClick === void 0 || _onClick();
    },
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()(_index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"]["container"], className, _index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"][type], _index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"][size], _index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"][hoverTheme], (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_4__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_4__["default"])({}, _index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"]["border"], border !== "none"), _index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"]["bold"], bgColor === "bold")),
    children: children
  });
};

/***/ }),

/***/ "./src/libs/ui-kit/atomic/link/index.tsx":
/*!***********************************************!*\
  !*** ./src/libs/ui-kit/atomic/link/index.tsx ***!
  \***********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Link: function() { return /* binding */ Link; }
/* harmony export */ });
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/.pnpm/classnames@2.5.1/node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _tarojs_components__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @tarojs/components */ "./node_modules/.pnpm/@tarojs+plugin-platform-weapp@4.0.8_@tarojs+service@4.0.8_@swc+helpers@0.5.15__@tarojs+shared@4.0.8/node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js");
/* harmony import */ var _tarojs_taro__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @tarojs/taro */ "./node_modules/.pnpm/@tarojs+taro@4.0.8_@tarojs+components@4.0.8_@tarojs+helper@4.0.8_@swc+helpers@0.5.15__@_28b4aa939e10f4882a0917541e7336fe/node_modules/@tarojs/taro/index.js");
/* harmony import */ var _tarojs_taro__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_tarojs_taro__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/ui-kit/atomic/link/index.module.less");
/* harmony import */ var _libs_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/libs/utils */ "./src/libs/utils/index.ts");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");
/* provided dependency */ var window = __webpack_require__(/*! @tarojs/runtime */ "./node_modules/.pnpm/@tarojs+runtime@4.0.8/node_modules/@tarojs/runtime/dist/index.js")["window"];






var Link = function Link(_ref) {
  var className = _ref.className,
    src = _ref.src,
    children = _ref.children;
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_5__.Text, {
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()(_index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"].link, className),
    onClick: function onClick() {
      if (_libs_utils__WEBPACK_IMPORTED_MODULE_3__.isWeb) {
        window.open(src);
      } else {
        (0,_tarojs_taro__WEBPACK_IMPORTED_MODULE_1__.navigateTo)({
          url: src
        });
      }
    },
    children: children
  });
};

/***/ }),

/***/ "./src/libs/ui-kit/atomic/md-stream/context/index.tsx":
/*!************************************************************!*\
  !*** ./src/libs/ui-kit/atomic/md-stream/context/index.tsx ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ChatFamePropsProvider: function() { return /* binding */ ChatFamePropsProvider; },
/* harmony export */   useMdStreamContext: function() { return /* binding */ useMdStreamContext; },
/* harmony export */   useMdStreamEnableCodeBy4Space: function() { return /* binding */ useMdStreamEnableCodeBy4Space; },
/* harmony export */   useMdStreamEnableHtmlTags: function() { return /* binding */ useMdStreamEnableHtmlTags; },
/* harmony export */   useMdStreamGetMarkdown: function() { return /* binding */ useMdStreamGetMarkdown; },
/* harmony export */   useMdStreamI18n: function() { return /* binding */ useMdStreamI18n; },
/* harmony export */   useMdStreamLogger: function() { return /* binding */ useMdStreamLogger; },
/* harmony export */   useMdStreamSelectable: function() { return /* binding */ useMdStreamSelectable; },
/* harmony export */   useMdStreamTaskChangeHandle: function() { return /* binding */ useMdStreamTaskChangeHandle; },
/* harmony export */   useMdStreamTaskDisabled: function() { return /* binding */ useMdStreamTaskDisabled; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _libs_hooks__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/libs/hooks */ "./src/libs/hooks/index.ts");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");



var MdStreamPropsContext = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({});
var ChatFamePropsProvider = function ChatFamePropsProvider(_ref) {
  var markdown = _ref.markdown,
    children = _ref.children,
    onImageClick = _ref.onImageClick,
    i18n = _ref.i18n,
    logger = _ref.logger,
    selectable = _ref.selectable,
    taskDisabled = _ref.taskDisabled,
    enableHtmlTags = _ref.enableHtmlTags,
    enableCodeBy4Space = _ref.enableCodeBy4Space,
    onTaskChangeHandle = _ref.onTaskChangeHandle;
  var getMarkdown = (0,_libs_hooks__WEBPACK_IMPORTED_MODULE_1__.usePersistCallback)(function () {
    return markdown || "";
  });
  var value = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {
    return {
      onImageClick: onImageClick,
      i18n: i18n,
      logger: logger,
      selectable: selectable,
      taskDisabled: taskDisabled,
      enableHtmlTags: enableHtmlTags,
      enableCodeBy4Space: enableCodeBy4Space,
      onTaskChangeHandle: onTaskChangeHandle,
      getMarkdown: getMarkdown
    };
  }, [onImageClick, i18n, logger, selectable, taskDisabled, enableHtmlTags, enableCodeBy4Space, onTaskChangeHandle, getMarkdown]);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MdStreamPropsContext.Provider, {
    value: value,
    children: children
  });
};
var useMdStreamContext = function useMdStreamContext() {
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(MdStreamPropsContext);
};
var useMdStreamI18n = function useMdStreamI18n() {
  var context = useMdStreamContext();
  var _ref2 = context || {},
    i18n = _ref2.i18n;
  return i18n;
};
var useMdStreamLogger = function useMdStreamLogger() {
  var context = useMdStreamContext();
  var _ref3 = context || {},
    logger = _ref3.logger;
  return logger;
};
var useMdStreamSelectable = function useMdStreamSelectable() {
  var context = useMdStreamContext();
  var _ref4 = context || {},
    selectable = _ref4.selectable;
  return selectable;
};
var useMdStreamTaskDisabled = function useMdStreamTaskDisabled() {
  var context = useMdStreamContext();
  var _ref5 = context || {},
    taskDisabled = _ref5.taskDisabled;
  return taskDisabled;
};
var useMdStreamTaskChangeHandle = function useMdStreamTaskChangeHandle() {
  var context = useMdStreamContext();
  var _ref6 = context || {},
    onTaskChangeHandle = _ref6.onTaskChangeHandle;
  return onTaskChangeHandle;
};
var useMdStreamEnableHtmlTags = function useMdStreamEnableHtmlTags() {
  var context = useMdStreamContext();
  var _ref7 = context || {},
    enableHtmlTags = _ref7.enableHtmlTags;
  return enableHtmlTags;
};
var useMdStreamEnableCodeBy4Space = function useMdStreamEnableCodeBy4Space() {
  var context = useMdStreamContext();
  var _ref8 = context || {},
    enableCodeBy4Space = _ref8.enableCodeBy4Space;
  return enableCodeBy4Space;
};
var useMdStreamGetMarkdown = function useMdStreamGetMarkdown() {
  var context = useMdStreamContext();
  var _ref9 = context || {},
    getMarkdown = _ref9.getMarkdown;
  return (getMarkdown === null || getMarkdown === void 0 ? void 0 : getMarkdown()) || "";
};

/***/ }),

/***/ "./src/libs/ui-kit/atomic/md-stream/helper/add-indicator.ts":
/*!******************************************************************!*\
  !*** ./src/libs/ui-kit/atomic/md-stream/helper/add-indicator.ts ***!
  \******************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   addIndicator: function() { return /* binding */ addIndicator; }
/* harmony export */ });
/* harmony import */ var _traversal_last_node__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./traversal-last-node */ "./src/libs/ui-kit/atomic/md-stream/helper/traversal-last-node.ts");

var indicator = {
  type: 'indicator'
};
function addIndicator(root) {
  (0,_traversal_last_node__WEBPACK_IMPORTED_MODULE_0__.traversalLastNode)(root, undefined, function (node) {
    if (!node) {
      return [indicator];
    }
    if ((node === null || node === void 0 ? void 0 : node.type) === 'code') {
      node.children = [{
        type: 'text',
        value: node.value
      }, indicator];
      return [node];
    }
    return [node, indicator];
  });
}

/***/ }),

/***/ "./src/libs/ui-kit/atomic/md-stream/helper/autofix-img.ts":
/*!****************************************************************!*\
  !*** ./src/libs/ui-kit/atomic/md-stream/helper/autofix-img.ts ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   autoFixImg: function() { return /* binding */ autoFixImg; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_wrapRegExp_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/wrapRegExp.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/wrapRegExp.js");
/* harmony import */ var _util_ast__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/ast */ "./src/libs/ui-kit/atomic/md-stream/util/ast.ts");
/* harmony import */ var _traversal_last_node__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./traversal-last-node */ "./src/libs/ui-kit/atomic/md-stream/helper/traversal-last-node.ts");



var removePatterns = [/!$/];
var fixPatterns = [/*#__PURE__*/(0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_wrapRegExp_js__WEBPACK_IMPORTED_MODULE_0__["default"])(/!\[([^\]\n]*)$/, {
  text: 1
}), /*#__PURE__*/(0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_wrapRegExp_js__WEBPACK_IMPORTED_MODULE_0__["default"])(/!\[([^\]\n]+)\]$/, {
  text: 1
}), /*#__PURE__*/(0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_wrapRegExp_js__WEBPACK_IMPORTED_MODULE_0__["default"])(/!\[([^\]\n]+)\]\([^\)\n]*$/, {
  text: 1
}), /*#__PURE__*/(0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_wrapRegExp_js__WEBPACK_IMPORTED_MODULE_0__["default"])(/!\[([^\]\n]+)\]\([^\)\n]*$/, {
  text: 1
})];
function autoFixImg(root) {
  (0,_traversal_last_node__WEBPACK_IMPORTED_MODULE_1__.traversalLastNode)(root, undefined, function (node) {
    if (!node) {
      return [];
    }
    if (node.type === 'text') {
      var nodesReturn = [];
      var removeMatch = (0,_util_ast__WEBPACK_IMPORTED_MODULE_2__.getRegResult)(node.value, removePatterns);
      var fixMatch = (0,_util_ast__WEBPACK_IMPORTED_MODULE_2__.getRegResult)(node.value, fixPatterns);
      var matchResult = fixMatch || removeMatch;
      if (matchResult) {
        nodesReturn.push({
          type: 'text',
          value: node.value.slice(0, matchResult.index)
        });
        if (fixMatch) {
          var _fixMatch$groups;
          nodesReturn.push({
            type: 'image',
            url: '',
            alt: ((_fixMatch$groups = fixMatch.groups) === null || _fixMatch$groups === void 0 ? void 0 : _fixMatch$groups.text) || 'image'
          });
        }
        return nodesReturn;
      }
    }
    return [node];
  });
}

/***/ }),

/***/ "./src/libs/ui-kit/atomic/md-stream/helper/autofix-link.ts":
/*!*****************************************************************!*\
  !*** ./src/libs/ui-kit/atomic/md-stream/helper/autofix-link.ts ***!
  \*****************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   autoFixLink: function() { return /* binding */ autoFixLink; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_wrapRegExp_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/wrapRegExp.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/wrapRegExp.js");
/* harmony import */ var _util_ast__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/ast */ "./src/libs/ui-kit/atomic/md-stream/util/ast.ts");
/* harmony import */ var _traversal_last_node__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./traversal-last-node */ "./src/libs/ui-kit/atomic/md-stream/helper/traversal-last-node.ts");



var fixPatterns = [/*#__PURE__*/(0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_wrapRegExp_js__WEBPACK_IMPORTED_MODULE_0__["default"])(/\[([^\]\n]+)$/, {
  text: 1
}), /*#__PURE__*/(0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_wrapRegExp_js__WEBPACK_IMPORTED_MODULE_0__["default"])(/\[([^\]\n]+)\]$/, {
  text: 1
}), /*#__PURE__*/(0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_wrapRegExp_js__WEBPACK_IMPORTED_MODULE_0__["default"])(/\[([^\]\n]+)\]\([^\)\n]*$/, {
  text: 1
})];
var removePatterns = [/\[$/];
function autoFixLink(root) {
  (0,_traversal_last_node__WEBPACK_IMPORTED_MODULE_1__.traversalLastNode)(root, undefined, function (node) {
    if (!node) {
      return [];
    }
    if (node.type === 'text') {
      var nodesReturn = [];
      var removeMatch = (0,_util_ast__WEBPACK_IMPORTED_MODULE_2__.getRegResult)(node.value, removePatterns);
      var fixMatch = (0,_util_ast__WEBPACK_IMPORTED_MODULE_2__.getRegResult)(node.value, fixPatterns);
      var matchResult = fixMatch || removeMatch;
      if (matchResult) {
        nodesReturn.push({
          type: 'text',
          value: node.value.slice(0, matchResult.index)
        });
        if (fixMatch) {
          var _fixMatch$groups;
          nodesReturn.push({
            type: 'link',
            title: null,
            url: '#',
            children: [{
              type: 'text',
              value: ((_fixMatch$groups = fixMatch.groups) === null || _fixMatch$groups === void 0 ? void 0 : _fixMatch$groups.text) || ''
            }]
          });
        }
        return nodesReturn;
      }
    }
    return [node];
  });
}

/***/ }),

/***/ "./src/libs/ui-kit/atomic/md-stream/helper/autofix.ts":
/*!************************************************************!*\
  !*** ./src/libs/ui-kit/atomic/md-stream/helper/autofix.ts ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   autoFix: function() { return /* binding */ autoFix; }
/* harmony export */ });
/* harmony import */ var _autofix_link__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./autofix-link */ "./src/libs/ui-kit/atomic/md-stream/helper/autofix-link.ts");
/* harmony import */ var _autofix_img__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./autofix-img */ "./src/libs/ui-kit/atomic/md-stream/helper/autofix-img.ts");


var autoFix = function autoFix(root) {
  (0,_autofix_img__WEBPACK_IMPORTED_MODULE_1__.autoFixImg)(root);
  (0,_autofix_link__WEBPACK_IMPORTED_MODULE_0__.autoFixLink)(root);
  //  autoFixIndicator(root);
};

/***/ }),

/***/ "./src/libs/ui-kit/atomic/md-stream/helper/gen-ast.ts":
/*!************************************************************!*\
  !*** ./src/libs/ui-kit/atomic/md-stream/helper/gen-ast.ts ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   genAst: function() { return /* binding */ genAst; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js");
/* harmony import */ var micromark_extension_gfm_strikethrough__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! micromark-extension-gfm-strikethrough */ "./node_modules/.pnpm/micromark-extension-gfm-strikethrough@2.1.0/node_modules/micromark-extension-gfm-strikethrough/dev/lib/syntax.js");
/* harmony import */ var mdast_util_gfm_strikethrough__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! mdast-util-gfm-strikethrough */ "./node_modules/.pnpm/mdast-util-gfm-strikethrough@2.0.0/node_modules/mdast-util-gfm-strikethrough/lib/index.js");
/* harmony import */ var micromark_extension_gfm_table__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! micromark-extension-gfm-table */ "./node_modules/.pnpm/micromark-extension-gfm-table@2.1.1/node_modules/micromark-extension-gfm-table/dev/lib/syntax.js");
/* harmony import */ var micromark_extension_gfm_task_list_item__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! micromark-extension-gfm-task-list-item */ "./node_modules/.pnpm/micromark-extension-gfm-task-list-item@2.1.0/node_modules/micromark-extension-gfm-task-list-item/dev/lib/syntax.js");
/* harmony import */ var mdast_util_gfm_task_list_item__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! mdast-util-gfm-task-list-item */ "./node_modules/.pnpm/mdast-util-gfm-task-list-item@2.0.0/node_modules/mdast-util-gfm-task-list-item/lib/index.js");
/* harmony import */ var mdast_util_gfm_table__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! mdast-util-gfm-table */ "./node_modules/.pnpm/mdast-util-gfm-table@2.0.0/node_modules/mdast-util-gfm-table/lib/index.js");
/* harmony import */ var micromark_extension_misc_radio_list_item__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! micromark-extension-misc-radio-list-item */ "./node_modules/.pnpm/micromark-extension-misc-radio-list-item@2.1.0/node_modules/micromark-extension-misc-radio-list-item/dev/lib/syntax.js");
/* harmony import */ var mdast_util_radio_list_item__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! mdast-util-radio-list-item */ "./node_modules/.pnpm/mdast-util-radio-list-item@2.1.0/node_modules/mdast-util-radio-list-item/lib/index.js");
/* harmony import */ var mdast_util_from_markdown__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! mdast-util-from-markdown */ "./node_modules/.pnpm/mdast-util-from-markdown@2.0.2/node_modules/mdast-util-from-markdown/dev/lib/index.js");
/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! lodash-es */ "./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/cloneDeep.js");
/* harmony import */ var _autofix__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./autofix */ "./src/libs/ui-kit/atomic/md-stream/helper/autofix.ts");
/* harmony import */ var _add_indicator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./add-indicator */ "./src/libs/ui-kit/atomic/md-stream/helper/add-indicator.ts");













var extensions = [(0,micromark_extension_gfm_strikethrough__WEBPACK_IMPORTED_MODULE_2__.gfmStrikethrough)({
  singleTilde: false
}), (0,micromark_extension_gfm_table__WEBPACK_IMPORTED_MODULE_3__.gfmTable)(), (0,micromark_extension_gfm_task_list_item__WEBPACK_IMPORTED_MODULE_4__.gfmTaskListItem)(), (0,micromark_extension_misc_radio_list_item__WEBPACK_IMPORTED_MODULE_5__.radioListItem)()];
var mdastExtensions = [(0,mdast_util_gfm_strikethrough__WEBPACK_IMPORTED_MODULE_6__.gfmStrikethroughFromMarkdown)(), (0,mdast_util_gfm_table__WEBPACK_IMPORTED_MODULE_7__.gfmTableFromMarkdown)(), (0,mdast_util_gfm_task_list_item__WEBPACK_IMPORTED_MODULE_8__.gfmTaskListItemFromMarkdown)(), (0,mdast_util_radio_list_item__WEBPACK_IMPORTED_MODULE_9__.radioListItemFromMarkdown)()];
var genAst = function genAst(_ref) {
  var _lastAstRoot$children, _lastAstRoot$children2;
  var oldMarkdown = _ref.oldMarkdown,
    newMarkdown = _ref.newMarkdown,
    lastAstRoot = _ref.lastAstRoot,
    isShowIndicator = _ref.isShowIndicator;
  var rawAstRoot;
  var offset = (lastAstRoot === null || lastAstRoot === void 0 || (_lastAstRoot$children = lastAstRoot.children) === null || _lastAstRoot$children === void 0 || (_lastAstRoot$children = _lastAstRoot$children[(lastAstRoot === null || lastAstRoot === void 0 || (_lastAstRoot$children2 = lastAstRoot.children) === null || _lastAstRoot$children2 === void 0 ? void 0 : _lastAstRoot$children2.length) - 2]) === null || _lastAstRoot$children === void 0 || (_lastAstRoot$children = _lastAstRoot$children.position) === null || _lastAstRoot$children === void 0 ? void 0 : _lastAstRoot$children.start.offset) || 0;
  if (oldMarkdown === "" || !(lastAstRoot !== null && lastAstRoot !== void 0 && lastAstRoot.position) || (lastAstRoot === null || lastAstRoot === void 0 ? void 0 : lastAstRoot.children.length) < 2 || offset < 20 || !newMarkdown.startsWith(oldMarkdown)) {
    // markdown 有变化，重新构建
    // markdown 未构建过Ast，重新构建
    // markdown 上次构建的有问题
    rawAstRoot = (0,mdast_util_from_markdown__WEBPACK_IMPORTED_MODULE_10__.fromMarkdown)(newMarkdown, {
      extensions: extensions,
      mdastExtensions: mdastExtensions
    });
  } else {
    var _lastAstRoot$children3;
    var leftMarkdown = newMarkdown.slice(offset);
    var leftAstChildren = (0,mdast_util_from_markdown__WEBPACK_IMPORTED_MODULE_10__.fromMarkdown)(leftMarkdown, {
      extensions: extensions,
      mdastExtensions: mdastExtensions
    }).children;
    leftAstChildren.map(function (item) {
      var _item$position;
      if ((_item$position = item.position) !== null && _item$position !== void 0 && _item$position.start) {
        item.position.start.offset = item.position.start.offset || 0;
        item.position.start.offset += offset;
        item.position.end.offset = item.position.end.offset || 0;
        item.position.end.offset += offset;
      }
    });
    (_lastAstRoot$children3 = lastAstRoot.children).splice.apply(_lastAstRoot$children3, [-2, 2].concat((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_11__["default"])(leftAstChildren)));
    rawAstRoot = lastAstRoot;
  }

  // 不需要重新定义了

  var fixedAstRoot = (0,lodash_es__WEBPACK_IMPORTED_MODULE_12__["default"])(rawAstRoot);
  (0,_autofix__WEBPACK_IMPORTED_MODULE_0__.autoFix)(fixedAstRoot);
  var showAstRoot = (0,lodash_es__WEBPACK_IMPORTED_MODULE_12__["default"])(fixedAstRoot);
  if (isShowIndicator) {
    (0,_add_indicator__WEBPACK_IMPORTED_MODULE_1__.addIndicator)(showAstRoot);
  }
  return [rawAstRoot, fixedAstRoot, showAstRoot];
};

/***/ }),

/***/ "./src/libs/ui-kit/atomic/md-stream/helper/get-text-from-paragraph.ts":
/*!****************************************************************************!*\
  !*** ./src/libs/ui-kit/atomic/md-stream/helper/get-text-from-paragraph.ts ***!
  \****************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getTextFromParagraph: function() { return /* binding */ getTextFromParagraph; }
/* harmony export */ });
var getTextFromParagraph = function getTextFromParagraph(paragraphData) {
  if (paragraphData.type === "paragraph") {
    return _getTextFromPhrase(paragraphData.children);
  }
  return "";
};
var _getTextFromPhrase = function getTextFromPhrase(children) {
  return children.map(function (item) {
    if (item.type === "delete" || item.type === "emphasis" || item.type === "link" || item.type === "strong") {
      return _getTextFromPhrase(item.children);
    } else if (item.type === "text" || item.type === "inlineCode" || item.type === "html") {
      return item.value;
    }
    return "";
  }).filter(function (item) {
    return !!item;
  }).join(",");
};

/***/ }),

/***/ "./src/libs/ui-kit/atomic/md-stream/helper/traversal-last-node.ts":
/*!************************************************************************!*\
  !*** ./src/libs/ui-kit/atomic/md-stream/helper/traversal-last-node.ts ***!
  \************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getLastNode: function() { return /* binding */ getLastNode; },
/* harmony export */   traversalLastNode: function() { return /* binding */ _traversalLastNode; }
/* harmony export */ });
/* unused harmony export isConsumeTextToShow */
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js");
/* harmony import */ var _util_ast__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/ast */ "./src/libs/ui-kit/atomic/md-stream/util/ast.ts");


var _traversalLastNode = function traversalLastNode(node, parent, handle) {
  if ((0,_util_ast__WEBPACK_IMPORTED_MODULE_0__.isParent)(node)) {
    var _node$children, _node$children2;
    var contents = _traversalLastNode(node === null || node === void 0 ? void 0 : node.children[(node === null || node === void 0 || (_node$children = node.children) === null || _node$children === void 0 ? void 0 : _node$children.length) - 1], node, handle);
    // @ts-expect-error -- linter-disable-autofix
    (_node$children2 = node.children).splice.apply(_node$children2, [-1, 1].concat((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_1__["default"])(contents)));
    if (node.children.length === 0) {
      return [];
    }
    return [node];
  } else {
    return handle(node, parent);
  }
};

var getLastNode = function getLastNode(node) {
  var lastNode = undefined;
  _traversalLastNode(node, undefined, function (content, parent) {
    if (!content) {
      // children 会存在未空的情况
      return [];
    }
    if ((parent === null || parent === void 0 ? void 0 : parent.type) === 'link') {
      lastNode = parent;
    } else {
      lastNode = content;
    }
    return [content];
  });
  return lastNode;
};
var isConsumeTextToShow = function isConsumeTextToShow(node) {
  var lastNode = getLastNode(node);
  if ((lastNode === null || lastNode === void 0 ? void 0 : lastNode.type) === 'image' || (lastNode === null || lastNode === void 0 ? void 0 : lastNode.type) === 'link') {
    return false;
  }
  return true;
};

/***/ }),

/***/ "./src/libs/ui-kit/atomic/md-stream/hooks/use-render-change.ts":
/*!*********************************************************************!*\
  !*** ./src/libs/ui-kit/atomic/md-stream/hooks/use-render-change.ts ***!
  \*********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useRenderChange: function() { return /* binding */ useRenderChange; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

var useRenderChange = function useRenderChange(_ref) {
  var showMarkdown = _ref.showMarkdown,
    markdown = _ref.markdown,
    isFinish = _ref.isFinish,
    onMarkdownEnd = _ref.onMarkdownEnd,
    onRenderMarkdownChange = _ref.onRenderMarkdownChange;
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {
    if (showMarkdown === markdown && isFinish) {
      onMarkdownEnd === null || onMarkdownEnd === void 0 || onMarkdownEnd();
    }
  }, [showMarkdown, markdown, isFinish]);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {
    onRenderMarkdownChange === null || onRenderMarkdownChange === void 0 || onRenderMarkdownChange(showMarkdown);
  }, [showMarkdown]);
};

/***/ }),

/***/ "./src/libs/ui-kit/atomic/md-stream/hooks/use-smooth-ast-change.ts":
/*!*************************************************************************!*\
  !*** ./src/libs/ui-kit/atomic/md-stream/hooks/use-smooth-ast-change.ts ***!
  \*************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useSmoothAstChange: function() { return /* binding */ useSmoothAstChange; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _helper_traversal_last_node__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../helper/traversal-last-node */ "./src/libs/ui-kit/atomic/md-stream/helper/traversal-last-node.ts");
/* harmony import */ var _libs_hooks__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/libs/hooks */ "./src/libs/hooks/index.ts");



var useSmoothAstChange = function useSmoothAstChange(_ref) {
  var isSmooth = _ref.isSmooth,
    markdown = _ref.markdown,
    showMoreByte = _ref.showMoreByte,
    showMarkdownIndex = _ref.showMarkdownIndex,
    enableHtmlTags = _ref.enableHtmlTags;
  var refMarkdown = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(markdown);
  var refIndex = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(showMarkdownIndex);
  var refIsSmooth = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(isSmooth);
  var refShowMoreByte = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(showMoreByte);
  var onAstChange = (0,_libs_hooks__WEBPACK_IMPORTED_MODULE_1__.usePersistCallback)(function (ast) {
    if (!refIsSmooth.current) {
      return;
    }
    // 最后元素遇到 很多未显示内容的时候，直接跳过打印
    var lastNode = (0,_helper_traversal_last_node__WEBPACK_IMPORTED_MODULE_2__.getLastNode)(ast);
    if ((lastNode === null || lastNode === void 0 ? void 0 : lastNode.type) === "image" || (lastNode === null || lastNode === void 0 ? void 0 : lastNode.type) === "link") {
      var imgEnd = refMarkdown.current.indexOf(")", refIndex.current);
      var newLine = refMarkdown.current.indexOf("\n", refIndex.current);
      if (newLine === -1 || imgEnd < newLine) {
        if (imgEnd > -1) {
          refShowMoreByte.current(imgEnd - refIndex.current + 1);
        }
      } else {
        refShowMoreByte.current(newLine - refIndex.current + 1);
      }
    } else if ((lastNode === null || lastNode === void 0 ? void 0 : lastNode.type) === "html" && enableHtmlTags) {
      // Html的话，防止抖动，一行一行加载
      var _newLine = refMarkdown.current.indexOf("\n", refIndex.current);
      if (_newLine > -1) {
        refShowMoreByte.current(_newLine - refIndex.current + 1);
      } else {
        refShowMoreByte.current(refMarkdown.current.length - refIndex.current);
      }
    }
  });
  return {
    onAstChange: onAstChange
  };
};

/***/ }),

/***/ "./src/libs/ui-kit/atomic/md-stream/hooks/use-smooth-show-markdown.ts":
/*!****************************************************************************!*\
  !*** ./src/libs/ui-kit/atomic/md-stream/hooks/use-smooth-show-markdown.ts ***!
  \****************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useSmoothShowMarkdown: function() { return /* binding */ useSmoothShowMarkdown; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/slicedToArray.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);


var useSmoothShowMarkdown = function useSmoothShowMarkdown(_ref) {
  var isSmooth = _ref.isSmooth,
    interval = _ref.interval,
    markdown = _ref.markdown,
    isFinish = _ref.isFinish;
  var refMarkdown = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)("");
  var refIsSmooth = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(isSmooth);
  var refInterval = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(interval);
  var refIndex = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(0);
  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!isSmooth ? markdown : ""),
    _useState2 = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__["default"])(_useState, 2),
    showMarkdown = _useState2[0],
    setShowMarkdown = _useState2[1];
  var isShowIndicator = isSmooth && (showMarkdown.length < refMarkdown.current.length || !isFinish);
  var isMarkdownChange = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {
    if (!markdown.startsWith(refMarkdown.current) || !isSmooth) {
      return true;
    }
    return false;
  }, [markdown, isSmooth]);
  refMarkdown.current = markdown;
  refInterval.current = interval;
  refIsSmooth.current = isSmooth;
  var showMoreByte = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {
    var count = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;
    if (refIndex.current < refMarkdown.current.length) {
      var _refMarkdown$current;
      refIndex.current += count || 1;
      var ms = (_refMarkdown$current = refMarkdown.current) === null || _refMarkdown$current === void 0 ? void 0 : _refMarkdown$current.slice(0, refIndex.current);
      setShowMarkdown(ms);
    }
  }, []);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {
    var timeout;
    refIndex.current = 0;
    refIndex.current = 0;
    if (isSmooth) {
      var _run = function run() {
        timeout = setTimeout(function () {
          showMoreByte(2);
          _run();
        }, refInterval.current);
      };
      _run();
    } else {
      setShowMarkdown(refMarkdown.current);
    }
    return function () {
      clearTimeout(timeout);
    };
  }, [isSmooth, isMarkdownChange && markdown]);
  return {
    isShowIndicator: isShowIndicator,
    showMarkdown: showMarkdown,
    showMoreByte: showMoreByte
  };
};

/***/ }),

/***/ "./src/libs/ui-kit/atomic/md-stream/hooks/use-task-change.ts":
/*!*******************************************************************!*\
  !*** ./src/libs/ui-kit/atomic/md-stream/hooks/use-task-change.ts ***!
  \*******************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useTaskChangeHandle: function() { return /* binding */ useTaskChangeHandle; }
/* harmony export */ });
/* harmony import */ var _libs_hooks__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/libs/hooks */ "./src/libs/hooks/index.ts");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);


var useTaskChangeHandle = function useTaskChangeHandle(_ref) {
  var onTaskChange = _ref.onTaskChange,
    logger = _ref.logger;
  var refList = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({});
  var onTaskChangeHandle = (0,_libs_hooks__WEBPACK_IMPORTED_MODULE_0__.usePersistCallback)(function (taskValue) {
    refList.current[taskValue.id] = taskValue;
    var taskList = Object.values(refList.current).sort(function (prev, next) {
      return prev.index - next.index;
    }).map(function (item) {
      return {
        taskName: item.id,
        taskValue: item.values
      };
    });
    onTaskChange === null || onTaskChange === void 0 || onTaskChange({
      taskList: taskList
    });
    logger === null || logger === void 0 || logger.debug("useTaskChangeHandle onTaskChange values:", taskList);
  });
  return {
    onTaskChangeHandle: onTaskChangeHandle
  };
};

/***/ }),

/***/ "./src/libs/ui-kit/atomic/md-stream/index.tsx":
/*!****************************************************!*\
  !*** ./src/libs/ui-kit/atomic/md-stream/index.tsx ***!
  \****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MdStream: function() { return /* binding */ MdStream; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/slicedToArray.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _libs_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/libs/types */ "./src/libs/types/index.ts");
/* harmony import */ var _render_root__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./render/root */ "./src/libs/ui-kit/atomic/md-stream/render/root/index.tsx");
/* harmony import */ var _hooks_use_smooth_show_markdown__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./hooks/use-smooth-show-markdown */ "./src/libs/ui-kit/atomic/md-stream/hooks/use-smooth-show-markdown.ts");
/* harmony import */ var _hooks_use_smooth_ast_change__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./hooks/use-smooth-ast-change */ "./src/libs/ui-kit/atomic/md-stream/hooks/use-smooth-ast-change.ts");
/* harmony import */ var _hooks_use_render_change__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./hooks/use-render-change */ "./src/libs/ui-kit/atomic/md-stream/hooks/use-render-change.ts");
/* harmony import */ var _helper_gen_ast__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./helper/gen-ast */ "./src/libs/ui-kit/atomic/md-stream/helper/gen-ast.ts");
/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./context */ "./src/libs/ui-kit/atomic/md-stream/context/index.tsx");
/* harmony import */ var _libs_utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/libs/utils */ "./src/libs/utils/index.ts");
/* harmony import */ var _libs_i18n__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/libs/i18n */ "./src/libs/i18n/index.ts");
/* harmony import */ var _hooks_use_task_change__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./hooks/use-task-change */ "./src/libs/ui-kit/atomic/md-stream/hooks/use-task-change.ts");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");













var MarkdownRender = function MarkdownRender(_ref) {
  var markdown = _ref.markdown,
    onAstChange = _ref.onAstChange,
    _ref$isShowIndicator = _ref.isShowIndicator,
    isShowIndicator = _ref$isShowIndicator === void 0 ? false : _ref$isShowIndicator,
    theme = _ref.theme,
    className = _ref.className,
    style = _ref.style;
  var refRaw = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)("");
  var refAst = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();
  var renderAst = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {
    var _genAst = (0,_helper_gen_ast__WEBPACK_IMPORTED_MODULE_6__.genAst)({
        oldMarkdown: refRaw.current,
        newMarkdown: markdown,
        lastAstRoot: refAst.current,
        isShowIndicator: isShowIndicator
      }),
      _genAst2 = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_12__["default"])(_genAst, 3),
      rawAstRoot = _genAst2[0],
      fixedAstRoot = _genAst2[1],
      showAstRoot = _genAst2[2];
    refAst.current = rawAstRoot;
    refRaw.current = markdown;
    onAstChange === null || onAstChange === void 0 || onAstChange(fixedAstRoot);
    return showAstRoot;
  }, [markdown, isShowIndicator, onAstChange]);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(_render_root__WEBPACK_IMPORTED_MODULE_2__.Root, {
    className: className,
    style: style,
    root: renderAst,
    theme: theme
  });
};
var MdStreamOp = function MdStreamOp(_ref2) {
  var _ref2$theme = _ref2.theme,
    theme = _ref2$theme === void 0 ? "light" : _ref2$theme,
    markdown = _ref2.markdown,
    isSmooth = _ref2.isSmooth,
    isFinish = _ref2.isFinish,
    _ref2$interval = _ref2.interval,
    interval = _ref2$interval === void 0 ? 50 : _ref2$interval,
    onMarkdownEnd = _ref2.onMarkdownEnd,
    onRenderMarkdownChange = _ref2.onRenderMarkdownChange,
    onImageClick = _ref2.onImageClick,
    onTaskChange = _ref2.onTaskChange,
    language = _ref2.language,
    debug = _ref2.debug,
    _ref2$selectable = _ref2.selectable,
    selectable = _ref2$selectable === void 0 ? true : _ref2$selectable,
    className = _ref2.className,
    style = _ref2.style,
    taskDisabled = _ref2.taskDisabled,
    _ref2$enableHtmlTags = _ref2.enableHtmlTags,
    enableHtmlTags = _ref2$enableHtmlTags === void 0 ? false : _ref2$enableHtmlTags,
    _ref2$enableCodeBy4Sp = _ref2.enableCodeBy4Space,
    enableCodeBy4Space = _ref2$enableCodeBy4Sp === void 0 ? false : _ref2$enableCodeBy4Sp;
  var _useSmoothShowMarkdow = (0,_hooks_use_smooth_show_markdown__WEBPACK_IMPORTED_MODULE_3__.useSmoothShowMarkdown)({
      isSmooth: isSmooth,
      interval: interval,
      markdown: markdown,
      isFinish: isFinish
    }),
    showMarkdown = _useSmoothShowMarkdow.showMarkdown,
    isShowIndicator = _useSmoothShowMarkdow.isShowIndicator,
    showMoreByte = _useSmoothShowMarkdow.showMoreByte;
  var i18n = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {
    return new _libs_i18n__WEBPACK_IMPORTED_MODULE_9__.I18n(language || _libs_types__WEBPACK_IMPORTED_MODULE_1__.Language.ZH_CN);
  }, []);
  var logger = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {
    var loggerNew = new _libs_utils__WEBPACK_IMPORTED_MODULE_8__.Logger();
    debug && loggerNew.seDebug();
    return loggerNew;
  }, []);
  (0,_hooks_use_render_change__WEBPACK_IMPORTED_MODULE_5__.useRenderChange)({
    showMarkdown: showMarkdown,
    markdown: markdown,
    isFinish: isFinish,
    onMarkdownEnd: onMarkdownEnd,
    onRenderMarkdownChange: onRenderMarkdownChange
  });
  var _useSmoothAstChange = (0,_hooks_use_smooth_ast_change__WEBPACK_IMPORTED_MODULE_4__.useSmoothAstChange)({
      isSmooth: isSmooth,
      markdown: markdown,
      showMoreByte: showMoreByte,
      showMarkdownIndex: showMarkdown.length,
      enableHtmlTags: enableHtmlTags
    }),
    onAstChange = _useSmoothAstChange.onAstChange;
  var _useTaskChangeHandle = (0,_hooks_use_task_change__WEBPACK_IMPORTED_MODULE_10__.useTaskChangeHandle)({
      onTaskChange: onTaskChange,
      logger: logger
    }),
    onTaskChangeHandle = _useTaskChangeHandle.onTaskChangeHandle;
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(_context__WEBPACK_IMPORTED_MODULE_7__.ChatFamePropsProvider, {
    markdown: markdown,
    onTaskChangeHandle: onTaskChangeHandle,
    onImageClick: onImageClick,
    i18n: i18n,
    logger: logger,
    selectable: selectable,
    taskDisabled: !isFinish || taskDisabled,
    enableHtmlTags: enableHtmlTags,
    enableCodeBy4Space: enableCodeBy4Space,
    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(MarkdownRender, {
      theme: theme,
      markdown: showMarkdown,
      isShowIndicator: isShowIndicator,
      onAstChange: onAstChange,
      className: className,
      style: style
    })
  });
};
var MdStream = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(MdStreamOp, function (prev, next) {
  if (Object.keys(prev).length !== Object.keys(next).length) {
    return false;
  } else {
    return !Object.keys(prev).find(function (key) {
      if (prev[key] !== next[key]) {
        return true;
      }
      return false;
    });
  }
});

/***/ }),

/***/ "./src/libs/ui-kit/atomic/md-stream/render/block/blockquote/index.tsx":
/*!****************************************************************************!*\
  !*** ./src/libs/ui-kit/atomic/md-stream/render/block/blockquote/index.tsx ***!
  \****************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Blockquote: function() { return /* binding */ Blockquote; }
/* harmony export */ });
/* harmony import */ var _tarojs_components__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @tarojs/components */ "./node_modules/.pnpm/@tarojs+plugin-platform-weapp@4.0.8_@tarojs+service@4.0.8_@swc+helpers@0.5.15__@tarojs+shared@4.0.8/node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js");
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ */ "./src/libs/ui-kit/atomic/md-stream/render/block/index.tsx");
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/ui-kit/atomic/md-stream/render/block/blockquote/index.module.less");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");




var Blockquote = function Blockquote(_ref) {
  var node = _ref.node;
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_3__.View, {
    className: _index_module_less__WEBPACK_IMPORTED_MODULE_1__["default"].blockquote,
    children: node.children.map(function (item) {
      return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(___WEBPACK_IMPORTED_MODULE_0__.Block, {
        node: item
      });
    })
  });
};

/***/ }),

/***/ "./src/libs/ui-kit/atomic/md-stream/render/block/code/index.tsx":
/*!**********************************************************************!*\
  !*** ./src/libs/ui-kit/atomic/md-stream/render/block/code/index.tsx ***!
  \**********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Code: function() { return /* binding */ Code; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _tarojs_components__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @tarojs/components */ "./node_modules/.pnpm/@tarojs+plugin-platform-weapp@4.0.8_@tarojs+service@4.0.8_@swc+helpers@0.5.15__@tarojs+shared@4.0.8/node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js");
/* harmony import */ var _phrase_text__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../phrase/text */ "./src/libs/ui-kit/atomic/md-stream/render/phrase/text/index.tsx");
/* harmony import */ var _phrase_indicator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../phrase/indicator */ "./src/libs/ui-kit/atomic/md-stream/render/phrase/indicator/index.tsx");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! classnames */ "./node_modules/.pnpm/classnames@2.5.1/node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/ui-kit/atomic/md-stream/render/block/code/index.module.less");
/* harmony import */ var _tarojs_taro__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @tarojs/taro */ "./node_modules/.pnpm/@tarojs+taro@4.0.8_@tarojs+components@4.0.8_@tarojs+helper@4.0.8_@swc+helpers@0.5.15__@_28b4aa939e10f4882a0917541e7336fe/node_modules/@tarojs/taro/index.js");
/* harmony import */ var _tarojs_taro__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_tarojs_taro__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../context */ "./src/libs/ui-kit/atomic/md-stream/context/index.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");










var Code = function Code(_ref) {
  var _node$children, _node$position4;
  var node = _ref.node;
  var i18n = (0,_context__WEBPACK_IMPORTED_MODULE_6__.useMdStreamI18n)();
  var children = node !== null && node !== void 0 && (_node$children = node.children) !== null && _node$children !== void 0 && _node$children.length ? node === null || node === void 0 ? void 0 : node.children : [{
    type: "text",
    value: node.value
  }];
  var enableCodeBy4Space = (0,_context__WEBPACK_IMPORTED_MODULE_6__.useMdStreamEnableCodeBy4Space)();
  var markdown = (0,_context__WEBPACK_IMPORTED_MODULE_6__.useMdStreamGetMarkdown)();
  var isShowCode = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {
    var _node$position, _node$position2, _node$position3;
    if (enableCodeBy4Space) {
      return true;
    }
    var offset = ((_node$position = node.position) === null || _node$position === void 0 ? void 0 : _node$position.start.offset) || 0;
    if (!((_node$position2 = node.position) !== null && _node$position2 !== void 0 && _node$position2.start.offset) && ((_node$position3 = node.position) === null || _node$position3 === void 0 ? void 0 : _node$position3.start.offset) !== 0) {
      return true;
    } else if (markdown.substring(offset, offset + 4) === "    ") {
      return false;
    }
    return true;
  }, [enableCodeBy4Space, markdown, (_node$position4 = node.position) === null || _node$position4 === void 0 ? void 0 : _node$position4.start.offset]);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)(_tarojs_components__WEBPACK_IMPORTED_MODULE_8__.View, {
    className: classnames__WEBPACK_IMPORTED_MODULE_3___default()(_index_module_less__WEBPACK_IMPORTED_MODULE_4__["default"]["code-container"], (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_9__["default"])({}, _index_module_less__WEBPACK_IMPORTED_MODULE_4__["default"]["code"], isShowCode)),
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)(_tarojs_components__WEBPACK_IMPORTED_MODULE_8__.View, {
      className: _index_module_less__WEBPACK_IMPORTED_MODULE_4__["default"].header,
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_8__.View, {
        className: _index_module_less__WEBPACK_IMPORTED_MODULE_4__["default"].lang,
        children: node.lang
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_8__.View, {
        className: _index_module_less__WEBPACK_IMPORTED_MODULE_4__["default"].copy,
        onClick: function onClick() {
          (0,_tarojs_taro__WEBPACK_IMPORTED_MODULE_5__.setClipboardData)({
            data: node.value,
            fail: function fail() {
              (0,_tarojs_taro__WEBPACK_IMPORTED_MODULE_5__.showToast)({
                title: (i18n === null || i18n === void 0 ? void 0 : i18n.t("copyFailed")) || "",
                icon: "error"
              });
            }
          });
        },
        children: i18n === null || i18n === void 0 ? void 0 : i18n.t("copyCode")
      })]
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_8__.View, {
      className: _index_module_less__WEBPACK_IMPORTED_MODULE_4__["default"].content,
      children: children === null || children === void 0 ? void 0 : children.map(function (item, index) {
        return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, {
          children: [item.type === "text" && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_phrase_text__WEBPACK_IMPORTED_MODULE_1__.Text, {
            node: item,
            className: _index_module_less__WEBPACK_IMPORTED_MODULE_4__["default"].text
          }), item.type === "indicator" && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_phrase_indicator__WEBPACK_IMPORTED_MODULE_2__.Indicator, {
            node: item
          })]
        }, index);
      })
    })]
  });
};

/***/ }),

/***/ "./src/libs/ui-kit/atomic/md-stream/render/block/heading/index.tsx":
/*!*************************************************************************!*\
  !*** ./src/libs/ui-kit/atomic/md-stream/render/block/heading/index.tsx ***!
  \*************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Heading: function() { return /* binding */ Heading; }
/* harmony export */ });
/* harmony import */ var _tarojs_components__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @tarojs/components */ "./node_modules/.pnpm/@tarojs+plugin-platform-weapp@4.0.8_@tarojs+service@4.0.8_@swc+helpers@0.5.15__@tarojs+shared@4.0.8/node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js");
/* harmony import */ var _phrase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../phrase */ "./src/libs/ui-kit/atomic/md-stream/render/phrase/index.tsx");
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/ui-kit/atomic/md-stream/render/block/heading/index.module.less");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");




var Heading = function Heading(_ref) {
  var node = _ref.node;
  var depth = node.depth > 3 ? 3 : node.depth;
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_3__.View, {
    className: _index_module_less__WEBPACK_IMPORTED_MODULE_1__["default"]["heading-".concat(depth)],
    children: node.children.map(function (item, index) {
      return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_phrase__WEBPACK_IMPORTED_MODULE_0__.Phrase, {
        node: item
      }, index);
    })
  });
};

/***/ }),

/***/ "./src/libs/ui-kit/atomic/md-stream/render/block/index.tsx":
/*!*****************************************************************!*\
  !*** ./src/libs/ui-kit/atomic/md-stream/render/block/index.tsx ***!
  \*****************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Block: function() { return /* binding */ Block; },
/* harmony export */   BlockTypes: function() { return /* binding */ BlockTypes; }
/* harmony export */ });
/* harmony import */ var _tarojs_components__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @tarojs/components */ "./node_modules/.pnpm/@tarojs+plugin-platform-weapp@4.0.8_@tarojs+service@4.0.8_@swc+helpers@0.5.15__@tarojs+shared@4.0.8/node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js");
/* harmony import */ var _phrase_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../phrase/html */ "./src/libs/ui-kit/atomic/md-stream/render/phrase/html/index.tsx");
/* harmony import */ var _code__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./code */ "./src/libs/ui-kit/atomic/md-stream/render/block/code/index.tsx");
/* harmony import */ var _heading__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./heading */ "./src/libs/ui-kit/atomic/md-stream/render/block/heading/index.tsx");
/* harmony import */ var _paragpha__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./paragpha */ "./src/libs/ui-kit/atomic/md-stream/render/block/paragpha/index.tsx");
/* harmony import */ var _blockquote__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./blockquote */ "./src/libs/ui-kit/atomic/md-stream/render/block/blockquote/index.tsx");
/* harmony import */ var _list__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./list */ "./src/libs/ui-kit/atomic/md-stream/render/block/list/index.tsx");
/* harmony import */ var _list_item__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./list-item */ "./src/libs/ui-kit/atomic/md-stream/render/block/list-item/index.tsx");
/* harmony import */ var _table__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./table */ "./src/libs/ui-kit/atomic/md-stream/render/block/table/index.tsx");
/* harmony import */ var _thematic_break__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./thematic-break */ "./src/libs/ui-kit/atomic/md-stream/render/block/thematic-break/index.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");











var BlockTypes = ["code", "heading", "paragraph", "blockquote", "list", "listItem", "table", "thematicBreak"];
var Block = function Block(_ref) {
  var node = _ref.node,
    _ref$isParagraphNeedM = _ref.isParagraphNeedMargin,
    isParagraphNeedMargin = _ref$isParagraphNeedM === void 0 ? true : _ref$isParagraphNeedM;
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxs)(_tarojs_components__WEBPACK_IMPORTED_MODULE_10__.View, {
    children: [node.type === "html" && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_phrase_html__WEBPACK_IMPORTED_MODULE_0__.Html, {
      node: node
    }), node.type === "code" && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_code__WEBPACK_IMPORTED_MODULE_1__.Code, {
      node: node
    }), node.type === "heading" && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_heading__WEBPACK_IMPORTED_MODULE_2__.Heading, {
      node: node
    }), node.type === "paragraph" && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_paragpha__WEBPACK_IMPORTED_MODULE_3__.Paragraph, {
      node: node,
      isNeedMargin: isParagraphNeedMargin
    }), node.type === "blockquote" && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_blockquote__WEBPACK_IMPORTED_MODULE_4__.Blockquote, {
      node: node
    }), node.type === "list" && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_list__WEBPACK_IMPORTED_MODULE_5__.List, {
      node: node
    }), node.type === "listItem" && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_list_item__WEBPACK_IMPORTED_MODULE_6__.ListItem, {
      node: node
    }), node.type === "table" && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_table__WEBPACK_IMPORTED_MODULE_7__.Table, {
      node: node
    }), node.type === "thematicBreak" && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_thematic_break__WEBPACK_IMPORTED_MODULE_8__.ThematicBreak, {}) /* 不做处理，做一个标记*/]
  });
};

/***/ }),

/***/ "./src/libs/ui-kit/atomic/md-stream/render/block/list-item/index.tsx":
/*!***************************************************************************!*\
  !*** ./src/libs/ui-kit/atomic/md-stream/render/block/list-item/index.tsx ***!
  \***************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ListItem: function() { return /* binding */ ListItem; }
/* harmony export */ });
/* harmony import */ var _tarojs_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @tarojs/components */ "./node_modules/.pnpm/@tarojs+plugin-platform-weapp@4.0.8_@tarojs+service@4.0.8_@swc+helpers@0.5.15__@tarojs+shared@4.0.8/node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js");
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ */ "./src/libs/ui-kit/atomic/md-stream/render/block/index.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");



var ListItem = function ListItem(_ref) {
  var node = _ref.node;
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_2__.View, {
    children: node.children.map(function (item, index) {
      return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(___WEBPACK_IMPORTED_MODULE_0__.Block, {
        node: item,
        isParagraphNeedMargin: false
      }, index);
    })
  });
};

/***/ }),

/***/ "./src/libs/ui-kit/atomic/md-stream/render/block/list/index.tsx":
/*!**********************************************************************!*\
  !*** ./src/libs/ui-kit/atomic/md-stream/render/block/list/index.tsx ***!
  \**********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   List: function() { return /* binding */ List; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/slicedToArray.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var _tarojs_components__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @tarojs/components */ "./node_modules/.pnpm/@tarojs+plugin-platform-weapp@4.0.8_@tarojs+service@4.0.8_@swc+helpers@0.5.15__@tarojs+shared@4.0.8/node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js");
/* harmony import */ var _list_item__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../list-item */ "./src/libs/ui-kit/atomic/md-stream/render/block/list-item/index.tsx");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/ui-kit/atomic/md-stream/render/block/list/index.module.less");
/* harmony import */ var _libs_ui_kit_atomic_check_box__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/libs/ui-kit/atomic/check-box */ "./src/libs/ui-kit/atomic/check-box/index.tsx");
/* harmony import */ var _libs_ui_kit_atomic_radio__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/libs/ui-kit/atomic/radio */ "./src/libs/ui-kit/atomic/radio/index.tsx");
/* harmony import */ var _helper_get_text_from_paragraph__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../helper/get-text-from-paragraph */ "./src/libs/ui-kit/atomic/md-stream/helper/get-text-from-paragraph.ts");
/* harmony import */ var _libs_hooks__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/libs/hooks */ "./src/libs/hooks/index.ts");
/* harmony import */ var _tarojs_shared__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @tarojs/shared */ "./node_modules/.pnpm/@tarojs+shared@4.0.8/node_modules/@tarojs/shared/dist/is.js");
/* harmony import */ var _libs_ui_kit_atomic_spacing__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/libs/ui-kit/atomic/spacing */ "./src/libs/ui-kit/atomic/spacing/index.tsx");
/* harmony import */ var _libs_ui_kit_atomic_center_aligned_box__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/libs/ui-kit/atomic/center-aligned-box */ "./src/libs/ui-kit/atomic/center-aligned-box/index.tsx");
/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../context */ "./src/libs/ui-kit/atomic/md-stream/context/index.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");















var listNo = 1000;
var List = function List(_ref) {
  var node = _ref.node;
  var listNoId = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () {
    return listNo++;
  }, []);
  var formatItems = useFormatNodeChildren(node, listNoId);
  var logger = (0,_context__WEBPACK_IMPORTED_MODULE_8__.useMdStreamLogger)();
  var taskDisabled = (0,_context__WEBPACK_IMPORTED_MODULE_8__.useMdStreamTaskDisabled)();
  var onTaskChangeHandle = (0,_context__WEBPACK_IMPORTED_MODULE_8__.useMdStreamTaskChangeHandle)();
  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]),
    _useState2 = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_10__["default"])(_useState, 2),
    listItems = _useState2[0],
    setListItems = _useState2[1];
  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {
    setListItems(formatItems);
  }, [formatItems]);
  var onTaskChange = (0,_libs_hooks__WEBPACK_IMPORTED_MODULE_5__.usePersistCallback)(function (isChecked, taskInfo) {
    listItems.map(function (item) {
      if (isChecked) {
        if (taskInfo.radio) {
          // If the changed task is radio,then set property 'checked'  false;
          if (item.taskInfo.radio) {
            item.taskInfo.checked = false;
          }
        }
      }
      if (taskInfo.id === item.taskInfo.id) {
        item.taskInfo.checked = isChecked;
      }
    });
    setListItems((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_11__["default"])(listItems));
  });
  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {
    var isTaskList = listItems.some(function (item) {
      return item.isTask;
    });
    if (isTaskList && !taskDisabled) {
      var values = listItems.map(function (item) {
        if (item.taskInfo.checked && item.taskInfo.value) {
          return item.taskInfo.value;
        }
        return "";
      }).filter(function (item) {
        return !!item;
      });
      onTaskChangeHandle === null || onTaskChangeHandle === void 0 || onTaskChangeHandle({
        id: "task_list_".concat(listNoId),
        index: listNoId,
        values: values
      });
      logger === null || logger === void 0 || logger.debug("taskChange:", values, listNoId);
    }
  }, [listItems, taskDisabled]);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_12__.View, {
    className: _index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"]["list"],
    children: listItems.map(function (item, index) {
      return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(ListItemWrapper, {
        listItemInfo: item,
        onChange: onTaskChange,
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_12__.View, {
          className: _index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"].content,
          children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_list_item__WEBPACK_IMPORTED_MODULE_0__.ListItem, {
            node: item.node
          })
        })
      }, index);
    })
  });
};
var ListItemWrapper = function ListItemWrapper(_ref2) {
  var listItemInfo = _ref2.listItemInfo,
    children = _ref2.children,
    onChange = _ref2.onChange;
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.Fragment, {
    children: listItemInfo.isTask ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(ListTaskWrapper, {
      nodeInfo: listItemInfo,
      onChange: onChange,
      children: children
    }) : /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxs)(_libs_ui_kit_atomic_spacing__WEBPACK_IMPORTED_MODULE_6__.Spacing, {
      className: _index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"]["list-item"],
      gap: 6,
      width100: true,
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_libs_ui_kit_atomic_center_aligned_box__WEBPACK_IMPORTED_MODULE_7__.CenterAlignedBox, {
        width: 16,
        height: 22,
        children: listItemInfo.isOrder ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxs)(_tarojs_components__WEBPACK_IMPORTED_MODULE_12__.Text, {
          children: [listItemInfo.orderNo, "."]
        }) : /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_12__.View, {
          className: _index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"].dot
        })
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_12__.View, {
        style: {
          flex: 1
        },
        children: children
      })]
    })
  });
};
var ListTaskWrapper = function ListTaskWrapper(_ref3) {
  var nodeInfo = _ref3.nodeInfo,
    children = _ref3.children,
    onChange = _ref3.onChange;
  var onChangeHandle = (0,_libs_hooks__WEBPACK_IMPORTED_MODULE_5__.usePersistCallback)(function (isChecked) {
    onChange === null || onChange === void 0 || onChange(isChecked, nodeInfo.taskInfo);
  });
  var taskDisabled = (0,_context__WEBPACK_IMPORTED_MODULE_8__.useMdStreamTaskDisabled)();
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.Fragment, {
    children: nodeInfo.taskInfo.radio ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_libs_ui_kit_atomic_radio__WEBPACK_IMPORTED_MODULE_4__.Radio, {
      checked: nodeInfo.taskInfo.checked,
      className: _index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"]["task-item"],
      onChange: onChangeHandle,
      disabled: taskDisabled,
      children: children
    }) : /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_libs_ui_kit_atomic_check_box__WEBPACK_IMPORTED_MODULE_3__.Checkbox, {
      checked: nodeInfo.taskInfo.checked,
      className: _index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"]["task-item"],
      onChange: onChangeHandle,
      disabled: taskDisabled,
      children: children
    })
  });
};
var useFormatNodeChildren = function useFormatNodeChildren(node, listNoId) {
  var isForbidChecked = false;
  var nodeChildren = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () {
    return node.children.map(function (item, index) {
      var _item$checked;
      var listItemData = item.data || {};
      var selectData = {
        id: "list_prefix_".concat(listNoId, "_").concat(index),
        checkbox: (0,_tarojs_shared__WEBPACK_IMPORTED_MODULE_13__.isBoolean)(item.checked),
        radio: !!listItemData.radio,
        checked: (_item$checked = item.checked) !== null && _item$checked !== void 0 ? _item$checked : listItemData.checked,
        value: ""
      };
      var isTask = !!(selectData.checkbox || selectData.radio);
      selectData.value = isTask ? function (_item$children) {
        // We just extract text from first paragraph.This is already agreed upon in advance
        if (((_item$children = item.children) === null || _item$children === void 0 ? void 0 : _item$children[0].type) === "paragraph") {
          var _item$children2;
          return (0,_helper_get_text_from_paragraph__WEBPACK_IMPORTED_MODULE_14__.getTextFromParagraph)((_item$children2 = item.children) === null || _item$children2 === void 0 ? void 0 : _item$children2[0]);
        } else {
          return "";
        }
      }() : "";

      // Radio component only the first can be set to "checked"
      if (selectData.radio && selectData.checked) {
        if (isForbidChecked) {
          selectData.checked = false;
        }
        isForbidChecked = true;
      }
      return {
        isTask: isTask,
        node: item,
        isOrder: !!node.ordered,
        orderNo: index + 1,
        taskInfo: selectData
      };
    });
  }, [node]);
  return nodeChildren;
};

/***/ }),

/***/ "./src/libs/ui-kit/atomic/md-stream/render/block/paragpha/index.tsx":
/*!**************************************************************************!*\
  !*** ./src/libs/ui-kit/atomic/md-stream/render/block/paragpha/index.tsx ***!
  \**************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Paragraph: function() { return /* binding */ Paragraph; }
/* harmony export */ });
/* harmony import */ var _tarojs_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @tarojs/components */ "./node_modules/.pnpm/@tarojs+plugin-platform-weapp@4.0.8_@tarojs+service@4.0.8_@swc+helpers@0.5.15__@tarojs+shared@4.0.8/node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js");
/* harmony import */ var _phrase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../phrase */ "./src/libs/ui-kit/atomic/md-stream/render/phrase/index.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");



var Paragraph = function Paragraph(_ref) {
  var node = _ref.node;
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_2__.View, {
    children: node.children.map(function (item, index) {
      return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_phrase__WEBPACK_IMPORTED_MODULE_0__.Phrase, {
        node: item
      }, index);
    })
  });
};

/***/ }),

/***/ "./src/libs/ui-kit/atomic/md-stream/render/block/table/index.tsx":
/*!***********************************************************************!*\
  !*** ./src/libs/ui-kit/atomic/md-stream/render/block/table/index.tsx ***!
  \***********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Table: function() { return /* binding */ Table; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/.pnpm/classnames@2.5.1/node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _tarojs_components__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @tarojs/components */ "./node_modules/.pnpm/@tarojs+plugin-platform-weapp@4.0.8_@tarojs+service@4.0.8_@swc+helpers@0.5.15__@tarojs+shared@4.0.8/node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js");
/* harmony import */ var _phrase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../phrase */ "./src/libs/ui-kit/atomic/md-stream/render/phrase/index.tsx");
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/ui-kit/atomic/md-stream/render/block/table/index.module.less");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");






var Table = function Table(_ref) {
  var node = _ref.node;
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_4__.View, {
    className: _index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"]['table-wrapper'],
    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_4__.View, {
      className: _index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"].table,
      children: node.children.map(function (row, rowIndex) {
        return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_4__.View, {
          className: classnames__WEBPACK_IMPORTED_MODULE_0___default()(_index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"]['table-row'], (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_5__["default"])({}, _index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"]['table-header'], rowIndex === 0)),
          children: row.children.map(function (cell, cellIndex) {
            return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_4__.View, {
              className: _index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"]['table-cell'],
              children: cell.children.map(function (item, index) {
                return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_phrase__WEBPACK_IMPORTED_MODULE_1__.Phrase, {
                  node: item
                }, "row-".concat(rowIndex, "-cell-").concat(cellIndex, "-content-").concat(index));
              })
            }, "row-".concat(rowIndex, "-cell-").concat(cellIndex));
          })
        }, "row-".concat(rowIndex));
      })
    })
  });
};

/***/ }),

/***/ "./src/libs/ui-kit/atomic/md-stream/render/block/thematic-break/index.tsx":
/*!********************************************************************************!*\
  !*** ./src/libs/ui-kit/atomic/md-stream/render/block/thematic-break/index.tsx ***!
  \********************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ThematicBreak: function() { return /* binding */ ThematicBreak; }
/* harmony export */ });
/* harmony import */ var _tarojs_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @tarojs/components */ "./node_modules/.pnpm/@tarojs+plugin-platform-weapp@4.0.8_@tarojs+service@4.0.8_@swc+helpers@0.5.15__@tarojs+shared@4.0.8/node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js");
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/ui-kit/atomic/md-stream/render/block/thematic-break/index.module.less");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");



var ThematicBreak = function ThematicBreak() {
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_2__.View, {
    className: _index_module_less__WEBPACK_IMPORTED_MODULE_0__["default"].break
  });
};

/***/ }),

/***/ "./src/libs/ui-kit/atomic/md-stream/render/phrase/break/index.tsx":
/*!************************************************************************!*\
  !*** ./src/libs/ui-kit/atomic/md-stream/render/phrase/break/index.tsx ***!
  \************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Break: function() { return /* binding */ Break; }
/* harmony export */ });
/* harmony import */ var _tarojs_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @tarojs/components */ "./node_modules/.pnpm/@tarojs+plugin-platform-weapp@4.0.8_@tarojs+service@4.0.8_@swc+helpers@0.5.15__@tarojs+shared@4.0.8/node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js");
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/ui-kit/atomic/md-stream/render/phrase/break/index.module.less");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");



var Break = function Break() {
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_2__.View, {
    className: _index_module_less__WEBPACK_IMPORTED_MODULE_0__["default"].break
  });
};

/***/ }),

/***/ "./src/libs/ui-kit/atomic/md-stream/render/phrase/delete/index.tsx":
/*!*************************************************************************!*\
  !*** ./src/libs/ui-kit/atomic/md-stream/render/phrase/delete/index.tsx ***!
  \*************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Delete: function() { return /* binding */ Delete; }
/* harmony export */ });
/* harmony import */ var _tarojs_components__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @tarojs/components */ "./node_modules/.pnpm/@tarojs+plugin-platform-weapp@4.0.8_@tarojs+service@4.0.8_@swc+helpers@0.5.15__@tarojs+shared@4.0.8/node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js");
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ */ "./src/libs/ui-kit/atomic/md-stream/render/phrase/index.tsx");
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/ui-kit/atomic/md-stream/render/phrase/delete/index.module.less");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");




var Delete = function Delete(_ref) {
  var node = _ref.node;
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_3__.View, {
    className: _index_module_less__WEBPACK_IMPORTED_MODULE_1__["default"].delete,
    children: node.children.map(function (item, index) {
      return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(___WEBPACK_IMPORTED_MODULE_0__.Phrase, {
        node: item
      }, index);
    })
  });
};

/***/ }),

/***/ "./src/libs/ui-kit/atomic/md-stream/render/phrase/emphasis/index.tsx":
/*!***************************************************************************!*\
  !*** ./src/libs/ui-kit/atomic/md-stream/render/phrase/emphasis/index.tsx ***!
  \***************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Emphasis: function() { return /* binding */ Emphasis; }
/* harmony export */ });
/* harmony import */ var _tarojs_components__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @tarojs/components */ "./node_modules/.pnpm/@tarojs+plugin-platform-weapp@4.0.8_@tarojs+service@4.0.8_@swc+helpers@0.5.15__@tarojs+shared@4.0.8/node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js");
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ */ "./src/libs/ui-kit/atomic/md-stream/render/phrase/index.tsx");
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/ui-kit/atomic/md-stream/render/phrase/emphasis/index.module.less");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");




var Emphasis = function Emphasis(_ref) {
  var node = _ref.node;
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_3__.View, {
    className: _index_module_less__WEBPACK_IMPORTED_MODULE_1__["default"].emphasis,
    children: node.children.map(function (item, index) {
      return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(___WEBPACK_IMPORTED_MODULE_0__.Phrase, {
        node: item
      }, index);
    })
  });
};

/***/ }),

/***/ "./src/libs/ui-kit/atomic/md-stream/render/phrase/html/index.tsx":
/*!***********************************************************************!*\
  !*** ./src/libs/ui-kit/atomic/md-stream/render/phrase/html/index.tsx ***!
  \***********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Html: function() { return /* binding */ Html; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _text__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../text */ "./src/libs/ui-kit/atomic/md-stream/render/phrase/text/index.tsx");
/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../context */ "./src/libs/ui-kit/atomic/md-stream/context/index.tsx");
/* harmony import */ var _tarojs_components__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @tarojs/components */ "./node_modules/.pnpm/@tarojs+plugin-platform-weapp@4.0.8_@tarojs+service@4.0.8_@swc+helpers@0.5.15__@tarojs+shared@4.0.8/node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");





var Html = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(function (_ref) {
  var node = _ref.node;
  var enableHtmlTags = (0,_context__WEBPACK_IMPORTED_MODULE_2__.useMdStreamEnableHtmlTags)();
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.Fragment, {
    children: enableHtmlTags ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_4__.RichText, {
      nodes: "".concat(node.value)
    }) : /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_text__WEBPACK_IMPORTED_MODULE_1__.Text, {
      node: node
    })
  });
});

/***/ }),

/***/ "./src/libs/ui-kit/atomic/md-stream/render/phrase/image/index.tsx":
/*!************************************************************************!*\
  !*** ./src/libs/ui-kit/atomic/md-stream/render/phrase/image/index.tsx ***!
  \************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Image: function() { return /* binding */ Image; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/slicedToArray.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var _tarojs_components__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @tarojs/components */ "./node_modules/.pnpm/@tarojs+plugin-platform-weapp@4.0.8_@tarojs+service@4.0.8_@swc+helpers@0.5.15__@tarojs+shared@4.0.8/node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/ui-kit/atomic/md-stream/render/phrase/image/index.module.less");
/* harmony import */ var _tarojs_taro__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @tarojs/taro */ "./node_modules/.pnpm/@tarojs+taro@4.0.8_@tarojs+components@4.0.8_@tarojs+helper@4.0.8_@swc+helpers@0.5.15__@_28b4aa939e10f4882a0917541e7336fe/node_modules/@tarojs/taro/index.js");
/* harmony import */ var _tarojs_taro__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_tarojs_taro__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../context */ "./src/libs/ui-kit/atomic/md-stream/context/index.tsx");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! classnames */ "./node_modules/.pnpm/classnames@2.5.1/node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");









var Image = function Image(_ref) {
  var node = _ref.node;
  var _useMdStreamContext = (0,_context__WEBPACK_IMPORTED_MODULE_3__.useMdStreamContext)(),
    onImageClick = _useMdStreamContext.onImageClick;
  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(node.url),
    _useState2 = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_6__["default"])(_useState, 2),
    url = _useState2[0],
    setUrl = _useState2[1];
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {
    setUrl(node.url);
  }, [node]);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_7__.Image, {
    src: url,
    mode: "aspectFill",
    className: classnames__WEBPACK_IMPORTED_MODULE_4___default()(_index_module_less__WEBPACK_IMPORTED_MODULE_1__["default"].image, (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_8__["default"])({}, _index_module_less__WEBPACK_IMPORTED_MODULE_1__["default"]["image-error"], !url)),
    onError: function onError() {
      setUrl("");
    },
    onClick: function onClick() {
      if (node.url) {
        if (onImageClick) {
          onImageClick === null || onImageClick === void 0 || onImageClick({
            url: node.url
          });
        } else {
          (0,_tarojs_taro__WEBPACK_IMPORTED_MODULE_2__.previewImage)({
            urls: [node.url],
            current: node.url,
            enableShowPhotoDownload: true
          });
        }
      }
    }
  });
};

/***/ }),

/***/ "./src/libs/ui-kit/atomic/md-stream/render/phrase/index.tsx":
/*!******************************************************************!*\
  !*** ./src/libs/ui-kit/atomic/md-stream/render/phrase/index.tsx ***!
  \******************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Phrase: function() { return /* binding */ Phrase; },
/* harmony export */   PhraseTypes: function() { return /* binding */ PhraseTypes; }
/* harmony export */ });
/* harmony import */ var _break__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./break */ "./src/libs/ui-kit/atomic/md-stream/render/phrase/break/index.tsx");
/* harmony import */ var _text__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./text */ "./src/libs/ui-kit/atomic/md-stream/render/phrase/text/index.tsx");
/* harmony import */ var _delete__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./delete */ "./src/libs/ui-kit/atomic/md-stream/render/phrase/delete/index.tsx");
/* harmony import */ var _emphasis__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./emphasis */ "./src/libs/ui-kit/atomic/md-stream/render/phrase/emphasis/index.tsx");
/* harmony import */ var _html__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./html */ "./src/libs/ui-kit/atomic/md-stream/render/phrase/html/index.tsx");
/* harmony import */ var _image__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./image */ "./src/libs/ui-kit/atomic/md-stream/render/phrase/image/index.tsx");
/* harmony import */ var _inline_code__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./inline-code */ "./src/libs/ui-kit/atomic/md-stream/render/phrase/inline-code/index.tsx");
/* harmony import */ var _link__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./link */ "./src/libs/ui-kit/atomic/md-stream/render/phrase/link/index.tsx");
/* harmony import */ var _strong__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./strong */ "./src/libs/ui-kit/atomic/md-stream/render/phrase/strong/index.tsx");
/* harmony import */ var _indicator__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./indicator */ "./src/libs/ui-kit/atomic/md-stream/render/phrase/indicator/index.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");











var PhraseTypes = ["break", "delete", "emphasis", "footnoteReference", "html", "image", "imageReference", "inlineCode", "link", "linkReference", "strong", "text", "indicator"];
var Phrase = function Phrase(_ref) {
  var node = _ref.node;
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.Fragment, {
    children: [node.type === "break" && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_break__WEBPACK_IMPORTED_MODULE_0__.Break, {}), node.type === "delete" && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_delete__WEBPACK_IMPORTED_MODULE_2__.Delete, {
      node: node
    }), node.type === "emphasis" && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_emphasis__WEBPACK_IMPORTED_MODULE_3__.Emphasis, {
      node: node
    }), node.type === "footnoteReference" && null /* 不做处理，做一个标记*/, node.type === "html" && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_html__WEBPACK_IMPORTED_MODULE_4__.Html, {
      node: node
    }), node.type === "image" && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_image__WEBPACK_IMPORTED_MODULE_5__.Image, {
      node: node
    }), node.type === "imageReference" && null /* 不做处理，做一个标记*/, node.type === "inlineCode" && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_inline_code__WEBPACK_IMPORTED_MODULE_6__.InlineCode, {
      node: node
    }), node.type === "link" && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_link__WEBPACK_IMPORTED_MODULE_7__.Link, {
      node: node
    }), node.type === "linkReference" && null /* 不做处理，做一个标记*/, node.type === "strong" && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_strong__WEBPACK_IMPORTED_MODULE_8__.Strong, {
      node: node
    }), node.type === "text" && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_text__WEBPACK_IMPORTED_MODULE_1__.Text, {
      node: node
    }), node.type === "indicator" && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_indicator__WEBPACK_IMPORTED_MODULE_9__.Indicator, {
      node: node
    })]
  });
};

/***/ }),

/***/ "./src/libs/ui-kit/atomic/md-stream/render/phrase/indicator/index.tsx":
/*!****************************************************************************!*\
  !*** ./src/libs/ui-kit/atomic/md-stream/render/phrase/indicator/index.tsx ***!
  \****************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Indicator: function() { return /* binding */ Indicator; }
/* harmony export */ });
/* harmony import */ var _tarojs_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @tarojs/components */ "./node_modules/.pnpm/@tarojs+plugin-platform-weapp@4.0.8_@tarojs+service@4.0.8_@swc+helpers@0.5.15__@tarojs+shared@4.0.8/node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js");
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/ui-kit/atomic/md-stream/render/phrase/indicator/index.module.less");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");



var Indicator = function Indicator() {
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_2__.Text, {
    className: _index_module_less__WEBPACK_IMPORTED_MODULE_0__["default"].indicator,
    children: "\b"
  });
};

/***/ }),

/***/ "./src/libs/ui-kit/atomic/md-stream/render/phrase/inline-code/index.tsx":
/*!******************************************************************************!*\
  !*** ./src/libs/ui-kit/atomic/md-stream/render/phrase/inline-code/index.tsx ***!
  \******************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   InlineCode: function() { return /* binding */ InlineCode; }
/* harmony export */ });
/* harmony import */ var _tarojs_components__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @tarojs/components */ "./node_modules/.pnpm/@tarojs+plugin-platform-weapp@4.0.8_@tarojs+service@4.0.8_@swc+helpers@0.5.15__@tarojs+shared@4.0.8/node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js");
/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../context */ "./src/libs/ui-kit/atomic/md-stream/context/index.tsx");
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/ui-kit/atomic/md-stream/render/phrase/inline-code/index.module.less");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");




var InlineCode = function InlineCode(_ref) {
  var node = _ref.node;
  var selectable = (0,_context__WEBPACK_IMPORTED_MODULE_0__.useMdStreamSelectable)();
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_3__.Text, {
    selectable: selectable,
    space: "nbsp",
    className: _index_module_less__WEBPACK_IMPORTED_MODULE_1__["default"]["inline-code"],
    children: node.value
  });
};

/***/ }),

/***/ "./src/libs/ui-kit/atomic/md-stream/render/phrase/link/index.tsx":
/*!***********************************************************************!*\
  !*** ./src/libs/ui-kit/atomic/md-stream/render/phrase/link/index.tsx ***!
  \***********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Link: function() { return /* binding */ Link; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var _tarojs_components__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @tarojs/components */ "./node_modules/.pnpm/@tarojs+plugin-platform-weapp@4.0.8_@tarojs+service@4.0.8_@swc+helpers@0.5.15__@tarojs+shared@4.0.8/node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js");
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ */ "./src/libs/ui-kit/atomic/md-stream/render/phrase/index.tsx");
/* harmony import */ var _tarojs_taro__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @tarojs/taro */ "./node_modules/.pnpm/@tarojs+taro@4.0.8_@tarojs+components@4.0.8_@tarojs+helper@4.0.8_@swc+helpers@0.5.15__@_28b4aa939e10f4882a0917541e7336fe/node_modules/@tarojs/taro/index.js");
/* harmony import */ var _tarojs_taro__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_tarojs_taro__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ "./node_modules/.pnpm/classnames@2.5.1/node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/ui-kit/atomic/md-stream/render/phrase/link/index.module.less");
/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../context */ "./src/libs/ui-kit/atomic/md-stream/context/index.tsx");
/* harmony import */ var _libs_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/libs/utils */ "./src/libs/utils/index.ts");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");
/* provided dependency */ var window = __webpack_require__(/*! @tarojs/runtime */ "./node_modules/.pnpm/@tarojs+runtime@4.0.8/node_modules/@tarojs/runtime/dist/index.js")["window"];









var Link = function Link(_ref) {
  var node = _ref.node;
  var i18n = (0,_context__WEBPACK_IMPORTED_MODULE_4__.useMdStreamI18n)();
  var isValidUrl = node.url && node.url !== "#";
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_7__.View, {
    onClick: function onClick() {
      if (isValidUrl) {
        if (_libs_utils__WEBPACK_IMPORTED_MODULE_5__.isWeb) {
          window.open(node.url);
        } else {
          (0,_tarojs_taro__WEBPACK_IMPORTED_MODULE_1__.setClipboardData)({
            data: node.url,
            fail: function fail() {
              (0,_tarojs_taro__WEBPACK_IMPORTED_MODULE_1__.showToast)({
                title: (i18n === null || i18n === void 0 ? void 0 : i18n.t("copyFailed")) || "",
                icon: "error"
              });
            }
          });
        }
      }
    },
    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(_index_module_less__WEBPACK_IMPORTED_MODULE_3__["default"].link, (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_8__["default"])({}, _index_module_less__WEBPACK_IMPORTED_MODULE_3__["default"].invalid, !isValidUrl)),
    children: node.children.map(function (item, index) {
      return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(___WEBPACK_IMPORTED_MODULE_0__.Phrase, {
        node: item
      }, index);
    })
  });
};

/***/ }),

/***/ "./src/libs/ui-kit/atomic/md-stream/render/phrase/strong/index.tsx":
/*!*************************************************************************!*\
  !*** ./src/libs/ui-kit/atomic/md-stream/render/phrase/strong/index.tsx ***!
  \*************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Strong: function() { return /* binding */ Strong; }
/* harmony export */ });
/* harmony import */ var _tarojs_components__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @tarojs/components */ "./node_modules/.pnpm/@tarojs+plugin-platform-weapp@4.0.8_@tarojs+service@4.0.8_@swc+helpers@0.5.15__@tarojs+shared@4.0.8/node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js");
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ */ "./src/libs/ui-kit/atomic/md-stream/render/phrase/index.tsx");
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/ui-kit/atomic/md-stream/render/phrase/strong/index.module.less");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");




var Strong = function Strong(_ref) {
  var node = _ref.node;
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_3__.View, {
    className: _index_module_less__WEBPACK_IMPORTED_MODULE_1__["default"].strong,
    children: node.children.map(function (item, index) {
      return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(___WEBPACK_IMPORTED_MODULE_0__.Phrase, {
        node: item
      }, index);
    })
  });
};

/***/ }),

/***/ "./src/libs/ui-kit/atomic/md-stream/render/phrase/text/index.tsx":
/*!***********************************************************************!*\
  !*** ./src/libs/ui-kit/atomic/md-stream/render/phrase/text/index.tsx ***!
  \***********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Text: function() { return /* binding */ Text; }
/* harmony export */ });
/* harmony import */ var _tarojs_components__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @tarojs/components */ "./node_modules/.pnpm/@tarojs+plugin-platform-weapp@4.0.8_@tarojs+service@4.0.8_@swc+helpers@0.5.15__@tarojs+shared@4.0.8/node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js");
/* harmony import */ var _break__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../break */ "./src/libs/ui-kit/atomic/md-stream/render/phrase/break/index.tsx");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ "./node_modules/.pnpm/classnames@2.5.1/node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/ui-kit/atomic/md-stream/render/phrase/text/index.module.less");
/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../context */ "./src/libs/ui-kit/atomic/md-stream/context/index.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");







var Text = function Text(_ref) {
  var node = _ref.node,
    className = _ref.className;
  var textList = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () {
    return node.value.split("\n");
  }, [node.value]);
  var selectable = (0,_context__WEBPACK_IMPORTED_MODULE_4__.useMdStreamSelectable)();
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.Fragment, {
    children: textList.map(function (item, index) {
      return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(react__WEBPACK_IMPORTED_MODULE_1__.Fragment, {
        children: [item ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_6__.Text, {
          selectable: selectable,
          className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(_index_module_less__WEBPACK_IMPORTED_MODULE_3__["default"].text, _index_module_less__WEBPACK_IMPORTED_MODULE_3__["default"].important, className),
          children: item
        }) : null, index !== textList.length - 1 ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_break__WEBPACK_IMPORTED_MODULE_0__.Break, {}) : null]
      }, index);
    })
  });
};

/***/ }),

/***/ "./src/libs/ui-kit/atomic/md-stream/render/root/index.tsx":
/*!****************************************************************!*\
  !*** ./src/libs/ui-kit/atomic/md-stream/render/root/index.tsx ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Root: function() { return /* binding */ Root; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _tarojs_components__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @tarojs/components */ "./node_modules/.pnpm/@tarojs+plugin-platform-weapp@4.0.8_@tarojs+service@4.0.8_@swc+helpers@0.5.15__@tarojs+shared@4.0.8/node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/.pnpm/classnames@2.5.1/node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _phrase__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../phrase */ "./src/libs/ui-kit/atomic/md-stream/render/phrase/index.tsx");
/* harmony import */ var _block__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../block */ "./src/libs/ui-kit/atomic/md-stream/render/block/index.tsx");
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/ui-kit/atomic/md-stream/render/root/index.module.less");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");








var Root = function Root(_ref) {
  var root = _ref.root,
    _ref$theme = _ref.theme,
    theme = _ref$theme === void 0 ? "light" : _ref$theme,
    className = _ref.className,
    style = _ref.style;
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_6__.View, {
    style: style,
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(_index_module_less__WEBPACK_IMPORTED_MODULE_4__["default"].root, "md-stream", {
      dark: theme !== "dark"
    }, className),
    children: root === null || root === void 0 ? void 0 : root.children.map(function (item, index) {
      return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, {
        children: [_block__WEBPACK_IMPORTED_MODULE_3__.BlockTypes.includes(item.type) && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_block__WEBPACK_IMPORTED_MODULE_3__.Block, {
          node: item
        }), _phrase__WEBPACK_IMPORTED_MODULE_2__.PhraseTypes.includes(item.type) && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_phrase__WEBPACK_IMPORTED_MODULE_2__.Phrase, {
          node: item
        }), item.type === "tableCell" && null /* 不做处理，做一个标记*/, item.type === "tableRow" && null /* 不做处理，做一个标记*/, item.type === "yaml" && null /* 不做处理，做一个标记*/]
      }, index);
    })
  });
};

/***/ }),

/***/ "./src/libs/ui-kit/atomic/md-stream/util/ast.ts":
/*!******************************************************!*\
  !*** ./src/libs/ui-kit/atomic/md-stream/util/ast.ts ***!
  \******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getRegResult: function() { return /* binding */ getRegResult; },
/* harmony export */   isParent: function() { return /* binding */ isParent; }
/* harmony export */ });
var isParent = function isParent(value) {
  return !!(value !== null && value !== void 0 && value.children);
};
var getRegResult = function getRegResult(value, regExps) {
  var fixMatch = null;
  regExps.find(function (pattern) {
    fixMatch = pattern.exec(value);
    return fixMatch;
  });
  return fixMatch;
};

/***/ }),

/***/ "./src/libs/ui-kit/atomic/modal/index.tsx":
/*!************************************************!*\
  !*** ./src/libs/ui-kit/atomic/modal/index.tsx ***!
  \************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Modal: function() { return /* binding */ Modal; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/slicedToArray.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var _tarojs_components__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @tarojs/components */ "./node_modules/.pnpm/@tarojs+plugin-platform-weapp@4.0.8_@tarojs+service@4.0.8_@swc+helpers@0.5.15__@tarojs+shared@4.0.8/node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/ui-kit/atomic/modal/index.module.less");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");





var Modal = function Modal(_ref) {
  var children = _ref.children,
    onHide = _ref.onHide,
    _ref$isNeedMask = _ref.isNeedMask,
    isNeedMask = _ref$isNeedMask === void 0 ? true : _ref$isNeedMask;
  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true),
    _useState2 = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_3__["default"])(_useState, 2),
    isShow = _useState2[0],
    setIsShow = _useState2[1];
  if (!isShow) {
    return null;
  }
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(_tarojs_components__WEBPACK_IMPORTED_MODULE_4__.View, {
    className: _index_module_less__WEBPACK_IMPORTED_MODULE_1__["default"]["modal-container"],
    children: [isNeedMask ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_4__.View, {
      className: _index_module_less__WEBPACK_IMPORTED_MODULE_1__["default"]["mask"],
      onClick: function onClick() {
        setIsShow(true);
        onHide();
      }
    }) : null, /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_4__.View, {
      className: _index_module_less__WEBPACK_IMPORTED_MODULE_1__["default"].modal,
      children: children
    })]
  });
};

/***/ }),

/***/ "./src/libs/ui-kit/atomic/radio/index.tsx":
/*!************************************************!*\
  !*** ./src/libs/ui-kit/atomic/radio/index.tsx ***!
  \************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Radio: function() { return /* binding */ Radio; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/.pnpm/classnames@2.5.1/node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _tarojs_components__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @tarojs/components */ "./node_modules/.pnpm/@tarojs+plugin-platform-weapp@4.0.8_@tarojs+service@4.0.8_@swc+helpers@0.5.15__@tarojs+shared@4.0.8/node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js");
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/ui-kit/atomic/radio/index.module.less");
/* harmony import */ var _spacing__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../spacing */ "./src/libs/ui-kit/atomic/spacing/index.tsx");
/* harmony import */ var _disable_container__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../disable-container */ "./src/libs/ui-kit/atomic/disable-container/index.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");








var Radio = function Radio(props) {
  var checked = props.checked,
    onChange = props.onChange,
    disabled = props.disabled,
    children = props.children,
    className = props.className;
  var handleChange = function handleChange() {
    if (disabled) {
      return;
    }
    onChange === null || onChange === void 0 || onChange(!checked);
  };
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_disable_container__WEBPACK_IMPORTED_MODULE_3__.DisableContainer, {
    disabled: disabled,
    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(_spacing__WEBPACK_IMPORTED_MODULE_2__.Spacing, {
      className: classnames__WEBPACK_IMPORTED_MODULE_0___default()(_index_module_less__WEBPACK_IMPORTED_MODULE_1__["default"].box, className),
      gap: 8,
      onClick: handleChange,
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_5__.View, {
        onClick: handleChange,
        className: classnames__WEBPACK_IMPORTED_MODULE_0___default()(_index_module_less__WEBPACK_IMPORTED_MODULE_1__["default"]["radio"], (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_6__["default"])({}, _index_module_less__WEBPACK_IMPORTED_MODULE_1__["default"].checked, checked)),
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_5__.View, {
          className: _index_module_less__WEBPACK_IMPORTED_MODULE_1__["default"]["checked-circle"]
        })
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_5__.View, {
        style: {
          flex: 1
        },
        children: children
      })]
    })
  });
};

/***/ }),

/***/ "./src/libs/ui-kit/atomic/scroll-view/index.tsx":
/*!******************************************************!*\
  !*** ./src/libs/ui-kit/atomic/scroll-view/index.tsx ***!
  \******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ScrollView: function() { return /* binding */ ScrollView; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectSpread2.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectSpread2.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/slicedToArray.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/.pnpm/classnames@2.5.1/node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _tarojs_components__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @tarojs/components */ "./node_modules/.pnpm/@tarojs+plugin-platform-weapp@4.0.8_@tarojs+service@4.0.8_@swc+helpers@0.5.15__@tarojs+shared@4.0.8/node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js");
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/ui-kit/atomic/scroll-view/index.module.less");
/* harmony import */ var _use_wheel_handle__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./use-wheel-handle */ "./src/libs/ui-kit/atomic/scroll-view/use-wheel-handle.ts");
/* harmony import */ var _icon_button__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../icon-button */ "./src/libs/ui-kit/atomic/icon-button/index.tsx");
/* harmony import */ var _svg__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../svg */ "./src/libs/ui-kit/atomic/svg/index.tsx");
/* harmony import */ var _use_helper_button__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./use-helper-button */ "./src/libs/ui-kit/atomic/scroll-view/use-helper-button.ts");
/* harmony import */ var _libs_utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/libs/utils */ "./src/libs/utils/index.ts");
/* harmony import */ var _libs_hooks__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/libs/hooks */ "./src/libs/hooks/index.ts");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");




var _excluded = ["id", "children", "isLoadMore", "checkArrowDownVisible"],
  _excluded2 = ["className", "isNeedHelper", "children"];











var TaroScrollViewMemo = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(_tarojs_components__WEBPACK_IMPORTED_MODULE_10__.ScrollView);
var ScrollViewSlot = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(/*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(function (_ref, ref) {
  var id = _ref.id,
    children = _ref.children,
    isLoadMore = _ref.isLoadMore,
    checkArrowDownVisible = _ref.checkArrowDownVisible,
    restProps = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_11__["default"])(_ref, _excluded);
  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0),
    _useState2 = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_12__["default"])(_useState, 2),
    scrollTop = _useState2[0],
    setScrollTop = _useState2[1];
  var refScrollNow = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(1);
  var _useWheelHandle = (0,_use_wheel_handle__WEBPACK_IMPORTED_MODULE_3__.useWheelHandle)(),
    onInitScrollRefForWheel = _useWheelHandle.onInitScrollRefForWheel;
  var onScrollHandle = (0,_libs_hooks__WEBPACK_IMPORTED_MODULE_8__.usePersistCallback)(function (e) {
    refScrollNow.current = e.detail.scrollTop;
    checkArrowDownVisible === null || checkArrowDownVisible === void 0 || checkArrowDownVisible(e.detail.scrollTop);
  });
  var refSetScrollTimeout = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(undefined);
  var delayToSetScroll = (0,_libs_hooks__WEBPACK_IMPORTED_MODULE_8__.usePersistCallback)(function (scrollTop) {
    var timeoutNumber = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
    if (refSetScrollTimeout.current) {
      clearTimeout(refSetScrollTimeout.current);
    }
    if (timeoutNumber <= 0) {
      setScrollTop(scrollTop);
      return;
    } else {
      refSetScrollTimeout.current = setTimeout(function () {
        setScrollTop(scrollTop);
      }, timeoutNumber);
    }
  });
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)(function () {
    if (isLoadMore) {
      delayToSetScroll(refScrollNow.current + 2);
    }
  }, [isLoadMore]);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle)(ref, function () {
    return {
      scrollToBottom: function scrollToBottom() {
        _libs_utils__WEBPACK_IMPORTED_MODULE_7__.logger.debug("ScrollView, scrollToBottom", {
          scrollTop: scrollTop
        });
        if (scrollTop !== 1) {
          delayToSetScroll(1);
        } else {
          delayToSetScroll(2);
        }
      },
      scrollToAnchorBottom: function scrollToAnchorBottom() {
        // 如果重复设置0的话，不会生效，因此如果是0的时候，需要先设置1，然后再设置锚定位置0
        _libs_utils__WEBPACK_IMPORTED_MODULE_7__.logger.debug("ScrollView, scrollToAnchorBottom", {
          scrollTop: scrollTop
        });
        if (scrollTop !== 0) {
          delayToSetScroll(0);
        } else {
          delayToSetScroll(1);
          // 先设置1居于底部，然后设置为0， 锚定在底部
          // 由于scrollTop为0，如果直接设置为0，不能出发锚定。
          delayToSetScroll(0, 200);
        }
      },
      removeAnchorBottom: function removeAnchorBottom() {
        _libs_utils__WEBPACK_IMPORTED_MODULE_7__.logger.debug("ScrollView, removeAnchorBottom", {
          currentTop: refScrollNow.current,
          scrollTop: scrollTop
        });
        if (refScrollNow.current === 0 && scrollTop === 0) {
          // 防止内容未渲染完成，改处已经制定了修改，导致新内容未能锚定底部，预防措施
          delayToSetScroll(1, 50);
        }
      }
    };
  }, [scrollTop]);
  var chatScrollContent = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {
    // 防止  scrollView 重新渲染，导致重新设置scrollTop。
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_10__.View, {
      className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(_index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"].children),
      children: children
    });
  }, [children]);
  _libs_utils__WEBPACK_IMPORTED_MODULE_7__.logger.debug("ScrollView, render", {
    currentTop: refScrollNow.current,
    scrollTop: scrollTop
  });
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(TaroScrollViewMemo, (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_13__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_13__["default"])({}, restProps), {}, {
    id: id,
    scrollTop: scrollTop,
    ref: onInitScrollRefForWheel,
    reverse: false,
    showScrollbar: false,
    enhanced: true,
    className: _index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"].scroll,
    onScroll: onScrollHandle,
    children: chatScrollContent
  }));
}));
var ScrollView = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(function (_ref2, ref) {
  var className = _ref2.className,
    isNeedHelper = _ref2.isNeedHelper,
    children = _ref2.children,
    restProps = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_11__["default"])(_ref2, _excluded2);
  var _useHelperButton = (0,_use_helper_button__WEBPACK_IMPORTED_MODULE_6__.useHelperButton)(isNeedHelper),
    arrowDownVisible = _useHelperButton.arrowDownVisible,
    checkArrowDownVisible = _useHelperButton.checkArrowDownVisible,
    setArrowDownVisible = _useHelperButton.setArrowDownVisible;
  var refScroll = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle)(ref, function () {
    return {
      scrollToBottom: function scrollToBottom() {
        var _refScroll$current;
        (_refScroll$current = refScroll.current) === null || _refScroll$current === void 0 || _refScroll$current.scrollToBottom();
      },
      scrollToAnchorBottom: function scrollToAnchorBottom() {
        var _refScroll$current2;
        (_refScroll$current2 = refScroll.current) === null || _refScroll$current2 === void 0 || _refScroll$current2.scrollToAnchorBottom();
      },
      removeAnchorBottom: function removeAnchorBottom() {
        var _refScroll$current3;
        (_refScroll$current3 = refScroll.current) === null || _refScroll$current3 === void 0 || _refScroll$current3.removeAnchorBottom();
      }
    };
  }, []);
  _libs_utils__WEBPACK_IMPORTED_MODULE_7__.logger.debug("ScrollView, arrowDownVisible", arrowDownVisible);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxs)(_tarojs_components__WEBPACK_IMPORTED_MODULE_10__.View, {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(_index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"].container, className),
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(ScrollViewSlot, (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_13__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_13__["default"])({}, restProps), {}, {
      checkArrowDownVisible: checkArrowDownVisible,
      ref: refScroll,
      children: children
    })), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_icon_button__WEBPACK_IMPORTED_MODULE_4__.IconButton, {
      type: "circle-btn",
      size: "large",
      className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(_index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"]["arrow-down"], (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_14__["default"])({}, _index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"]["arrow-down--show"], arrowDownVisible)),
      onClick: function onClick() {
        _libs_utils__WEBPACK_IMPORTED_MODULE_7__.logger.debug("ScrollView, arrowDownVisible, onClick", refScroll.current);
        if (refScroll.current) {
          var _refScroll$current4;
          refScroll === null || refScroll === void 0 || (_refScroll$current4 = refScroll.current) === null || _refScroll$current4 === void 0 || _refScroll$current4.scrollToBottom();
          setArrowDownVisible(false);
        }
      },
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_svg__WEBPACK_IMPORTED_MODULE_5__.SvgArrowUp, {})
    })]
  });
});

/***/ }),

/***/ "./src/libs/ui-kit/atomic/scroll-view/use-helper-button.ts":
/*!*****************************************************************!*\
  !*** ./src/libs/ui-kit/atomic/scroll-view/use-helper-button.ts ***!
  \*****************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useHelperButton: function() { return /* binding */ useHelperButton; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/slicedToArray.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);


var useHelperButton = function useHelperButton(isShowHelper) {
  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false),
    _useState2 = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__["default"])(_useState, 2),
    arrowDownVisible = _useState2[0],
    setArrowDownVisible = _useState2[1];
  var checkArrowDownVisible = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (scrollTop) {
    if (!isShowHelper) {
      return;
    }
    if (scrollTop > 500) {
      setArrowDownVisible(true);
    } else {
      setArrowDownVisible(false);
    }
  }, [isShowHelper]);
  return {
    arrowDownVisible: arrowDownVisible,
    setArrowDownVisible: setArrowDownVisible,
    checkArrowDownVisible: checkArrowDownVisible
  };
};

/***/ }),

/***/ "./src/libs/ui-kit/atomic/scroll-view/use-wheel-handle.ts":
/*!****************************************************************!*\
  !*** ./src/libs/ui-kit/atomic/scroll-view/use-wheel-handle.ts ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useWheelHandle: function() { return /* binding */ useWheelHandle; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _libs_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/libs/utils */ "./src/libs/utils/index.ts");



// Scroll的处理，导致Web上滚轮的方向是反的，因此需要处理
var useWheelHandle = function useWheelHandle() {
  var refScroll = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  var onWheelHandle = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (event) {
    var _refScroll$current;
    event.preventDefault();
    var deltaY = event.deltaY;
    (_refScroll$current = refScroll.current) === null || _refScroll$current === void 0 || _refScroll$current.scrollBy(0, -deltaY);
  }, []);
  var onInitScrollRefForWheel = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (el) {
    if (_libs_utils__WEBPACK_IMPORTED_MODULE_1__.isWeb) {
      if (refScroll.current) {
        refScroll.current.removeEventListener("wheel", onWheelHandle);
      }
      if (el) {
        refScroll.current = el;
        refScroll.current.addEventListener("wheel", onWheelHandle);
      }
    }
  }, []);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {
    return function () {
      if (_libs_utils__WEBPACK_IMPORTED_MODULE_1__.isWeb) {
        var _refScroll$current2;
        (_refScroll$current2 = refScroll.current) === null || _refScroll$current2 === void 0 || _refScroll$current2.removeEventListener("wheel", onWheelHandle);
      }
    };
  }, []);
  return {
    onInitScrollRefForWheel: onInitScrollRefForWheel
  };
};

/***/ }),

/***/ "./src/libs/ui-kit/atomic/spacing/index.tsx":
/*!**************************************************!*\
  !*** ./src/libs/ui-kit/atomic/spacing/index.tsx ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Spacing: function() { return /* binding */ Spacing; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectSpread2.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectSpread2.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/.pnpm/classnames@2.5.1/node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _tarojs_components__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @tarojs/components */ "./node_modules/.pnpm/@tarojs+plugin-platform-weapp@4.0.8_@tarojs+service@4.0.8_@swc+helpers@0.5.15__@tarojs+shared@4.0.8/node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js");
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/ui-kit/atomic/spacing/index.module.less");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");



var _excluded = ["className", "children", "gap", "vertical", "flex1", "horizontalCenter", "verticalCenter", "onClick", "width100", "height100", "style"];




var Spacing = function Spacing(_ref) {
  var className = _ref.className,
    children = _ref.children,
    gap = _ref.gap,
    vertical = _ref.vertical,
    flex1 = _ref.flex1,
    horizontalCenter = _ref.horizontalCenter,
    verticalCenter = _ref.verticalCenter,
    onClick = _ref.onClick,
    width100 = _ref.width100,
    height100 = _ref.height100,
    style = _ref.style,
    rest = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_3__["default"])(_ref, _excluded);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_4__.View, (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__["default"])({}, rest), {}, {
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()(_index_module_less__WEBPACK_IMPORTED_MODULE_1__["default"].spacing, (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_6__["default"])({}, _index_module_less__WEBPACK_IMPORTED_MODULE_1__["default"]["horizontal-center"], horizontalCenter), className),
    style: (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__["default"])({
      gap: gap,
      flexDirection: vertical ? "column" : "row",
      justifyContent: horizontalCenter ? "center" : undefined,
      alignItems: verticalCenter ? "center" : undefined,
      flex: flex1 ? 1 : undefined,
      width: width100 ? "100%" : undefined,
      height: height100 ? "100%" : undefined
    }, style),
    onClick: onClick,
    children: children
  }));
};

/***/ }),

/***/ "./src/libs/ui-kit/atomic/spinning/index.tsx":
/*!***************************************************!*\
  !*** ./src/libs/ui-kit/atomic/spinning/index.tsx ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Spinning: function() { return /* binding */ Spinning; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/.pnpm/classnames@2.5.1/node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _tarojs_components__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @tarojs/components */ "./node_modules/.pnpm/@tarojs+plugin-platform-weapp@4.0.8_@tarojs+service@4.0.8_@swc+helpers@0.5.15__@tarojs+shared@4.0.8/node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js");
/* harmony import */ var _svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../svg */ "./src/libs/ui-kit/atomic/svg/index.tsx");
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/ui-kit/atomic/spinning/index.module.less");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");






var Spinning = function Spinning(_ref) {
  var className = _ref.className,
    text = _ref.text,
    textClassName = _ref.textClassName,
    svgClassName = _ref.svgClassName,
    size = _ref.size;
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_tarojs_components__WEBPACK_IMPORTED_MODULE_4__.View, {
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()(_index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"].container, className, (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_5__["default"])({}, _index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"][size || 'medium'], true)),
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_svg__WEBPACK_IMPORTED_MODULE_1__.SvgLoading, {
      className: classnames__WEBPACK_IMPORTED_MODULE_0___default()(_index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"].svg, svgClassName)
    }), text ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_4__.Text, {
      className: classnames__WEBPACK_IMPORTED_MODULE_0___default()(_index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"].text, textClassName),
      children: text
    }) : null]
  });
};

/***/ }),

/***/ "./src/libs/ui-kit/atomic/svg/hooks/use-broom-svg.ts":
/*!***********************************************************!*\
  !*** ./src/libs/ui-kit/atomic/svg/hooks/use-broom-svg.ts ***!
  \***********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useBroomSvg: function() { return /* binding */ useBroomSvg; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _libs_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/libs/utils */ "./src/libs/utils/index.ts");


var svgStyleMap = {
  dark: {
    fill: "#060709",
    fillOpacity: "0.8"
  },
  light: {
    fill: "#FFF",
    fillOpacity: "1.0"
  }
};
var getSvgRaw = function getSvgRaw(color) {
  return "<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\">\n<path d=\"M7.50033 1.66667V5L3.33366 5C2.41318 5 1.66699 5.74619 1.66699 6.66667V17.5C1.66699 18.4205 2.41318 19.1667 3.33366 19.1667H16.667C17.5875 19.1667 18.3337 18.4205 18.3337 17.5V6.66667C18.3337 5.74619 17.5875 5 16.667 5L12.5003 5V1.66667C12.5003 0.746192 11.7541 0 10.8337 0H9.16699C8.24652 0 7.50033 0.746192 7.50033 1.66667ZM10.8337 1.66667V6.66667H16.667V10H3.33366V6.66667H9.16699V1.66667H10.8337ZM3.33366 11.6667H16.667V17.5H7.50033V15C7.50033 14.5398 7.12723 14.1667 6.66699 14.1667C6.20676 14.1667 5.83366 14.5398 5.83366 15V17.5H3.33366L3.33366 11.6667Z\"  fill=\"".concat(color.fill, "\" fill-opacity=\"").concat(color.fillOpacity, "\"/>\n</svg>");
};
var useBroomSvg = function useBroomSvg(props) {
  var color = props.theme === "light" ? svgStyleMap.light : svgStyleMap.dark;
  var svgData = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {
    return (0,_libs_utils__WEBPACK_IMPORTED_MODULE_1__.getSvgBase64)(getSvgRaw(color));
  }, [color]);
  return svgData;
};

/***/ }),

/***/ "./src/libs/ui-kit/atomic/svg/hooks/use-copy.svg.ts":
/*!**********************************************************!*\
  !*** ./src/libs/ui-kit/atomic/svg/hooks/use-copy.svg.ts ***!
  \**********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useCopySvg: function() { return /* binding */ useCopySvg; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _libs_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/libs/utils */ "./src/libs/utils/index.ts");


var svgStyleMap = {
  dark: {
    fill: "#202945",
    fillOpacity: "0.62"
  },
  light: {
    fill: "#FFF",
    fillOpacity: "1.0"
  },
  "gray-bold": {
    fill: "#1C1D23",
    fillOpacity: "1"
  }
};
var getSvgRaw = function getSvgRaw(color) {
  return "<svg class=\"icon-icon icon-icon-coz_copy !coz-fg-images-white w-[14px] h-[14px]\" width=\"1em\" height=\"1em\" viewBox=\"0 0 24 24\" fill=\"".concat(color.fill, "\" fill-opacity=\"").concat(color.fillOpacity, "\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M9 3C9 2.44772 9.44772 2 10 2H20C20.5523 2 21 2.44772 21 3V15C21 15.5523 20.5523 16 20 16C19.4477 16 19 15.5523 19 15V4H10C9.44771 4 9 3.55228 9 3Z\"></path><path d=\"M5 6C3.89543 6 3 6.89543 3 8V20C3 21.1046 3.89543 22 5 22H15C16.1046 22 17 21.1046 17 20V8C17 6.89543 16.1046 6 15 6H5ZM5 8H15V20H5L5 8Z\"></path></svg>");
};
var useCopySvg = function useCopySvg(props) {
  var color = props.theme && svgStyleMap[props.theme] || svgStyleMap.dark;
  var svgData = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {
    return (0,_libs_utils__WEBPACK_IMPORTED_MODULE_1__.getSvgBase64)(getSvgRaw(color));
  }, [color]);
  return svgData;
};

/***/ }),

/***/ "./src/libs/ui-kit/atomic/svg/hooks/use-feishu-svg.ts":
/*!************************************************************!*\
  !*** ./src/libs/ui-kit/atomic/svg/hooks/use-feishu-svg.ts ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useFeishuSvg: function() { return /* binding */ useFeishuSvg; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _libs_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/libs/utils */ "./src/libs/utils/index.ts");


var svgStyleMap = {
  dark: {
    fill: "rgba(78, 64, 229, 1)",
    fillOpacity: "1.0"
  },
  light: {
    fill: "#060709",
    fillOpacity: "0.5"
  }
};
var getSvgRaw = function getSvgRaw(color) {
  return "<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\">\n<path d=\"M17.8466 11.0966C18.2468 10.8785 18.4972 10.4593 18.4972 10.0003C18.4972 9.54132 18.2468 9.12405 17.8466 8.90593L3.33322 1.04799C2.9463 0.837464 2.4892 0.846947 2.10987 1.07265C1.73053 1.29836 1.50293 1.69856 1.50293 2.14238L3.10421 8.39673L9.91228 9.39337C10.3025 9.39337 10.6178 9.66459 10.6178 10.0003C10.6178 10.336 10.3025 10.6072 9.91228 10.6072C6.07554 11.1697 3.80709 11.4996 3.10692 11.5971L1.50293 17.8582C1.50293 18.3021 1.73053 18.7023 2.10987 18.9299C2.4892 19.1556 2.9463 19.1651 3.33322 18.9545L17.8466 11.0966Z\" fill=\"".concat(color.fill, "\" fill-opacity=\"").concat(color.fillOpacity, "\"/>\n</svg>\n");
};
var useFeishuSvg = function useFeishuSvg(props) {
  var color = props.theme === "light" ? svgStyleMap.light : svgStyleMap.dark;
  var svgData = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {
    return (0,_libs_utils__WEBPACK_IMPORTED_MODULE_1__.getSvgBase64)(getSvgRaw(color));
  }, [color]);
  return svgData;
};

/***/ }),

/***/ "./src/libs/ui-kit/atomic/svg/index.tsx":
/*!**********************************************!*\
  !*** ./src/libs/ui-kit/atomic/svg/index.tsx ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SvgArrowUp: function() { return /* binding */ SvgArrowUp; },
/* harmony export */   SvgBroom: function() { return /* binding */ SvgBroom; },
/* harmony export */   SvgCamera: function() { return /* binding */ SvgCamera; },
/* harmony export */   SvgCancel: function() { return /* binding */ SvgCancel; },
/* harmony export */   SvgCheckMark: function() { return /* binding */ SvgCheckMark; },
/* harmony export */   SvgClose: function() { return /* binding */ SvgClose; },
/* harmony export */   SvgConversation: function() { return /* binding */ SvgConversation; },
/* harmony export */   SvgCopy: function() { return /* binding */ SvgCopy; },
/* harmony export */   SvgError: function() { return /* binding */ SvgError; },
/* harmony export */   SvgErrorFill: function() { return /* binding */ SvgErrorFill; },
/* harmony export */   SvgFeishu: function() { return /* binding */ SvgFeishu; },
/* harmony export */   SvgFileType: function() { return /* binding */ SvgFileType; },
/* harmony export */   SvgImage: function() { return /* binding */ SvgImage; },
/* harmony export */   SvgInfo: function() { return /* binding */ SvgInfo; },
/* harmony export */   SvgKeyboard: function() { return /* binding */ SvgKeyboard; },
/* harmony export */   SvgLoading: function() { return /* binding */ SvgLoading; },
/* harmony export */   SvgMicrophone: function() { return /* binding */ SvgMicrophone; },
/* harmony export */   SvgPlusCircle: function() { return /* binding */ SvgPlusCircle; },
/* harmony export */   SvgSuccessFill: function() { return /* binding */ SvgSuccessFill; },
/* harmony export */   SvgWarn: function() { return /* binding */ SvgWarn; }
/* harmony export */ });
/* unused harmony exports Svg, SvgAudioArrowUp */
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectSpread2.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectSpread2.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/.pnpm/classnames@2.5.1/node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _tarojs_components__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! @tarojs/components */ "./node_modules/.pnpm/@tarojs+plugin-platform-weapp@4.0.8_@tarojs+service@4.0.8_@swc+helpers@0.5.15__@tarojs+shared@4.0.8/node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js");
/* harmony import */ var _libs_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/libs/types */ "./src/libs/types/index.ts");
/* harmony import */ var _assets_svg_warn_svg__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../assets/svg/warn.svg */ "./src/libs/ui-kit/assets/svg/warn.svg");
/* harmony import */ var _assets_svg_plus_svg__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../assets/svg/plus.svg */ "./src/libs/ui-kit/assets/svg/plus.svg");
/* harmony import */ var _assets_svg_loading_svg__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../assets/svg/loading.svg */ "./src/libs/ui-kit/assets/svg/loading.svg");
/* harmony import */ var _assets_svg_image_svg__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../assets/svg/image.svg */ "./src/libs/ui-kit/assets/svg/image.svg");
/* harmony import */ var _assets_svg_file_type_zip_svg__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../assets/svg/file-type/zip.svg */ "./src/libs/ui-kit/assets/svg/file-type/zip.svg");
/* harmony import */ var _assets_svg_file_type_xlsx_svg__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../assets/svg/file-type/xlsx.svg */ "./src/libs/ui-kit/assets/svg/file-type/xlsx.svg");
/* harmony import */ var _assets_svg_file_type_video_svg__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../assets/svg/file-type/video.svg */ "./src/libs/ui-kit/assets/svg/file-type/video.svg");
/* harmony import */ var _assets_svg_file_type_txt_svg__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../assets/svg/file-type/txt.svg */ "./src/libs/ui-kit/assets/svg/file-type/txt.svg");
/* harmony import */ var _assets_svg_file_type_pptx_svg__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../assets/svg/file-type/pptx.svg */ "./src/libs/ui-kit/assets/svg/file-type/pptx.svg");
/* harmony import */ var _assets_svg_file_type_pdf_svg__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../assets/svg/file-type/pdf.svg */ "./src/libs/ui-kit/assets/svg/file-type/pdf.svg");
/* harmony import */ var _assets_svg_file_type_other_svg__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../assets/svg/file-type/other.svg */ "./src/libs/ui-kit/assets/svg/file-type/other.svg");
/* harmony import */ var _assets_svg_file_type_docx_svg__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../assets/svg/file-type/docx.svg */ "./src/libs/ui-kit/assets/svg/file-type/docx.svg");
/* harmony import */ var _assets_svg_file_type_csv_svg__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../assets/svg/file-type/csv.svg */ "./src/libs/ui-kit/assets/svg/file-type/csv.svg");
/* harmony import */ var _assets_svg_file_type_code_svg__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../assets/svg/file-type/code.svg */ "./src/libs/ui-kit/assets/svg/file-type/code.svg");
/* harmony import */ var _assets_svg_file_type_audio_svg__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../assets/svg/file-type/audio.svg */ "./src/libs/ui-kit/assets/svg/file-type/audio.svg");
/* harmony import */ var _assets_svg_camera_svg__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../assets/svg/camera.svg */ "./src/libs/ui-kit/assets/svg/camera.svg");
/* harmony import */ var _assets_svg_error_svg__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../assets/svg/error.svg */ "./src/libs/ui-kit/assets/svg/error.svg");
/* harmony import */ var _assets_svg_close_svg__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../assets/svg/close.svg */ "./src/libs/ui-kit/assets/svg/close.svg");
/* harmony import */ var _assets_svg_error_fill_svg__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../assets/svg/error-fill.svg */ "./src/libs/ui-kit/assets/svg/error-fill.svg");
/* harmony import */ var _assets_svg_success_fill_svg__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../assets/svg/success-fill.svg */ "./src/libs/ui-kit/assets/svg/success-fill.svg");
/* harmony import */ var _assets_svg_check_mark_svg__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../assets/svg/check-mark.svg */ "./src/libs/ui-kit/assets/svg/check-mark.svg");
/* harmony import */ var _assets_svg_arrow_up_svg__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../assets/svg/arrow-up.svg */ "./src/libs/ui-kit/assets/svg/arrow-up.svg");
/* harmony import */ var _assets_imgs_keyboard_png__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../assets/imgs/keyboard.png */ "./src/libs/ui-kit/assets/imgs/keyboard.png");
/* harmony import */ var _assets_svg_microphone_svg__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../assets/svg/microphone.svg */ "./src/libs/ui-kit/assets/svg/microphone.svg");
/* harmony import */ var _assets_svg_info_svg__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../assets/svg/info.svg */ "./src/libs/ui-kit/assets/svg/info.svg");
/* harmony import */ var _assets_imgs_cancel_png__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../assets/imgs/cancel.png */ "./src/libs/ui-kit/assets/imgs/cancel.png");
/* harmony import */ var _assets_imgs_arrow_up_png__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../assets/imgs/arrow-up.png */ "./src/libs/ui-kit/assets/imgs/arrow-up.png");
/* harmony import */ var _assets_svg_conversation_svg__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../assets/svg/conversation.svg */ "./src/libs/ui-kit/assets/svg/conversation.svg");
/* harmony import */ var _hooks_use_broom_svg__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./hooks/use-broom-svg */ "./src/libs/ui-kit/atomic/svg/hooks/use-broom-svg.ts");
/* harmony import */ var _hooks_use_copy_svg__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./hooks/use-copy.svg */ "./src/libs/ui-kit/atomic/svg/hooks/use-copy.svg.ts");
/* harmony import */ var _hooks_use_feishu_svg__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./hooks/use-feishu-svg */ "./src/libs/ui-kit/atomic/svg/hooks/use-feishu-svg.ts");
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/ui-kit/atomic/svg/index.module.less");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");



var _FILE_SVG_MAP;
var _excluded = ["src", "className"],
  _excluded2 = ["className"],
  _excluded3 = ["type"];




































var Svg = function Svg(_ref) {
  var src = _ref.src,
    className = _ref.className,
    rest = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_35__["default"])(_ref, _excluded);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_34__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_36__.Image, (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_37__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_37__["default"])({}, rest), {}, {
    src: src,
    svg: true,
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()(_index_module_less__WEBPACK_IMPORTED_MODULE_33__["default"].svg, className)
  }));
};
var SvgLoading = function SvgLoading(props) {
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_34__.jsx)(Svg, (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_37__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_37__["default"])({}, props), {}, {
    src: _assets_svg_loading_svg__WEBPACK_IMPORTED_MODULE_4__
  }));
};
var SvgBroom = function SvgBroom(props) {
  var svgRaw = (0,_hooks_use_broom_svg__WEBPACK_IMPORTED_MODULE_30__.useBroomSvg)(props);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_34__.jsx)(Svg, (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_37__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_37__["default"])({}, props), {}, {
    src: svgRaw
  }));
};
var SvgConversation = function SvgConversation(props) {
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_34__.jsx)(Svg, (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_37__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_37__["default"])({}, props), {}, {
    src: _assets_svg_conversation_svg__WEBPACK_IMPORTED_MODULE_29__
  }));
};
var SvgFeishu = function SvgFeishu(props) {
  var svgRaw = (0,_hooks_use_feishu_svg__WEBPACK_IMPORTED_MODULE_32__.useFeishuSvg)(props);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_34__.jsx)(Svg, (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_37__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_37__["default"])({}, props), {}, {
    src: svgRaw
  }));
};
var SvgPlusCircle = function SvgPlusCircle(_ref2) {
  var className = _ref2.className,
    props = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_35__["default"])(_ref2, _excluded2);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_34__.jsx)(Svg, (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_37__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_37__["default"])({}, props), {}, {
    src: _assets_svg_plus_svg__WEBPACK_IMPORTED_MODULE_3__,
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()(_index_module_less__WEBPACK_IMPORTED_MODULE_33__["default"].circle, className)
  }));
};
var SvgImage = function SvgImage(props) {
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_34__.jsx)(Svg, (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_37__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_37__["default"])({}, props), {}, {
    src: _assets_svg_image_svg__WEBPACK_IMPORTED_MODULE_5__
  }));
};
var SvgCamera = function SvgCamera(props) {
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_34__.jsx)(Svg, (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_37__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_37__["default"])({}, props), {}, {
    src: _assets_svg_camera_svg__WEBPACK_IMPORTED_MODULE_17__
  }));
};
var SvgWarn = function SvgWarn(props) {
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_34__.jsx)(Svg, (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_37__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_37__["default"])({}, props), {}, {
    src: _assets_svg_warn_svg__WEBPACK_IMPORTED_MODULE_2__
  }));
};
var SvgError = function SvgError(props) {
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_34__.jsx)(Svg, (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_37__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_37__["default"])({}, props), {}, {
    src: _assets_svg_error_svg__WEBPACK_IMPORTED_MODULE_18__
  }));
};
var SvgClose = function SvgClose(props) {
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_34__.jsx)(Svg, (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_37__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_37__["default"])({}, props), {}, {
    src: _assets_svg_close_svg__WEBPACK_IMPORTED_MODULE_19__
  }));
};
var SvgErrorFill = function SvgErrorFill(props) {
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_34__.jsx)(Svg, (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_37__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_37__["default"])({}, props), {}, {
    src: _assets_svg_error_fill_svg__WEBPACK_IMPORTED_MODULE_20__
  }));
};
var SvgSuccessFill = function SvgSuccessFill(props) {
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_34__.jsx)(Svg, (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_37__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_37__["default"])({}, props), {}, {
    src: _assets_svg_success_fill_svg__WEBPACK_IMPORTED_MODULE_21__
  }));
};
var SvgCheckMark = function SvgCheckMark(props) {
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_34__.jsx)(Svg, (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_37__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_37__["default"])({}, props), {}, {
    src: _assets_svg_check_mark_svg__WEBPACK_IMPORTED_MODULE_22__
  }));
};
var SvgArrowUp = function SvgArrowUp(props) {
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_34__.jsx)(Svg, (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_37__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_37__["default"])({}, props), {}, {
    src: _assets_svg_arrow_up_svg__WEBPACK_IMPORTED_MODULE_23__
  }));
};
var SvgInfo = function SvgInfo(props) {
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_34__.jsx)(Svg, (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_37__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_37__["default"])({}, props), {}, {
    src: _assets_svg_info_svg__WEBPACK_IMPORTED_MODULE_26__
  }));
};
var SvgKeyboard = function SvgKeyboard(props) {
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_34__.jsx)(Svg, (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_37__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_37__["default"])({}, props), {}, {
    src: _assets_imgs_keyboard_png__WEBPACK_IMPORTED_MODULE_24__
  }));
};
var SvgMicrophone = function SvgMicrophone(props) {
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_34__.jsx)(Svg, (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_37__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_37__["default"])({}, props), {}, {
    src: _assets_svg_microphone_svg__WEBPACK_IMPORTED_MODULE_25__
  }));
};
var SvgCopy = function SvgCopy(props) {
  var svgRaw = (0,_hooks_use_copy_svg__WEBPACK_IMPORTED_MODULE_31__.useCopySvg)(props);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_34__.jsx)(Svg, (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_37__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_37__["default"])({}, props), {}, {
    src: svgRaw
  }));
};
var SvgAudioArrowUp = function SvgAudioArrowUp(props) {
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_34__.jsx)(Svg, (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_37__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_37__["default"])({}, props), {}, {
    src: _assets_imgs_arrow_up_png__WEBPACK_IMPORTED_MODULE_28__
  }));
};
var SvgCancel = function SvgCancel(props) {
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_34__.jsx)(Svg, (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_37__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_37__["default"])({}, props), {}, {
    src: _assets_imgs_cancel_png__WEBPACK_IMPORTED_MODULE_27__
  }));
};
var FILE_SVG_MAP = (_FILE_SVG_MAP = {}, (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_38__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_38__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_38__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_38__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_38__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_38__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_38__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_38__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_38__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_38__["default"])(_FILE_SVG_MAP, _libs_types__WEBPACK_IMPORTED_MODULE_1__.FileTypeEnum.AUDIO, _assets_svg_file_type_audio_svg__WEBPACK_IMPORTED_MODULE_16__), _libs_types__WEBPACK_IMPORTED_MODULE_1__.FileTypeEnum.VIDEO, _assets_svg_file_type_video_svg__WEBPACK_IMPORTED_MODULE_8__), _libs_types__WEBPACK_IMPORTED_MODULE_1__.FileTypeEnum.ZIP, _assets_svg_file_type_zip_svg__WEBPACK_IMPORTED_MODULE_6__), _libs_types__WEBPACK_IMPORTED_MODULE_1__.FileTypeEnum.PDF, _assets_svg_file_type_pdf_svg__WEBPACK_IMPORTED_MODULE_11__), _libs_types__WEBPACK_IMPORTED_MODULE_1__.FileTypeEnum.DOCX, _assets_svg_file_type_docx_svg__WEBPACK_IMPORTED_MODULE_13__), _libs_types__WEBPACK_IMPORTED_MODULE_1__.FileTypeEnum.EXCEL, _assets_svg_file_type_xlsx_svg__WEBPACK_IMPORTED_MODULE_7__), _libs_types__WEBPACK_IMPORTED_MODULE_1__.FileTypeEnum.CSV, _assets_svg_file_type_csv_svg__WEBPACK_IMPORTED_MODULE_14__), _libs_types__WEBPACK_IMPORTED_MODULE_1__.FileTypeEnum.PPT, _assets_svg_file_type_pptx_svg__WEBPACK_IMPORTED_MODULE_10__), _libs_types__WEBPACK_IMPORTED_MODULE_1__.FileTypeEnum.TXT, _assets_svg_file_type_txt_svg__WEBPACK_IMPORTED_MODULE_9__), _libs_types__WEBPACK_IMPORTED_MODULE_1__.FileTypeEnum.CODE, _assets_svg_file_type_code_svg__WEBPACK_IMPORTED_MODULE_15__), (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_38__["default"])(_FILE_SVG_MAP, _libs_types__WEBPACK_IMPORTED_MODULE_1__.FileTypeEnum.DEFAULT_UNKNOWN, _assets_svg_file_type_other_svg__WEBPACK_IMPORTED_MODULE_12__));
var SvgFileType = function SvgFileType(_ref3) {
  var type = _ref3.type,
    rest = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_35__["default"])(_ref3, _excluded3);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_34__.jsx)(Svg, (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_37__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_37__["default"])({}, rest), {}, {
    src: FILE_SVG_MAP[type]
  }));
};

/***/ }),

/***/ "./src/libs/ui-kit/atomic/toast/index.tsx":
/*!************************************************!*\
  !*** ./src/libs/ui-kit/atomic/toast/index.tsx ***!
  \************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Toast: function() { return /* binding */ Toast; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var _tarojs_components__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @tarojs/components */ "./node_modules/.pnpm/@tarojs+plugin-platform-weapp@4.0.8_@tarojs+service@4.0.8_@swc+helpers@0.5.15__@tarojs+shared@4.0.8/node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js");
/* harmony import */ var _spacing__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../spacing */ "./src/libs/ui-kit/atomic/spacing/index.tsx");
/* harmony import */ var _svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../svg */ "./src/libs/ui-kit/atomic/svg/index.tsx");
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/ui-kit/atomic/toast/index.module.less");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! classnames */ "./node_modules/.pnpm/classnames@2.5.1/node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");







var SvgMap = {
  success: _svg__WEBPACK_IMPORTED_MODULE_1__.SvgSuccessFill,
  error: _svg__WEBPACK_IMPORTED_MODULE_1__.SvgErrorFill,
  none: null
};
var Toast = function Toast(_ref) {
  var children = _ref.children,
    onClose = _ref.onClose,
    className = _ref.className,
    _ref$icon = _ref.icon,
    icon = _ref$icon === void 0 ? "none" : _ref$icon,
    _ref$isNeedClose = _ref.isNeedClose,
    isNeedClose = _ref$isNeedClose === void 0 ? true : _ref$isNeedClose;
  var Icon = SvgMap[icon];
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(_spacing__WEBPACK_IMPORTED_MODULE_0__.Spacing, {
    verticalCenter: true,
    horizontalCenter: true,
    className: classnames__WEBPACK_IMPORTED_MODULE_3___default()(_index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"].container, (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_5__["default"])({}, _index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"][icon], icon), className),
    gap: 12,
    children: [Icon ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Icon, {
      className: _index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"].icon
    }) : null, /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_6__.View, {
      className: _index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"].content,
      children: children
    }), isNeedClose ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_svg__WEBPACK_IMPORTED_MODULE_1__.SvgClose, {
      onClick: onClose
    }) : null]
  });
};

/***/ }),

/***/ "./src/libs/ui-kit/atomic/tooltip/index.tsx":
/*!**************************************************!*\
  !*** ./src/libs/ui-kit/atomic/tooltip/index.tsx ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Tooltip: function() { return /* binding */ Tooltip; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/slicedToArray.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var _tarojs_components__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @tarojs/components */ "./node_modules/.pnpm/@tarojs+plugin-platform-weapp@4.0.8_@tarojs+service@4.0.8_@swc+helpers@0.5.15__@tarojs+shared@4.0.8/node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/.pnpm/classnames@2.5.1/node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/ui-kit/atomic/tooltip/index.module.less");
/* harmony import */ var _libs_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/libs/utils */ "./src/libs/utils/index.ts");
/* harmony import */ var _tarojs_taro__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @tarojs/taro */ "./node_modules/.pnpm/@tarojs+taro@4.0.8_@tarojs+components@4.0.8_@tarojs+helper@4.0.8_@swc+helpers@0.5.15__@_28b4aa939e10f4882a0917541e7336fe/node_modules/@tarojs/taro/index.js");
/* harmony import */ var _tarojs_taro__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_tarojs_taro__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _libs_types__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/libs/types */ "./src/libs/types/index.ts");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");
/* provided dependency */ var document = __webpack_require__(/*! @tarojs/runtime */ "./node_modules/.pnpm/@tarojs+runtime@4.0.8/node_modules/@tarojs/runtime/dist/index.js")["document"];










var toolTipId = 1000;
var toolTipEvent = new (_tarojs_taro__WEBPACK_IMPORTED_MODULE_4___default().Events)();
var clickToolTipEvent = "click_tooltip";
var Tooltip = function Tooltip(_ref) {
  var children = _ref.children,
    content = _ref.content,
    _ref$type = _ref.type,
    type = _ref$type === void 0 ? "hover" : _ref$type,
    isActive = _ref.isActive,
    _ref$direction = _ref.direction,
    direction = _ref$direction === void 0 ? "bottom" : _ref$direction;
  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false),
    _useState2 = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_7__["default"])(_useState, 2),
    isShow = _useState2[0],
    setIsShow = _useState2[1];
  var containerId = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {
    return "tooltip_".concat(toolTipId++);
  }, []);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {
    var onHideToolTip = function onHideToolTip() {
      setIsShow(false);
    };
    var onClickToolTipHandler = function onClickToolTipHandler(_ref2) {
      var id = _ref2.id;
      if (id !== containerId) {
        setIsShow(false);
      }
    };
    if (_libs_utils__WEBPACK_IMPORTED_MODULE_3__.isWeb) {
      document.addEventListener("click", onHideToolTip);
    }
    toolTipEvent.on(clickToolTipEvent, onClickToolTipHandler);
    _tarojs_taro__WEBPACK_IMPORTED_MODULE_4___default().eventCenter.on(_libs_types__WEBPACK_IMPORTED_MODULE_5__.UIEventType.FrameClick, onHideToolTip);
    return function () {
      if (_libs_utils__WEBPACK_IMPORTED_MODULE_3__.isWeb) {
        document.removeEventListener("click", onHideToolTip);
      }
      toolTipEvent.off(clickToolTipEvent, onClickToolTipHandler);
      _tarojs_taro__WEBPACK_IMPORTED_MODULE_4___default().eventCenter.off(_libs_types__WEBPACK_IMPORTED_MODULE_5__.UIEventType.FrameClick, onHideToolTip);
    };
  }, []);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(_tarojs_components__WEBPACK_IMPORTED_MODULE_8__.View, {
    id: containerId,
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(_index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"].tooltip, (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_9__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_9__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_9__["default"])({}, _index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"].hover, type === "hover" && isActive), _index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"].click, type !== "hover" && isActive), _index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"][direction], !!_index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"][direction])),
    onLongPress: function onLongPress() {
      if (isActive) {
        setIsShow(true);
        toolTipEvent.trigger(clickToolTipEvent, {
          id: containerId
        });
      }
    },
    onClick: function onClick(event) {
      if (isActive) {
        event.stopPropagation();
        setIsShow(true);
        toolTipEvent.trigger(clickToolTipEvent, {
          id: containerId
        });
      }
    },
    children: [children, isActive ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_8__.View, {
      className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(_index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"].content, (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_9__["default"])({}, _index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"].show, isShow)),
      children: content
    }) : null]
  });
};

/***/ }),

/***/ "./src/libs/ui-kit/atomic/upload/index.tsx":
/*!*************************************************!*\
  !*** ./src/libs/ui-kit/atomic/upload/index.tsx ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Upload: function() { return /* binding */ Upload; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _libs_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/libs/types */ "./src/libs/types/index.ts");
/* harmony import */ var _libs_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/libs/utils */ "./src/libs/utils/index.ts");
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/ui-kit/atomic/upload/index.module.less");
/* harmony import */ var _tarojs_taro__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @tarojs/taro */ "./node_modules/.pnpm/@tarojs+taro@4.0.8_@tarojs+components@4.0.8_@tarojs+helper@4.0.8_@swc+helpers@0.5.15__@_28b4aa939e10f4882a0917541e7336fe/node_modules/@tarojs/taro/index.js");
/* harmony import */ var _tarojs_taro__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_tarojs_taro__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _tarojs_components__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @tarojs/components */ "./node_modules/.pnpm/@tarojs+plugin-platform-weapp@4.0.8_@tarojs+service@4.0.8_@swc+helpers@0.5.15__@tarojs+shared@4.0.8/node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");
/* provided dependency */ var URL = __webpack_require__(/*! @tarojs/runtime */ "./node_modules/.pnpm/@tarojs+runtime@4.0.8/node_modules/@tarojs/runtime/dist/index.js")["URL"];










var Upload = function Upload(_ref) {
  var children = _ref.children,
    accept = _ref.accept,
    onChooseFile = _ref.onChooseFile,
    frameEventTarget = _ref.frameEventTarget;
  var ref = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  var onWebInputFileChange = function onWebInputFileChange(e) {
    var files = e.target.files;
    if (onChooseFile) {
      if (files && files.length > 0) {
        var fileInfos = [];
        var _iterator = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_6__["default"])(files),
          _step;
        try {
          for (_iterator.s(); !(_step = _iterator.n()).done;) {
            var file = _step.value;
            var fileType = (0,_libs_utils__WEBPACK_IMPORTED_MODULE_2__.getFileTypeByFile)(file);
            fileInfos.push({
              from: "H5_Input_Chooser",
              type: fileType,
              size: file.size,
              file: file,
              tempFilePath: URL.createObjectURL(file)
            });
          }
        } catch (err) {
          _iterator.e(err);
        } finally {
          _iterator.f();
        }
        onChooseFile === null || onChooseFile === void 0 || onChooseFile(fileInfos);
      } else {
        // 没有选中文件
      }
    }
    e.target.value = "";
  };
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(_tarojs_components__WEBPACK_IMPORTED_MODULE_7__.View, {
    className: _index_module_less__WEBPACK_IMPORTED_MODULE_3__["default"].container,
    children: [_libs_utils__WEBPACK_IMPORTED_MODULE_2__.isWeb && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("input", {
      type: "file",
      multiple: false,
      accept: accept,
      autoComplete: "off",
      tabIndex: -1,
      className: _index_module_less__WEBPACK_IMPORTED_MODULE_3__["default"].input,
      onChange: onWebInputFileChange,
      ref: ref
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_7__.View, {
      onClick: /*#__PURE__*/(0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__["default"])(/*#__PURE__*/(0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_9__["default"])().mark(function _callee() {
        var _ref$current, _ref$current$click;
        return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_9__["default"])().wrap(function _callee$(_context) {
          while (1) switch (_context.prev = _context.next) {
            case 0:
              if (_libs_utils__WEBPACK_IMPORTED_MODULE_2__.isWeb) {
                if (ref.current) {
                  (_ref$current = ref.current) === null || _ref$current === void 0 || (_ref$current$click = _ref$current.click) === null || _ref$current$click === void 0 || _ref$current$click.call(_ref$current);
                }
              } else {
                try {
                  _tarojs_taro__WEBPACK_IMPORTED_MODULE_4___default().chooseMedia({
                    count: 1,
                    mediaType: ["image"],
                    sizeType: ["original", "compressed"],
                    sourceType: ["album", "camera"],
                    success: function success(res) {
                      _libs_utils__WEBPACK_IMPORTED_MODULE_2__.logger.debug("chooseMedia success:", res);
                      var fileInfos = res.tempFiles.map(function (item) {
                        return {
                          from: "Taro_Image_Chooser",
                          type:
                          // @ts-expect-error -- linter-disable-autofix
                          item.fileType === "image" || item.mediaType === "image" ? _libs_types__WEBPACK_IMPORTED_MODULE_1__.FileTypeEnum.IMAGE : _libs_types__WEBPACK_IMPORTED_MODULE_1__.FileTypeEnum.VIDEO,
                          size: item.size,
                          tempFilePath: item.tempFilePath,
                          file: {
                            filePath: item.tempFilePath
                          }
                        };
                      });
                      onChooseFile === null || onChooseFile === void 0 || onChooseFile(fileInfos);
                    },
                    fail: function fail(res) {
                      _libs_utils__WEBPACK_IMPORTED_MODULE_2__.logger.error("chooseMedia fail:", res);
                      if (res.errMsg.includes("cancel")) {
                        return;
                      } else {
                        (0,_libs_utils__WEBPACK_IMPORTED_MODULE_2__.showToast)({
                          content: "\u9009\u62E9\u6587\u4EF6\u5931\u8D25: ".concat(res.errMsg),
                          icon: "error"
                        }, frameEventTarget);
                      }
                    }
                  });
                } catch (error) {
                  _libs_utils__WEBPACK_IMPORTED_MODULE_2__.logger.error("chooseMedia error:", error);
                }
              }
            case 1:
            case "end":
              return _context.stop();
          }
        }, _callee);
      })),
      children: children
    })]
  });
};

/***/ }),

/***/ "./src/libs/ui-kit/atomic/waiting/index.tsx":
/*!**************************************************!*\
  !*** ./src/libs/ui-kit/atomic/waiting/index.tsx ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Waiting: function() { return /* binding */ Waiting; }
/* harmony export */ });
/* harmony import */ var _tarojs_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @tarojs/components */ "./node_modules/.pnpm/@tarojs+plugin-platform-weapp@4.0.8_@tarojs+service@4.0.8_@swc+helpers@0.5.15__@tarojs+shared@4.0.8/node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js");
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/ui-kit/atomic/waiting/index.module.less");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");



var Waiting = function Waiting() {
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_2__.View, {
    className: _index_module_less__WEBPACK_IMPORTED_MODULE_0__["default"].container
  });
};

/***/ }),

/***/ "./src/libs/ui-kit/chat-input/audio-input/index.tsx":
/*!**********************************************************!*\
  !*** ./src/libs/ui-kit/chat-input/audio-input/index.tsx ***!
  \**********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AudioInput: function() { return /* binding */ AudioInput; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/slicedToArray.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _atomic_audio_input__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../atomic/audio-input */ "./src/libs/ui-kit/atomic/audio-input/index.tsx");
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/ui-kit/chat-input/audio-input/index.module.less");
/* harmony import */ var _tarojs_components__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @tarojs/components */ "./node_modules/.pnpm/@tarojs+plugin-platform-weapp@4.0.8_@tarojs+service@4.0.8_@swc+helpers@0.5.15__@tarojs+shared@4.0.8/node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! classnames */ "./node_modules/.pnpm/classnames@2.5.1/node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _atomic_audio_wave__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../atomic/audio-wave */ "./src/libs/ui-kit/atomic/audio-wave/index.tsx");
/* harmony import */ var _libs_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/libs/utils */ "./src/libs/utils/index.ts");
/* harmony import */ var _tarojs_taro__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @tarojs/taro */ "./node_modules/.pnpm/@tarojs+taro@4.0.8_@tarojs+components@4.0.8_@tarojs+helper@4.0.8_@swc+helpers@0.5.15__@_28b4aa939e10f4882a0917541e7336fe/node_modules/@tarojs/taro/index.js");
/* harmony import */ var _tarojs_taro__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_tarojs_taro__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _libs_hooks__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/libs/hooks */ "./src/libs/hooks/index.ts");
/* harmony import */ var _permission_deny__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./permission-deny */ "./src/libs/ui-kit/chat-input/audio-input/permission-deny/index.tsx");
/* harmony import */ var _libs_provider__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/libs/provider */ "./src/libs/provider/index.tsx");
/* harmony import */ var _atomic_spacing__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../atomic/spacing */ "./src/libs/ui-kit/atomic/spacing/index.tsx");
/* harmony import */ var _atomic_svg__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../atomic/svg */ "./src/libs/ui-kit/atomic/svg/index.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");
















var maxTime = 50;
var AudioTips = function AudioTips(_ref) {
  var isTouching = _ref.isTouching,
    isOutside = _ref.isOutside,
    leftDuration = _ref.leftDuration,
    triggerType = _ref.triggerType;
  var i18n = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_9__.useI18n)();
  var text = "";
  var tipType = "touching-tips";
  if (isTouching) {
    tipType = "touching-tips";
    if (triggerType === "keyboard") {
      text = i18n.t("audioInputTooltipSend");
    } else {
      text = i18n.t("audioInputTooltipTouching");
    }
  }
  if (leftDuration && leftDuration <= 10) {
    tipType = "time-limit-tips";
    text = i18n.t("audioInputTooltipTick", {
      duration: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)(_tarojs_components__WEBPACK_IMPORTED_MODULE_13__.Text, {
        className: _index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"]["left-duration"],
        children: [leftDuration, " \u02DD"]
      })
    }); //`${leftDuration}˝ 后自动结束录制并发送`;
  }
  if (isTouching && isOutside) {
    tipType = "outside-tips";
    text = i18n.t("audioInputTooltipCancel");
  }
  if (!text) {
    return null;
  }
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)(_atomic_spacing__WEBPACK_IMPORTED_MODULE_10__.Spacing, {
    verticalCenter: true,
    horizontalCenter: true,
    gap: 4,
    className: classnames__WEBPACK_IMPORTED_MODULE_3___default()(_index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"]["tips-container"], (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_14__["default"])({}, _index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"][tipType], true)),
    children: [tipType === "outside-tips" ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_atomic_svg__WEBPACK_IMPORTED_MODULE_11__.SvgCancel, {}) : null, /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_13__.Text, {
      className: _index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"]["tips-text"],
      overflow: "ellipsis",
      numberOfLines: 1,
      maxLines: 1,
      children: text
    })]
  });
};
var AudioInput = function AudioInput(_ref2) {
  var onSendAudioMessage = _ref2.onSendAudioMessage,
    _ref2$type = _ref2.type,
    type = _ref2$type === void 0 ? "primary" : _ref2$type,
    frameEventTarget = _ref2.frameEventTarget,
    isPcMode = _ref2.isPcMode,
    disabled = _ref2.disabled,
    focused = _ref2.focused,
    onAudioRecording = _ref2.onAudioRecording;
  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false),
    _useState2 = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_15__["default"])(_useState, 2),
    isTouching = _useState2[0],
    setIsTouching = _useState2[1];
  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false),
    _useState4 = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_15__["default"])(_useState3, 2),
    isOutside = _useState4[0],
    setIsOutSide = _useState4[1];
  var refIsOutSide = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);
  var refRecorderManager = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();
  var _useState5 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(),
    _useState6 = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_15__["default"])(_useState5, 2),
    triggerType = _useState6[0],
    setTriggerType = _useState6[1];
  var _useState7 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0),
    _useState8 = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_15__["default"])(_useState7, 2),
    volume = _useState8[0],
    setVolume = _useState8[1];
  var _useState9 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(50),
    _useState10 = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_15__["default"])(_useState9, 2),
    leftDuration = _useState10[0],
    setLeftDuration = _useState10[1];
  var refStop = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();
  var i18n = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_9__.useI18n)();
  refIsOutSide.current = isOutside;
  _libs_utils__WEBPACK_IMPORTED_MODULE_5__.logger.debug("AudioInput start", refIsOutSide.current);
  (0,_libs_hooks__WEBPACK_IMPORTED_MODULE_7__.useUpdateEffect)(function () {
    onAudioRecording === null || onAudioRecording === void 0 || onAudioRecording(isTouching);
  }, [isTouching]);
  var onTouching = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (triggerType) {
    setTriggerType(triggerType);
    setIsTouching(true);
    if (refRecorderManager.current) {
      refRecorderManager.current.destroy();
    }
    //暂停当前播放的内容
    _libs_utils__WEBPACK_IMPORTED_MODULE_5__.PlayAudio.stopNow();
    var isInterrupted = false;
    refRecorderManager.current = (0,_libs_utils__WEBPACK_IMPORTED_MODULE_5__.getRecorderManager)();
    _libs_utils__WEBPACK_IMPORTED_MODULE_5__.logger.debug("onMouseDown onTouching");
    refStop.current = function () {
      clearTimeout(timeout);
      if (refIsOutSide.current) {
        isInterrupted = true;
      }
      setIsTouching(false);
      setIsOutSide(false);
    };
    refRecorderManager.current.on(_libs_utils__WEBPACK_IMPORTED_MODULE_5__.RecorderEvent.STOP, function (res) {
      var _refStop$current, _refRecorderManager$c;
      _libs_utils__WEBPACK_IMPORTED_MODULE_5__.logger.debug("AudioInput stop triggered", res, refIsOutSide.current);
      if (!isInterrupted && !refIsOutSide.current && res.duration) {
        if (res.duration < 1000) {
          (0,_libs_utils__WEBPACK_IMPORTED_MODULE_5__.showToast)({
            content: i18n.t("audioInputErrorUnDetectContent"),
            icon: "error"
          }, frameEventTarget);
        } else {
          onSendAudioMessage === null || onSendAudioMessage === void 0 || onSendAudioMessage(res);
        }
      }
      (_refStop$current = refStop.current) === null || _refStop$current === void 0 || _refStop$current.call(refStop);
      (_refRecorderManager$c = refRecorderManager.current) === null || _refRecorderManager$c === void 0 || _refRecorderManager$c.destroy();
    });
    /**
     * 暂停、打断都是异常操作，直接停止。
     */
    refRecorderManager.current.on(_libs_utils__WEBPACK_IMPORTED_MODULE_5__.RecorderEvent.PAUSE, function () {
      var _refRecorderManager$c2;
      isInterrupted = true;
      (_refRecorderManager$c2 = refRecorderManager.current) === null || _refRecorderManager$c2 === void 0 || _refRecorderManager$c2.stop();
      setVolume(0);
    });
    refRecorderManager.current.on(_libs_utils__WEBPACK_IMPORTED_MODULE_5__.RecorderEvent.INTERRUPT, function () {
      var _refRecorderManager$c3;
      isInterrupted = true;
      (_refRecorderManager$c3 = refRecorderManager.current) === null || _refRecorderManager$c3 === void 0 || _refRecorderManager$c3.stop();
    });
    refRecorderManager.current.on(_libs_utils__WEBPACK_IMPORTED_MODULE_5__.RecorderEvent.ERROR, function (res) {
      var _refStop$current2, _refRecorderManager$c4;
      isInterrupted = true;
      _libs_utils__WEBPACK_IMPORTED_MODULE_5__.logger.error("AudioInput onError", res, res.code);
      if (res.code === _libs_utils__WEBPACK_IMPORTED_MODULE_5__.MiniChatErrorCode.Audio_Permission_Denied) {
        (0,_libs_utils__WEBPACK_IMPORTED_MODULE_5__.showModal)({
          isNeedMask: true,
          renderModal: function renderModal(hideModal) {
            return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_permission_deny__WEBPACK_IMPORTED_MODULE_8__.PermissionDeny, {
              hideModal: hideModal
            });
          }
        }, frameEventTarget);
      } else {
        (0,_libs_utils__WEBPACK_IMPORTED_MODULE_5__.showToast)({
          content: i18n.t("audioInputErrorRecord"),
          icon: "error"
        }, frameEventTarget);
      }
      (_refStop$current2 = refStop.current) === null || _refStop$current2 === void 0 || _refStop$current2.call(refStop);
      (_refRecorderManager$c4 = refRecorderManager.current) === null || _refRecorderManager$c4 === void 0 || _refRecorderManager$c4.destroy();
    });
    refRecorderManager.current.on(_libs_utils__WEBPACK_IMPORTED_MODULE_5__.RecorderEvent.VOLUME, function (res) {
      _libs_utils__WEBPACK_IMPORTED_MODULE_5__.logger.debug("AudioInput_volume", res);
      setVolume(res.volume);
    });
    _libs_utils__WEBPACK_IMPORTED_MODULE_5__.logger.debug("AudioInput register Event End");
    refRecorderManager.current.start({
      numberOfChannels: 1
    });
    var startTime = Date.now();
    var hasVibrate = false;
    var timeout = 0;
    function tickDuration() {
      timeout = setTimeout(function () {
        var duration = Math.ceil((Date.now() - startTime) / 1000);
        _libs_utils__WEBPACK_IMPORTED_MODULE_5__.logger.debug("AudioInput duration", duration);
        if (duration > maxTime - 10) {
          setLeftDuration(maxTime - duration);
          if (duration >= maxTime) {
            var _refRecorderManager$c5, _refStop$current3;
            (_refRecorderManager$c5 = refRecorderManager.current) === null || _refRecorderManager$c5 === void 0 || _refRecorderManager$c5.stop();
            (_refStop$current3 = refStop.current) === null || _refStop$current3 === void 0 || _refStop$current3.call(refStop);
            return;
          }
          if (!hasVibrate) {
            try {
              _tarojs_taro__WEBPACK_IMPORTED_MODULE_6___default().vibrateLong();
            } catch (e) {
              _libs_utils__WEBPACK_IMPORTED_MODULE_5__.logger.error("AudioInput vibrateLong error", e);
            }
            hasVibrate = true;
          }
        }
        tickDuration();
      }, 500);
    }
    tickDuration();
    setLeftDuration(maxTime);
    setIsTouching(true);
  }, []);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {
    return function () {
      var _refRecorderManager$c6;
      (_refRecorderManager$c6 = refRecorderManager.current) === null || _refRecorderManager$c6 === void 0 || _refRecorderManager$c6.destroy();
    };
  }, []);
  var audioWaveType = type === "default" ? "default" : isOutside ? "warning" : "primary";
  var realFocused = focused || !isPcMode;
  var buttonText = disabled ? i18n.t("audioInputDisabledText") : realFocused ? isPcMode ? i18n.t("audioInputPcText") : i18n.t("audioInputMobileText") : isPcMode ? i18n.t("unFocusInputText") : i18n.t("audioInputMobileText");
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)(_tarojs_components__WEBPACK_IMPORTED_MODULE_13__.View, {
    className: classnames__WEBPACK_IMPORTED_MODULE_3___default()(_index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"].container, (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_14__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_14__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_14__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_14__["default"])({}, _index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"].touching, isTouching && !disabled), _index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"].outside, isOutside && !disabled), _index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"][type], true), _index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"].focused, realFocused && !disabled)),
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(AudioTips, {
      isTouching: isTouching,
      isOutside: isOutside,
      leftDuration: leftDuration,
      triggerType: triggerType
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)(_atomic_audio_input__WEBPACK_IMPORTED_MODULE_1__.AudioInput, {
      onTouching: onTouching,
      onOutside: function onOutside(isOutside) {
        _libs_utils__WEBPACK_IMPORTED_MODULE_5__.logger.debug("AudioInput OutSide touch", isOutside);
        setIsOutSide(isOutside);
      },
      onEnd: function onEnd() {
        var _refRecorderManager$c7, _refStop$current4;
        _libs_utils__WEBPACK_IMPORTED_MODULE_5__.logger.debug("AudioInput recording onEnd");
        (_refRecorderManager$c7 = refRecorderManager.current) === null || _refRecorderManager$c7 === void 0 || _refRecorderManager$c7.stop();
        (_refStop$current4 = refStop.current) === null || _refStop$current4 === void 0 || _refStop$current4.call(refStop);
      },
      frameEventTarget: frameEventTarget,
      isPcMode: isPcMode,
      className: _index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"].audio,
      disabled: disabled,
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_13__.Text, {
        overflow: "ellipsis",
        numberOfLines: 1,
        maxLines: 1,
        userSelect: false,
        className: _index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"].text,
        children: buttonText
      }), isTouching ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_atomic_audio_wave__WEBPACK_IMPORTED_MODULE_4__.AudioWave, {
        type: audioWaveType,
        size: "medium",
        volumeNumber: volume * 5,
        className: _index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"].wave
      }) : null]
    })]
  });
};

/***/ }),

/***/ "./src/libs/ui-kit/chat-input/audio-input/permission-deny/index.tsx":
/*!**************************************************************************!*\
  !*** ./src/libs/ui-kit/chat-input/audio-input/permission-deny/index.tsx ***!
  \**************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PermissionDeny: function() { return /* binding */ PermissionDeny; }
/* harmony export */ });
/* harmony import */ var _tarojs_components__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @tarojs/components */ "./node_modules/.pnpm/@tarojs+plugin-platform-weapp@4.0.8_@tarojs+service@4.0.8_@swc+helpers@0.5.15__@tarojs+shared@4.0.8/node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js");
/* harmony import */ var _atomic_button__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../atomic/button */ "./src/libs/ui-kit/atomic/button/index.tsx");
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/ui-kit/chat-input/audio-input/permission-deny/index.module.less");
/* harmony import */ var _libs_ui_kit_atomic_spacing__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/libs/ui-kit/atomic/spacing */ "./src/libs/ui-kit/atomic/spacing/index.tsx");
/* harmony import */ var _libs_ui_kit_atomic_svg__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/libs/ui-kit/atomic/svg */ "./src/libs/ui-kit/atomic/svg/index.tsx");
/* harmony import */ var _libs_provider__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/libs/provider */ "./src/libs/provider/index.tsx");
/* harmony import */ var _libs_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/libs/utils */ "./src/libs/utils/index.ts");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");








var PermissionDeny = function PermissionDeny(_ref) {
  var hideModal = _ref.hideModal;
  var i18n = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_4__.useI18n)();
  var cdnBaseUrlPath = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_4__.useChatPropsStore)(function (store) {
    var _store$setting;
    return (_store$setting = store.setting) === null || _store$setting === void 0 ? void 0 : _store$setting.cdnBaseUrlPath;
  });
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(_tarojs_components__WEBPACK_IMPORTED_MODULE_7__.View, {
    className: _index_module_less__WEBPACK_IMPORTED_MODULE_1__["default"].container,
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(_libs_ui_kit_atomic_spacing__WEBPACK_IMPORTED_MODULE_2__.Spacing, {
      gap: 4,
      verticalCenter: true,
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_7__.Text, {
        className: _index_module_less__WEBPACK_IMPORTED_MODULE_1__["default"].title,
        children: i18n.t("permissionMkfTitle")
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_libs_ui_kit_atomic_svg__WEBPACK_IMPORTED_MODULE_3__.SvgInfo, {})]
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_7__.Text, {
      className: _index_module_less__WEBPACK_IMPORTED_MODULE_1__["default"].desc,
      children: i18n.t("permissionMkfDesc")
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_7__.Image, {
      preview: "false",
      mode: "widthFix",
      className: _index_module_less__WEBPACK_IMPORTED_MODULE_1__["default"].img,
      src: (0,_libs_utils__WEBPACK_IMPORTED_MODULE_5__.getCdnUrl)(cdnBaseUrlPath, "assets/imgs/mkf-deny.png")
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_7__.View, {
      className: _index_module_less__WEBPACK_IMPORTED_MODULE_1__["default"]["btn-container"],
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_atomic_button__WEBPACK_IMPORTED_MODULE_0__.Button, {
        onClick: hideModal,
        className: _index_module_less__WEBPACK_IMPORTED_MODULE_1__["default"].btn,
        children: i18n.t("permissionMkfBtnIKnown")
      })
    })]
  });
};

/***/ }),

/***/ "./src/libs/ui-kit/chat-input/hooks/use-audio-message-handle.ts":
/*!**********************************************************************!*\
  !*** ./src/libs/ui-kit/chat-input/hooks/use-audio-message-handle.ts ***!
  \**********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useAudioMessageHandle: function() { return /* binding */ useAudioMessageHandle; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/slicedToArray.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _type__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../type */ "./src/libs/ui-kit/chat-input/type.ts");
/* harmony import */ var _libs_hooks__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/libs/hooks */ "./src/libs/hooks/index.ts");
/* harmony import */ var _libs_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/libs/utils */ "./src/libs/utils/index.ts");
/* harmony import */ var _libs_types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/libs/types */ "./src/libs/types/index.ts");






var useAudioMessageHandle = function useAudioMessageHandle(chatInputProps, options) {
  var onAudioRecording = chatInputProps.onAudioRecording,
    frameEventTarget = chatInputProps.frameEventTarget;
  var inputType = options.inputType;
  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false),
    _useState2 = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_5__["default"])(_useState, 2),
    isAudioInputFocusing = _useState2[0],
    setIsAudioInputFocusing = _useState2[1];
  var isRealAudioInputFocusing = inputType === _type__WEBPACK_IMPORTED_MODULE_1__.InputType.Voice && isAudioInputFocusing;
  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false),
    _useState4 = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_5__["default"])(_useState3, 2),
    isRecording = _useState4[0],
    setIsRecording = _useState4[1];
  var onRecording = (0,_libs_hooks__WEBPACK_IMPORTED_MODULE_2__.usePersistCallback)(function (isRecording) {
    setIsRecording(isRecording);
    onAudioRecording === null || onAudioRecording === void 0 || onAudioRecording(isRecording);
  });
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {
    _libs_utils__WEBPACK_IMPORTED_MODULE_3__.logger.debug("useAudioMessageHandle listen focus and blur", {
      isWeb: _libs_utils__WEBPACK_IMPORTED_MODULE_3__.isWeb,
      frameEventTarget: frameEventTarget
    });
    if (_libs_utils__WEBPACK_IMPORTED_MODULE_3__.isWeb && frameEventTarget) {
      var onFocus = function onFocus() {
        _libs_utils__WEBPACK_IMPORTED_MODULE_3__.logger.debug("useAudioMessageHandle focus in");
        setIsAudioInputFocusing(true);
      };
      var onBlur = function onBlur() {
        _libs_utils__WEBPACK_IMPORTED_MODULE_3__.logger.debug("useAudioMessageHandle blur in");
        setIsAudioInputFocusing(false);
      };
      frameEventTarget.on(_libs_types__WEBPACK_IMPORTED_MODULE_4__.UIEventType.FrameFocus, onFocus);
      frameEventTarget.on(_libs_types__WEBPACK_IMPORTED_MODULE_4__.UIEventType.FrameBlur, onBlur);
      frameEventTarget.trigger(_libs_types__WEBPACK_IMPORTED_MODULE_4__.UIEventType.TriggerFocus);
      return function () {
        frameEventTarget.off(_libs_types__WEBPACK_IMPORTED_MODULE_4__.UIEventType.FrameFocus, onFocus);
        frameEventTarget.off(_libs_types__WEBPACK_IMPORTED_MODULE_4__.UIEventType.FrameBlur, onBlur);
      };
    }
  }, []);
  return {
    isRecording: isRecording,
    isRealAudioInputFocusing: isRealAudioInputFocusing,
    onRecording: onRecording
  };
};

/***/ }),

/***/ "./src/libs/ui-kit/chat-input/hooks/use-keyborader-height-handle.ts":
/*!**************************************************************************!*\
  !*** ./src/libs/ui-kit/chat-input/hooks/use-keyborader-height-handle.ts ***!
  \**************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useKeyboardHeightHandle: function() { return /* binding */ useKeyboardHeightHandle; }
/* harmony export */ });
/* harmony import */ var _tarojs_taro__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tarojs/taro */ "./node_modules/.pnpm/@tarojs+taro@4.0.8_@tarojs+components@4.0.8_@tarojs+helper@4.0.8_@swc+helpers@0.5.15__@_28b4aa939e10f4882a0917541e7336fe/node_modules/@tarojs/taro/index.js");
/* harmony import */ var _tarojs_taro__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_tarojs_taro__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _libs_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/libs/utils */ "./src/libs/utils/index.ts");
/* harmony import */ var _libs_hooks__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/libs/hooks */ "./src/libs/hooks/index.ts");




var isSupportKeyBoardHeight = _libs_utils__WEBPACK_IMPORTED_MODULE_2__.isWeapp;
var useKeyboardHeightHandle = function useKeyboardHeightHandle(chatInputProps) {
  var onKeyBoardHeightChange = chatInputProps.onKeyBoardHeightChange;
  var onKeyBoardHeightChangeHandle = (0,_libs_hooks__WEBPACK_IMPORTED_MODULE_3__.usePersistCallback)(function (height) {
    if (isSupportKeyBoardHeight) {
      onKeyBoardHeightChange === null || onKeyBoardHeightChange === void 0 || onKeyBoardHeightChange(height);
    }
  });
  (0,_tarojs_taro__WEBPACK_IMPORTED_MODULE_0__.useDidHide)(function () {
    // 隐藏到后台的时候，默认键盘会收起，设置为0
    onKeyBoardHeightChangeHandle === null || onKeyBoardHeightChangeHandle === void 0 || onKeyBoardHeightChangeHandle(0);
  });
  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {
    if (isSupportKeyBoardHeight) {
      var _Taro$onKeyboardHeigh;
      (_tarojs_taro__WEBPACK_IMPORTED_MODULE_0___default()) === null || (_tarojs_taro__WEBPACK_IMPORTED_MODULE_0___default()) === void 0 || (_Taro$onKeyboardHeigh = (_tarojs_taro__WEBPACK_IMPORTED_MODULE_0___default().onKeyboardHeightChange)) === null || _Taro$onKeyboardHeigh === void 0 || _Taro$onKeyboardHeigh.call((_tarojs_taro__WEBPACK_IMPORTED_MODULE_0___default()), function (res) {
        if (res.height === 0) {
          onKeyBoardHeightChangeHandle === null || onKeyBoardHeightChangeHandle === void 0 || onKeyBoardHeightChangeHandle(0);
          return;
        }
        onKeyBoardHeightChangeHandle === null || onKeyBoardHeightChangeHandle === void 0 || onKeyBoardHeightChangeHandle(res.height);
      });
    }
  }, []);
  return {
    onKeyBoardHeightChange: onKeyBoardHeightChangeHandle
  };
};

/***/ }),

/***/ "./src/libs/ui-kit/chat-input/hooks/use-multi-mode-message-handle.ts":
/*!***************************************************************************!*\
  !*** ./src/libs/ui-kit/chat-input/hooks/use-multi-mode-message-handle.ts ***!
  \***************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useMultiModeMessageHandle: function() { return /* binding */ useMultiModeMessageHandle; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _type__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../type */ "./src/libs/ui-kit/chat-input/type.ts");
/* harmony import */ var _libs_hooks__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/libs/hooks */ "./src/libs/hooks/index.ts");




var useTaskMessage = function useTaskMessage(chatInputProps, options) {
  var isShowTaskMessage = false;
  var inputType = options.inputType,
    setInputType = options.setInputType,
    isRecording = options.isRecording;
  var taskList = chatInputProps.taskList,
    _chatInputProps$isNee = chatInputProps.isNeedTaskMessage,
    isNeedTaskMessage = _chatInputProps$isNee === void 0 ? false : _chatInputProps$isNee;
  var taskOptions = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {
    var taskOptionTemp = [];
    taskList === null || taskList === void 0 || taskList.map(function (item) {
      taskOptionTemp.push.apply(taskOptionTemp, (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_3__["default"])(item.taskValue || []));
    });
    return taskOptionTemp.filter(function (item) {
      return !!item;
    });
  }, [taskList]);

  // Task messages are only visible in text mode.
  if (taskOptions.length > 0 && inputType === _type__WEBPACK_IMPORTED_MODULE_1__.InputType.Text && isNeedTaskMessage) {
    isShowTaskMessage = true;
  }

  //Updates the type of the input box to text when the task list changes.(Except audio is recording)
  (0,_libs_hooks__WEBPACK_IMPORTED_MODULE_2__.useUpdateEffect)(function () {
    // 当taskList有变化的时候，判断是否需要修改inputType
    if (!isRecording && inputType !== _type__WEBPACK_IMPORTED_MODULE_1__.InputType.Text && isNeedTaskMessage) {
      setInputType === null || setInputType === void 0 || setInputType(_type__WEBPACK_IMPORTED_MODULE_1__.InputType.Text);
    }
  }, [taskList]);
  return {
    isShowTaskMessage: isShowTaskMessage,
    taskOptions: taskOptions
  };
};
var useMultiModeMessageHandle = function useMultiModeMessageHandle(chatInputProps, options) {
  var _useTaskMessage = useTaskMessage(chatInputProps, options),
    isShowTaskMessage = _useTaskMessage.isShowTaskMessage,
    taskOptions = _useTaskMessage.taskOptions;
  var isShowMultiModeMessage = isShowTaskMessage; // We will continue to add more multi messages。

  return {
    taskMessage: {
      isShow: isShowTaskMessage,
      options: taskOptions
    },
    isShowMultiModeMessage: isShowMultiModeMessage
  };
};

/***/ }),

/***/ "./src/libs/ui-kit/chat-input/hooks/use-text-input-handle.ts":
/*!*******************************************************************!*\
  !*** ./src/libs/ui-kit/chat-input/hooks/use-text-input-handle.ts ***!
  \*******************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useTextInputHandle: function() { return /* binding */ useTextInputHandle; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/slicedToArray.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _libs_hooks__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/libs/hooks */ "./src/libs/hooks/index.ts");
/* harmony import */ var _libs_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/libs/utils */ "./src/libs/utils/index.ts");
/* harmony import */ var _libs_provider__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/libs/provider */ "./src/libs/provider/index.tsx");
/* provided dependency */ var document = __webpack_require__(/*! @tarojs/runtime */ "./node_modules/.pnpm/@tarojs+runtime@4.0.8/node_modules/@tarojs/runtime/dist/index.js")["document"];





var useTextInputHandle = function useTextInputHandle(chatInputProps, options) {
  var i18n = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_3__.useI18n)();
  var defaultValue = chatInputProps.defaultValue,
    onSendTextMessageOnly = chatInputProps.onSendTextMessage,
    disabled = chatInputProps.disabled;
  var inputId = options.inputId,
    taskMessage = options.taskMessage;
  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false),
    _useState2 = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__["default"])(_useState, 2),
    focused = _useState2[0],
    setFocused = _useState2[1];
  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(defaultValue),
    _useState4 = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__["default"])(_useState3, 2),
    inputValue = _useState4[0],
    setInputValue = _useState4[1];
  var toSendInputValue = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {
    var _taskMessage$options;
    if (taskMessage !== null && taskMessage !== void 0 && taskMessage.isShow && (taskMessage === null || taskMessage === void 0 || (_taskMessage$options = taskMessage.options) === null || _taskMessage$options === void 0 ? void 0 : _taskMessage$options.length) > 0) {
      var taskMessageText = taskMessage === null || taskMessage === void 0 ? void 0 : taskMessage.options.map(function (item) {
        return item.trim();
      }).join("; ");
      return "".concat(i18n.t("taskMessageMyChoice")).concat(taskMessageText, "\n").concat(inputValue || "");
    }
    return inputValue;
  }, [taskMessage, inputValue]);
  var blurInput = (0,_libs_hooks__WEBPACK_IMPORTED_MODULE_1__.usePersistCallback)(function () {
    setFocused(false);
    if (_libs_utils__WEBPACK_IMPORTED_MODULE_2__.isWeb) {
      var _document$getElementB;
      // Mobile browser cannot blur the input element, need to manually blur the input element
      (_document$getElementB = document.getElementById(inputId)) === null || _document$getElementB === void 0 || (_document$getElementB = _document$getElementB.querySelector("input")) === null || _document$getElementB === void 0 || _document$getElementB.blur();
    }
  });
  var clearInput = (0,_libs_hooks__WEBPACK_IMPORTED_MODULE_1__.usePersistCallback)(function (isBlur) {
    setInputValue("");
    isBlur && blurInput();
    // Fix taro onInput event.When the text is copied by clipboard， it must be clear twice.
    setTimeout(function () {
      setInputValue("");

      // When input value is set, the input will be focused on miniProgram
      isBlur && blurInput();
    }, 50);
  });
  (0,_libs_hooks__WEBPACK_IMPORTED_MODULE_1__.useUpdateEffect)(function () {
    setInputValue(defaultValue);
  }, [defaultValue]);
  var onSendTextMessage = (0,_libs_hooks__WEBPACK_IMPORTED_MODULE_1__.usePersistCallback)(function () {
    _libs_utils__WEBPACK_IMPORTED_MODULE_2__.logger.debug("useTextInputHandle onSendTextMessage:", {
      inputValue: inputValue,
      toSendInputValue: toSendInputValue,
      disabled: disabled
    });
    if (toSendInputValue && !disabled) {
      onSendTextMessageOnly === null || onSendTextMessageOnly === void 0 || onSendTextMessageOnly(toSendInputValue);
      clearInput(!_libs_utils__WEBPACK_IMPORTED_MODULE_2__.isWeb);
    }
  });
  return {
    focused: focused,
    clearInput: clearInput,
    setFocused: setFocused,
    inputValue: inputValue,
    setInputValue: setInputValue,
    toSendInputValue: toSendInputValue,
    onSendTextMessage: onSendTextMessage
  };
};

/***/ }),

/***/ "./src/libs/ui-kit/chat-input/index.tsx":
/*!**********************************************!*\
  !*** ./src/libs/ui-kit/chat-input/index.tsx ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ChatInput: function() { return /* binding */ ChatInput; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/slicedToArray.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/.pnpm/classnames@2.5.1/node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _tarojs_components__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @tarojs/components */ "./node_modules/.pnpm/@tarojs+plugin-platform-weapp@4.0.8_@tarojs+service@4.0.8_@swc+helpers@0.5.15__@tarojs+shared@4.0.8/node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js");
/* harmony import */ var _atomic_spacing__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../atomic/spacing */ "./src/libs/ui-kit/atomic/spacing/index.tsx");
/* harmony import */ var _atomic_disable_container__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../atomic/disable-container */ "./src/libs/ui-kit/atomic/disable-container/index.tsx");
/* harmony import */ var _upload_btn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./upload-btn */ "./src/libs/ui-kit/chat-input/upload-btn/index.tsx");
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/ui-kit/chat-input/index.module.less");
/* harmony import */ var _libs_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/libs/utils */ "./src/libs/utils/index.ts");
/* harmony import */ var _audio_input__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./audio-input */ "./src/libs/ui-kit/chat-input/audio-input/index.tsx");
/* harmony import */ var _type__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./type */ "./src/libs/ui-kit/chat-input/type.ts");
/* harmony import */ var _send_switch_btn__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./send-switch-btn */ "./src/libs/ui-kit/chat-input/send-switch-btn/index.tsx");
/* harmony import */ var _task_message_indext__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./task-message/indext */ "./src/libs/ui-kit/chat-input/task-message/indext.tsx");
/* harmony import */ var _hooks_use_multi_mode_message_handle__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./hooks/use-multi-mode-message-handle */ "./src/libs/ui-kit/chat-input/hooks/use-multi-mode-message-handle.ts");
/* harmony import */ var _hooks_use_audio_message_handle__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./hooks/use-audio-message-handle */ "./src/libs/ui-kit/chat-input/hooks/use-audio-message-handle.ts");
/* harmony import */ var _hooks_use_keyborader_height_handle__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./hooks/use-keyborader-height-handle */ "./src/libs/ui-kit/chat-input/hooks/use-keyborader-height-handle.ts");
/* harmony import */ var _hooks_use_text_input_handle__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./hooks/use-text-input-handle */ "./src/libs/ui-kit/chat-input/hooks/use-text-input-handle.ts");
/* harmony import */ var _atomic_center_aligned_box__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../atomic/center-aligned-box */ "./src/libs/ui-kit/atomic/center-aligned-box/index.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");
/* provided dependency */ var document = __webpack_require__(/*! @tarojs/runtime */ "./node_modules/.pnpm/@tarojs+runtime@4.0.8/node_modules/@tarojs/runtime/dist/index.js")["document"];




















var inputNo = 1000;
var ChatInput = function ChatInput(props) {
  var isNeedUpload = props.isNeedUpload,
    _props$disabled = props.disabled,
    disabled = _props$disabled === void 0 ? false : _props$disabled,
    _props$inputAdjustDef = props.inputAdjustDefault,
    inputAdjustDefault = _props$inputAdjustDef === void 0 ? true : _props$inputAdjustDef,
    onSendFileMessage = props.onSendFileMessage,
    onSendAudioMessage = props.onSendAudioMessage,
    _props$isNeedAudio = props.isNeedAudio,
    isNeedAudio = _props$isNeedAudio === void 0 ? false : _props$isNeedAudio,
    _props$placeholder = props.placeholder,
    placeholder = _props$placeholder === void 0 ? "Send Message" : _props$placeholder,
    frameEventTarget = props.frameEventTarget,
    isPcMode = props.isPcMode,
    _props$defaultInputTy = props.defaultInputType,
    defaultInputType = _props$defaultInputTy === void 0 ? _type__WEBPACK_IMPORTED_MODULE_8__.InputType.Text : _props$defaultInputTy;
  var inputId = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {
    return "chat-input-".concat(inputNo++);
  }, []);
  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(defaultInputType),
    _useState2 = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_17__["default"])(_useState, 2),
    inputType = _useState2[0],
    setInputType = _useState2[1];
  var _useAudioMessageHandl = (0,_hooks_use_audio_message_handle__WEBPACK_IMPORTED_MODULE_12__.useAudioMessageHandle)(props, {
      inputType: inputType
    }),
    onRecording = _useAudioMessageHandl.onRecording,
    isRecording = _useAudioMessageHandl.isRecording,
    isRealAudioInputFocusing = _useAudioMessageHandl.isRealAudioInputFocusing;
  var _useMultiModeMessageH = (0,_hooks_use_multi_mode_message_handle__WEBPACK_IMPORTED_MODULE_11__.useMultiModeMessageHandle)(props, {
      inputType: inputType,
      setInputType: setInputType,
      isRecording: isRecording
    }),
    taskMessage = _useMultiModeMessageH.taskMessage,
    isShowMultiModeMessage = _useMultiModeMessageH.isShowMultiModeMessage;
  var _useTextInputHandle = (0,_hooks_use_text_input_handle__WEBPACK_IMPORTED_MODULE_14__.useTextInputHandle)(props, {
      inputId: inputId,
      taskMessage: taskMessage
    }),
    inputValue = _useTextInputHandle.inputValue,
    setInputValue = _useTextInputHandle.setInputValue,
    focused = _useTextInputHandle.focused,
    setFocused = _useTextInputHandle.setFocused,
    toSendInputValue = _useTextInputHandle.toSendInputValue,
    onSendTextMessage = _useTextInputHandle.onSendTextMessage;
  var _useKeyboardHeightHan = (0,_hooks_use_keyborader_height_handle__WEBPACK_IMPORTED_MODULE_13__.useKeyboardHeightHandle)(props),
    onKeyBoardHeightChange = _useKeyboardHeightHan.onKeyBoardHeightChange;
  _libs_utils__WEBPACK_IMPORTED_MODULE_6__.logger.debug("ChatInput focused", {
    focused: focused,
    inputType: inputType
  });
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_atomic_disable_container__WEBPACK_IMPORTED_MODULE_3__.DisableContainer, {
    className: _index_module_less__WEBPACK_IMPORTED_MODULE_5__["default"].container,
    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)(_tarojs_components__WEBPACK_IMPORTED_MODULE_18__.View, {
      className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(_index_module_less__WEBPACK_IMPORTED_MODULE_5__["default"]["chat-input-container"], (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_19__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_19__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_19__["default"])({}, _index_module_less__WEBPACK_IMPORTED_MODULE_5__["default"].focused, focused || isRealAudioInputFocusing), _index_module_less__WEBPACK_IMPORTED_MODULE_5__["default"]["audio-recording"], isRecording), _index_module_less__WEBPACK_IMPORTED_MODULE_5__["default"]["multi-mode-message"], isShowMultiModeMessage)),
      children: [isShowMultiModeMessage ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.Fragment, {
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_task_message_indext__WEBPACK_IMPORTED_MODULE_10__.TaskMessage, {
          taskMessage: taskMessage
        })
      }) : null, /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)(_atomic_spacing__WEBPACK_IMPORTED_MODULE_2__.Spacing, {
        verticalCenter: true,
        className: _index_module_less__WEBPACK_IMPORTED_MODULE_5__["default"]["chat-input-content"],
        children: [inputType === _type__WEBPACK_IMPORTED_MODULE_8__.InputType.Voice ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_audio_input__WEBPACK_IMPORTED_MODULE_7__.AudioInput, {
          onSendAudioMessage: onSendAudioMessage,
          type: isPcMode ? "primary" : "default",
          frameEventTarget: frameEventTarget,
          isPcMode: isPcMode,
          disabled: disabled,
          focused: focused || isRealAudioInputFocusing,
          onAudioRecording: onRecording
        }) : /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_atomic_center_aligned_box__WEBPACK_IMPORTED_MODULE_15__.CenterAlignedBox, {
          className: _index_module_less__WEBPACK_IMPORTED_MODULE_5__["default"]["input-container"],
          children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_18__.Input, {
            id: inputId,
            focus: focused,
            placeholder: placeholder,
            className: _index_module_less__WEBPACK_IMPORTED_MODULE_5__["default"].input,
            maxlength: -1,
            placeholderClass: _index_module_less__WEBPACK_IMPORTED_MODULE_5__["default"].placeholder,
            onConfirm: function onConfirm() {
              onSendTextMessage();
            },
            value: inputValue,
            onInput: function onInput(event) {
              _libs_utils__WEBPACK_IMPORTED_MODULE_6__.logger.debug("ChatInput onInput:", event);
              setInputValue(event.detail.value);
            },
            onFocus: function onFocus(event) {
              onKeyBoardHeightChange === null || onKeyBoardHeightChange === void 0 || onKeyBoardHeightChange(event.detail.height);
              setFocused(true);
            },
            onBlur: function onBlur() {
              onKeyBoardHeightChange === null || onKeyBoardHeightChange === void 0 || onKeyBoardHeightChange(0);
              _libs_utils__WEBPACK_IMPORTED_MODULE_6__.logger.debug("ChatInput onBlur");
              setFocused(false);
            },
            adjustPosition: inputAdjustDefault
          })
        }), isNeedUpload ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.Fragment, {
          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_upload_btn__WEBPACK_IMPORTED_MODULE_4__.UploadBtn, {
            onSendFileMessage: onSendFileMessage,
            frameEventTarget: frameEventTarget,
            disabled: disabled
          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_18__.View, {
            className: _index_module_less__WEBPACK_IMPORTED_MODULE_5__["default"].divider
          })]
        }) : null, /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_send_switch_btn__WEBPACK_IMPORTED_MODULE_9__.SendSwitchBtn, {
          inputDisabled: disabled,
          hasTextToSend: !!toSendInputValue,
          inputType: inputType,
          isNeedAudio: isNeedAudio,
          focused: focused,
          onSendBtnClick: function onSendBtnClick() {
            onSendTextMessage();
          },
          onKeyboardClick: function onKeyboardClick() {
            setFocused(false);
            setInputType(_type__WEBPACK_IMPORTED_MODULE_8__.InputType.Text);
            // 需要延迟才能 触发 focus效果
            setTimeout(function () {
              setFocused(true);
              if (_libs_utils__WEBPACK_IMPORTED_MODULE_6__.isWeb) {
                var _document$getElementB;
                // web下无法获取焦点，需要手动添加焦点
                (_document$getElementB = document.getElementById(inputId)) === null || _document$getElementB === void 0 || (_document$getElementB = _document$getElementB.querySelector("input")) === null || _document$getElementB === void 0 || _document$getElementB.focus();
              }
            }, 100);
          },
          onMicrophoneClick: function onMicrophoneClick() {
            setInputType(_type__WEBPACK_IMPORTED_MODULE_8__.InputType.Voice);
            setFocused(false);
          }
        })]
      })]
    })
  });
};

/***/ }),

/***/ "./src/libs/ui-kit/chat-input/send-btn/index.tsx":
/*!*******************************************************!*\
  !*** ./src/libs/ui-kit/chat-input/send-btn/index.tsx ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SendBtn: function() { return /* binding */ SendBtn; }
/* harmony export */ });
/* harmony import */ var _libs_ui_kit_atomic_svg__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/libs/ui-kit/atomic/svg */ "./src/libs/ui-kit/atomic/svg/index.tsx");
/* harmony import */ var _libs_ui_kit_atomic_disable_container__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/libs/ui-kit/atomic/disable-container */ "./src/libs/ui-kit/atomic/disable-container/index.tsx");
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/ui-kit/chat-input/send-btn/index.module.less");
/* harmony import */ var _atomic_icon_button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../atomic/icon-button */ "./src/libs/ui-kit/atomic/icon-button/index.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");





var SendBtn = function SendBtn(_ref) {
  var disabled = _ref.disabled,
    onClick = _ref.onClick;
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_libs_ui_kit_atomic_disable_container__WEBPACK_IMPORTED_MODULE_1__.DisableContainer, {
    disabled: disabled,
    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_atomic_icon_button__WEBPACK_IMPORTED_MODULE_3__.IconButton, {
      hoverTheme: "hover",
      onClick: onClick,
      type: "circle-btn",
      border: "none",
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_libs_ui_kit_atomic_svg__WEBPACK_IMPORTED_MODULE_0__.SvgFeishu, {
        className: _index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"]["send-btn"],
        theme: "dark"
      })
    })
  });
};

/***/ }),

/***/ "./src/libs/ui-kit/chat-input/send-switch-btn/index.tsx":
/*!**************************************************************!*\
  !*** ./src/libs/ui-kit/chat-input/send-switch-btn/index.tsx ***!
  \**************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SendSwitchBtn: function() { return /* binding */ SendSwitchBtn; }
/* harmony export */ });
/* harmony import */ var _libs_ui_kit_atomic_svg__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/libs/ui-kit/atomic/svg */ "./src/libs/ui-kit/atomic/svg/index.tsx");
/* harmony import */ var _type__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../type */ "./src/libs/ui-kit/chat-input/type.ts");
/* harmony import */ var _send_btn__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../send-btn */ "./src/libs/ui-kit/chat-input/send-btn/index.tsx");
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/ui-kit/chat-input/send-switch-btn/index.module.less");
/* harmony import */ var _libs_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/libs/utils */ "./src/libs/utils/index.ts");
/* harmony import */ var _atomic_icon_button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../atomic/icon-button */ "./src/libs/ui-kit/atomic/icon-button/index.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");







var SendSwitchBtn = function SendSwitchBtn(_ref) {
  var inputDisabled = _ref.inputDisabled,
    onSendBtnClick = _ref.onSendBtnClick,
    hasTextToSend = _ref.hasTextToSend,
    inputType = _ref.inputType,
    isNeedAudio = _ref.isNeedAudio,
    onKeyboardClick = _ref.onKeyboardClick,
    onMicrophoneClick = _ref.onMicrophoneClick,
    focused = _ref.focused;
  _libs_utils__WEBPACK_IMPORTED_MODULE_4__.logger.debug("SendSwitchBtn", isNeedAudio);
  var showKeyboard = isNeedAudio && inputType === _type__WEBPACK_IMPORTED_MODULE_1__.InputType.Voice;
  var showSendBtn = !isNeedAudio || inputType === _type__WEBPACK_IMPORTED_MODULE_1__.InputType.Text && !!hasTextToSend;
  var showMicrophone = isNeedAudio && inputType === _type__WEBPACK_IMPORTED_MODULE_1__.InputType.Text && !hasTextToSend;
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.Fragment, {
    children: [showKeyboard ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_atomic_icon_button__WEBPACK_IMPORTED_MODULE_5__.IconButton, {
      onClick: onKeyboardClick,
      hoverTheme: "hover",
      type: "circle-btn",
      border: "none",
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_libs_ui_kit_atomic_svg__WEBPACK_IMPORTED_MODULE_0__.SvgKeyboard, {
        className: _index_module_less__WEBPACK_IMPORTED_MODULE_3__["default"]["keyboard-icon"]
      })
    }) : null, showMicrophone ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_atomic_icon_button__WEBPACK_IMPORTED_MODULE_5__.IconButton, {
      onClick: onMicrophoneClick,
      hoverTheme: "hover",
      type: "circle-btn",
      border: "none",
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_libs_ui_kit_atomic_svg__WEBPACK_IMPORTED_MODULE_0__.SvgMicrophone, {
        className: _index_module_less__WEBPACK_IMPORTED_MODULE_3__["default"]["microphone-icon"]
      })
    }) : null, showSendBtn ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_send_btn__WEBPACK_IMPORTED_MODULE_2__.SendBtn, {
      disabled: inputDisabled || !hasTextToSend,
      onClick: onSendBtnClick,
      focused: focused
    }) : null]
  });
};

/***/ }),

/***/ "./src/libs/ui-kit/chat-input/task-message/indext.tsx":
/*!************************************************************!*\
  !*** ./src/libs/ui-kit/chat-input/task-message/indext.tsx ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TaskMessage: function() { return /* binding */ TaskMessage; }
/* harmony export */ });
/* harmony import */ var _tarojs_components__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @tarojs/components */ "./node_modules/.pnpm/@tarojs+plugin-platform-weapp@4.0.8_@tarojs+service@4.0.8_@swc+helpers@0.5.15__@tarojs+shared@4.0.8/node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js");
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/ui-kit/chat-input/task-message/index.module.less");
/* harmony import */ var _atomic_dot__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../atomic/dot */ "./src/libs/ui-kit/atomic/dot/index.tsx");
/* harmony import */ var _atomic_spacing__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../atomic/spacing */ "./src/libs/ui-kit/atomic/spacing/index.tsx");
/* harmony import */ var _libs_provider__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/libs/provider */ "./src/libs/provider/index.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");






var TaskMessage = function TaskMessage(_ref) {
  var taskMessage = _ref.taskMessage;
  var _ref2 = taskMessage || {},
    isShow = _ref2.isShow,
    _ref2$options = _ref2.options,
    taskOptions = _ref2$options === void 0 ? [] : _ref2$options;
  var i18n = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_3__.useI18n)();
  if (!isShow) {
    return null;
  }
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_5__.View, {
    className: _index_module_less__WEBPACK_IMPORTED_MODULE_0__["default"]["task-message-container"],
    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(_tarojs_components__WEBPACK_IMPORTED_MODULE_5__.View, {
      className: _index_module_less__WEBPACK_IMPORTED_MODULE_0__["default"]["content"],
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_5__.View, {
        children: i18n.t("taskMessageMyChoice")
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_5__.View, {
        children: taskOptions.map(function (item, index) {
          return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(_atomic_spacing__WEBPACK_IMPORTED_MODULE_2__.Spacing, {
            children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_atomic_dot__WEBPACK_IMPORTED_MODULE_1__.Dot, {
              boxHeight: 20,
              boxWidth: 20
            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_5__.Text, {
              children: item
            })]
          }, index);
        })
      })]
    })
  });
};

/***/ }),

/***/ "./src/libs/ui-kit/chat-input/type.ts":
/*!********************************************!*\
  !*** ./src/libs/ui-kit/chat-input/type.ts ***!
  \********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   InputType: function() { return /* binding */ InputType; }
/* harmony export */ });
var InputType = /*#__PURE__*/function (InputType) {
  InputType["Text"] = "text";
  InputType["Voice"] = "voice";
  return InputType;
}({});

/***/ }),

/***/ "./src/libs/ui-kit/chat-input/upload-btn/index.tsx":
/*!*********************************************************!*\
  !*** ./src/libs/ui-kit/chat-input/upload-btn/index.tsx ***!
  \*********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   UploadBtn: function() { return /* binding */ UploadBtn; }
/* harmony export */ });
/* harmony import */ var _libs_ui_kit_atomic_svg__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/libs/ui-kit/atomic/svg */ "./src/libs/ui-kit/atomic/svg/index.tsx");
/* harmony import */ var _atomic_upload__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../atomic/upload */ "./src/libs/ui-kit/atomic/upload/index.tsx");
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/ui-kit/chat-input/upload-btn/index.module.less");
/* harmony import */ var _atomic_icon_button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../atomic/icon-button */ "./src/libs/ui-kit/atomic/icon-button/index.tsx");
/* harmony import */ var _atomic_disable_container__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../atomic/disable-container */ "./src/libs/ui-kit/atomic/disable-container/index.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");





// 文档：DOC、DOCX、XLS、XLSX、PPT、PPTX、PDF、Numbers、CSV
// 图片：JPG、JPG2、PNG、GIF、WEBP、HEIC、HEIF、BMP、PCD、TIFF

var UploadBtn = function UploadBtn(_ref) {
  var onSendFileMessage = _ref.onSendFileMessage,
    frameEventTarget = _ref.frameEventTarget,
    disabled = _ref.disabled;
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_atomic_disable_container__WEBPACK_IMPORTED_MODULE_4__.DisableContainer, {
    disabled: disabled,
    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_atomic_upload__WEBPACK_IMPORTED_MODULE_1__.Upload, {
      accept: ".doc,.docx,.xls,.xlsx,.ppt,.pptx,.pdf,.numbers,.csv,.jpg,.jpg2,.png,.gif,.webp,.heic,.heif,.bmp,.pcd,.tiff,image/*",
      onChooseFile: function onChooseFile(item) {
        onSendFileMessage === null || onSendFileMessage === void 0 || onSendFileMessage(item);
      },
      frameEventTarget: frameEventTarget,
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_atomic_icon_button__WEBPACK_IMPORTED_MODULE_3__.IconButton, {
        hoverTheme: "hover",
        type: "circle-btn",
        border: "none",
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_libs_ui_kit_atomic_svg__WEBPACK_IMPORTED_MODULE_0__.SvgPlusCircle, {
          className: _index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"]["file-btn"]
        })
      })
    })
  });
};

/***/ }),

/***/ "./src/libs/ui-kit/index.ts":
/*!**********************************!*\
  !*** ./src/libs/ui-kit/index.ts ***!
  \**********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AudioPlay: function() { return /* reexport safe */ _atomic_audio_play__WEBPACK_IMPORTED_MODULE_11__.AudioPlay; },
/* harmony export */   BubbleText: function() { return /* reexport safe */ _atomic_bubble_text__WEBPACK_IMPORTED_MODULE_1__.BubbleText; },
/* harmony export */   Button: function() { return /* reexport safe */ _atomic_button__WEBPACK_IMPORTED_MODULE_7__.Button; },
/* harmony export */   CImage: function() { return /* reexport safe */ _atomic_c_image__WEBPACK_IMPORTED_MODULE_20__.CImage; },
/* harmony export */   CenterAlignedBox: function() { return /* reexport safe */ _atomic_center_aligned_box__WEBPACK_IMPORTED_MODULE_16__.CenterAlignedBox; },
/* harmony export */   ChatInput: function() { return /* reexport safe */ _chat_input__WEBPACK_IMPORTED_MODULE_23__.ChatInput; },
/* harmony export */   ErrorRetry: function() { return /* reexport safe */ _atomic_error_retry__WEBPACK_IMPORTED_MODULE_18__.ErrorRetry; },
/* harmony export */   ErrorRetryBtn: function() { return /* reexport safe */ _atomic_error_retry__WEBPACK_IMPORTED_MODULE_18__.ErrorRetryBtn; },
/* harmony export */   IconButton: function() { return /* reexport safe */ _atomic_icon_button__WEBPACK_IMPORTED_MODULE_19__.IconButton; },
/* harmony export */   Link: function() { return /* reexport safe */ _atomic_link__WEBPACK_IMPORTED_MODULE_6__.Link; },
/* harmony export */   MdStream: function() { return /* reexport safe */ _atomic_md_stream__WEBPACK_IMPORTED_MODULE_0__.MdStream; },
/* harmony export */   MessageContainer: function() { return /* reexport safe */ _message__WEBPACK_IMPORTED_MODULE_24__.MessageContainer; },
/* harmony export */   MessageContent: function() { return /* reexport safe */ _message__WEBPACK_IMPORTED_MODULE_24__.MessageContent; },
/* harmony export */   OnBoarding: function() { return /* reexport safe */ _onboarding__WEBPACK_IMPORTED_MODULE_21__.OnBoarding; },
/* harmony export */   Radio: function() { return /* reexport safe */ _atomic_radio__WEBPACK_IMPORTED_MODULE_13__.Radio; },
/* harmony export */   ScrollView: function() { return /* reexport safe */ _atomic_scroll_view__WEBPACK_IMPORTED_MODULE_15__.ScrollView; },
/* harmony export */   Spacing: function() { return /* reexport safe */ _atomic_spacing__WEBPACK_IMPORTED_MODULE_2__.Spacing; },
/* harmony export */   Spinning: function() { return /* reexport safe */ _atomic_spinning__WEBPACK_IMPORTED_MODULE_3__.Spinning; },
/* harmony export */   SuggestionList: function() { return /* reexport safe */ _suggestion_list__WEBPACK_IMPORTED_MODULE_22__.SuggestionList; },
/* harmony export */   SvgBroom: function() { return /* reexport safe */ _atomic_svg__WEBPACK_IMPORTED_MODULE_14__.SvgBroom; },
/* harmony export */   SvgConversation: function() { return /* reexport safe */ _atomic_svg__WEBPACK_IMPORTED_MODULE_14__.SvgConversation; },
/* harmony export */   SvgError: function() { return /* reexport safe */ _atomic_svg__WEBPACK_IMPORTED_MODULE_14__.SvgError; },
/* harmony export */   Toast: function() { return /* reexport safe */ _atomic_toast__WEBPACK_IMPORTED_MODULE_8__.Toast; },
/* harmony export */   Tooltip: function() { return /* reexport safe */ _atomic_tooltip__WEBPACK_IMPORTED_MODULE_12__.Tooltip; },
/* harmony export */   Waiting: function() { return /* reexport safe */ _atomic_waiting__WEBPACK_IMPORTED_MODULE_4__.Waiting; },
/* harmony export */   WaitingMessage: function() { return /* reexport safe */ _message__WEBPACK_IMPORTED_MODULE_24__.WaitingMessage; },
/* harmony export */   isSupportAnswerMessage: function() { return /* reexport safe */ _message__WEBPACK_IMPORTED_MODULE_24__.isSupportAnswerMessage; }
/* harmony export */ });
/* harmony import */ var _atomic_md_stream__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./atomic/md-stream */ "./src/libs/ui-kit/atomic/md-stream/index.tsx");
/* harmony import */ var _atomic_bubble_text__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./atomic/bubble-text */ "./src/libs/ui-kit/atomic/bubble-text/index.tsx");
/* harmony import */ var _atomic_spacing__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./atomic/spacing */ "./src/libs/ui-kit/atomic/spacing/index.tsx");
/* harmony import */ var _atomic_spinning__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./atomic/spinning */ "./src/libs/ui-kit/atomic/spinning/index.tsx");
/* harmony import */ var _atomic_waiting__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./atomic/waiting */ "./src/libs/ui-kit/atomic/waiting/index.tsx");
/* harmony import */ var _atomic_error_boundary__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./atomic/error-boundary */ "./src/libs/ui-kit/atomic/error-boundary/index.tsx");
/* harmony import */ var _atomic_link__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./atomic/link */ "./src/libs/ui-kit/atomic/link/index.tsx");
/* harmony import */ var _atomic_button__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./atomic/button */ "./src/libs/ui-kit/atomic/button/index.tsx");
/* harmony import */ var _atomic_toast__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./atomic/toast */ "./src/libs/ui-kit/atomic/toast/index.tsx");
/* harmony import */ var _atomic_audio_input__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./atomic/audio-input */ "./src/libs/ui-kit/atomic/audio-input/index.tsx");
/* harmony import */ var _atomic_audio_wave__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./atomic/audio-wave */ "./src/libs/ui-kit/atomic/audio-wave/index.tsx");
/* harmony import */ var _atomic_audio_play__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./atomic/audio-play */ "./src/libs/ui-kit/atomic/audio-play/index.tsx");
/* harmony import */ var _atomic_tooltip__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./atomic/tooltip */ "./src/libs/ui-kit/atomic/tooltip/index.tsx");
/* harmony import */ var _atomic_radio__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./atomic/radio */ "./src/libs/ui-kit/atomic/radio/index.tsx");
/* harmony import */ var _atomic_svg__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./atomic/svg */ "./src/libs/ui-kit/atomic/svg/index.tsx");
/* harmony import */ var _atomic_scroll_view__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./atomic/scroll-view */ "./src/libs/ui-kit/atomic/scroll-view/index.tsx");
/* harmony import */ var _atomic_center_aligned_box__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./atomic/center-aligned-box */ "./src/libs/ui-kit/atomic/center-aligned-box/index.tsx");
/* harmony import */ var _atomic_file_chooser__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./atomic/file-chooser */ "./src/libs/ui-kit/atomic/file-chooser/index.tsx");
/* harmony import */ var _atomic_error_retry__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./atomic/error-retry */ "./src/libs/ui-kit/atomic/error-retry/index.tsx");
/* harmony import */ var _atomic_icon_button__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./atomic/icon-button */ "./src/libs/ui-kit/atomic/icon-button/index.tsx");
/* harmony import */ var _atomic_c_image__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./atomic/c-image */ "./src/libs/ui-kit/atomic/c-image/index.tsx");
/* harmony import */ var _onboarding__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./onboarding */ "./src/libs/ui-kit/onboarding/index.tsx");
/* harmony import */ var _suggestion_list__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./suggestion-list */ "./src/libs/ui-kit/suggestion-list/index.tsx");
/* harmony import */ var _chat_input__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./chat-input */ "./src/libs/ui-kit/chat-input/index.tsx");
/* harmony import */ var _message__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./message */ "./src/libs/ui-kit/message/index.tsx");


























/***/ }),

/***/ "./src/libs/ui-kit/message/components/chatflow-node/index.tsx":
/*!********************************************************************!*\
  !*** ./src/libs/ui-kit/message/components/chatflow-node/index.tsx ***!
  \********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ChatflowNode: function() { return /* binding */ ChatflowNode; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectSpread2.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectSpread2.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/slicedToArray.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _helper_extract_chatlow_message__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../helper/extract-chatlow-message */ "./src/libs/ui-kit/message/helper/extract-chatlow-message.ts");
/* harmony import */ var _tarojs_components__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @tarojs/components */ "./node_modules/.pnpm/@tarojs+plugin-platform-weapp@4.0.8_@tarojs+service@4.0.8_@swc+helpers@0.5.15__@tarojs+shared@4.0.8/node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js");
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/ui-kit/message/components/chatflow-node/index.module.less");
/* harmony import */ var _atomic_button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../atomic/button */ "./src/libs/ui-kit/atomic/button/index.tsx");
/* harmony import */ var _atomic_spacing__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../atomic/spacing */ "./src/libs/ui-kit/atomic/spacing/index.tsx");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! classnames */ "./node_modules/.pnpm/classnames@2.5.1/node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _libs_provider__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/libs/provider */ "./src/libs/provider/index.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");












var InputNode = function InputNode(_ref) {
  var _data$input_card_data;
  var data = _ref.data,
    sendTextMessage = _ref.sendTextMessage,
    disabled = _ref.disabled;
  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({}),
    _useState2 = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_8__["default"])(_useState, 2),
    inputData = _useState2[0],
    setInputData = _useState2[1];
  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false),
    _useState4 = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_8__["default"])(_useState3, 2),
    hasSend = _useState4[0],
    setHasSend = _useState4[1];
  var realDisabled = disabled || hasSend;
  var i18n = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_6__.useI18n)();
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)(_atomic_spacing__WEBPACK_IMPORTED_MODULE_4__.Spacing, {
    className: classnames__WEBPACK_IMPORTED_MODULE_5___default()(_index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"]["input-node"], (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_9__["default"])({}, _index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"]["disabled"], realDisabled)),
    gap: 12,
    vertical: true,
    children: [data === null || data === void 0 || (_data$input_card_data = data.input_card_data) === null || _data$input_card_data === void 0 ? void 0 : _data$input_card_data.map(function (item, index) {
      return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)(_atomic_spacing__WEBPACK_IMPORTED_MODULE_4__.Spacing, {
        gap: 6,
        vertical: true,
        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_10__.Text, {
          className: _index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"]["input-node-text"],
          overflow: "ellipsis",
          numberOfLines: 1,
          children: item === null || item === void 0 ? void 0 : item.name
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_10__.Input, {
          className: _index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"]["input-node-input"],
          maxlength: -1,
          disabled: disabled || hasSend,
          placeholder: i18n.t("chatflowNodeInputPlaceholder"),
          onInput: function onInput(event) {
            setInputData((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_11__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_11__["default"])({}, inputData), {}, (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_9__["default"])({}, item.name, event.detail.value || "")));
          }
        })]
      }, index);
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_atomic_button__WEBPACK_IMPORTED_MODULE_3__.Button, {
      className: _index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"].btn,
      onClick: function onClick() {
        var _data$input_card_data2;
        if (realDisabled) {
          return;
        }
        setHasSend(true);
        sendTextMessage === null || sendTextMessage === void 0 || sendTextMessage((data === null || data === void 0 || (_data$input_card_data2 = data.input_card_data) === null || _data$input_card_data2 === void 0 ? void 0 : _data$input_card_data2.map(function (item) {
          return "".concat(item.name, ":").concat(inputData[item.name] || "");
        }).join("\n")) || "");
      },
      children: i18n.t("submit")
    })]
  });
};
var SwitchNode = function SwitchNode(_ref2) {
  var _data$question_card_d, _data$question_card_d2;
  var data = _ref2.data,
    disabled = _ref2.disabled,
    sendTextMessage = _ref2.sendTextMessage;
  var _useState5 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false),
    _useState6 = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_8__["default"])(_useState5, 2),
    hasSend = _useState6[0],
    setHasSend = _useState6[1];
  var realDisabled = disabled || hasSend;
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)(_tarojs_components__WEBPACK_IMPORTED_MODULE_10__.View, {
    className: classnames__WEBPACK_IMPORTED_MODULE_5___default()(_index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"]["switch-node"], (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_9__["default"])({}, _index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"].disabled, realDisabled)),
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_10__.Text, {
      className: _index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"]["switch-node-text"],
      children: data === null || data === void 0 || (_data$question_card_d = data.question_card_data) === null || _data$question_card_d === void 0 ? void 0 : _data$question_card_d.Title
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_atomic_spacing__WEBPACK_IMPORTED_MODULE_4__.Spacing, {
      vertical: true,
      gap: 6,
      children: data === null || data === void 0 || (_data$question_card_d2 = data.question_card_data) === null || _data$question_card_d2 === void 0 || (_data$question_card_d2 = _data$question_card_d2.Options) === null || _data$question_card_d2 === void 0 ? void 0 : _data$question_card_d2.map(function (item, index) {
        return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_10__.View, {
          className: _index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"]["switch-node-switch-item"],
          onClick: function onClick() {
            if (disabled) {
              return;
            }
            setHasSend(true);
            sendTextMessage === null || sendTextMessage === void 0 || sendTextMessage(item.name);
          },
          children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_10__.Text, {
            className: _index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"]["switch-node-switch-item-text"],
            numberOfLines: 1,
            overflow: "ellipsis",
            children: item.name
          })
        }, index);
      })
    })]
  });
};
var ChatflowNode = function ChatflowNode(_ref3) {
  var message = _ref3.message,
    sendTextMessage = _ref3.sendTextMessage,
    disabled = _ref3.disabled;
  var chatflowNodeData = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {
    return (0,_helper_extract_chatlow_message__WEBPACK_IMPORTED_MODULE_1__.extractChatflowMessage)(message);
  }, [message]);
  if (!chatflowNodeData) {
    return null;
  }
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.Fragment, {
    children: [chatflowNodeData.card_type === "INPUT" ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(InputNode, {
      data: chatflowNodeData,
      sendTextMessage: sendTextMessage,
      disabled: disabled
    }) : null, chatflowNodeData.card_type === "QUESTION" ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(SwitchNode, {
      data: chatflowNodeData,
      sendTextMessage: sendTextMessage,
      disabled: disabled
    }) : null]
  });
};

/***/ }),

/***/ "./src/libs/ui-kit/message/components/file/index.tsx":
/*!***********************************************************!*\
  !*** ./src/libs/ui-kit/message/components/file/index.tsx ***!
  \***********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FileMessage: function() { return /* binding */ FileMessage; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _tarojs_components__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @tarojs/components */ "./node_modules/.pnpm/@tarojs+plugin-platform-weapp@4.0.8_@tarojs+service@4.0.8_@swc+helpers@0.5.15__@tarojs+shared@4.0.8/node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js");
/* harmony import */ var _libs_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/libs/utils */ "./src/libs/utils/index.ts");
/* harmony import */ var _atomic_svg__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../atomic/svg */ "./src/libs/ui-kit/atomic/svg/index.tsx");
/* harmony import */ var _atomic_bubble__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../atomic/bubble */ "./src/libs/ui-kit/atomic/bubble/index.tsx");
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/ui-kit/message/components/file/index.module.less");
/* harmony import */ var _atomic_spacing__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../atomic/spacing */ "./src/libs/ui-kit/atomic/spacing/index.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");








var getSizeStr = function getSizeStr(size) {
  if (size < 1024) {
    return "".concat(size, "B");
  } else if (size < 1024 * 1024) {
    return "".concat((size / 1024).toFixed(2), "KB");
  } else {
    return "".concat((size / (1024 * 1024)).toFixed(2), "MB");
  }
};
var FileMessage = function FileMessage(_ref) {
  var filename = _ref.filename,
    size = _ref.size;
  var fileType = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {
    return (0,_libs_utils__WEBPACK_IMPORTED_MODULE_1__.getFileTypeByFileName)(filename);
  }, [filename]);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_7__.View, {
    className: _index_module_less__WEBPACK_IMPORTED_MODULE_4__["default"].file,
    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(_atomic_bubble__WEBPACK_IMPORTED_MODULE_3__.Bubble, {
      className: _index_module_less__WEBPACK_IMPORTED_MODULE_4__["default"].container,
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_atomic_svg__WEBPACK_IMPORTED_MODULE_2__.SvgFileType, {
        type: fileType,
        className: _index_module_less__WEBPACK_IMPORTED_MODULE_4__["default"].svg
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(_atomic_spacing__WEBPACK_IMPORTED_MODULE_5__.Spacing, {
        vertical: true,
        gap: 0,
        flex1: true,
        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_7__.Text, {
          className: _index_module_less__WEBPACK_IMPORTED_MODULE_4__["default"].txt,
          maxLines: 1,
          numberOfLines: 1,
          overflow: "ellipsis",
          children: filename
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_7__.Text, {
          className: _index_module_less__WEBPACK_IMPORTED_MODULE_4__["default"].size,
          maxLines: 1,
          numberOfLines: 1,
          overflow: "ellipsis",
          children: getSizeStr(size)
        })]
      })]
    })
  });
};

/***/ }),

/***/ "./src/libs/ui-kit/message/components/image/index.tsx":
/*!************************************************************!*\
  !*** ./src/libs/ui-kit/message/components/image/index.tsx ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ImageMessage: function() { return /* binding */ ImageMessage; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/slicedToArray.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _tarojs_taro__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @tarojs/taro */ "./node_modules/.pnpm/@tarojs+taro@4.0.8_@tarojs+components@4.0.8_@tarojs+helper@4.0.8_@swc+helpers@0.5.15__@_28b4aa939e10f4882a0917541e7336fe/node_modules/@tarojs/taro/index.js");
/* harmony import */ var _tarojs_taro__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_tarojs_taro__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _tarojs_components__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @tarojs/components */ "./node_modules/.pnpm/@tarojs+plugin-platform-weapp@4.0.8_@tarojs+service@4.0.8_@swc+helpers@0.5.15__@tarojs+shared@4.0.8/node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js");
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/ui-kit/message/components/image/index.module.less");
/* harmony import */ var _libs_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/libs/utils */ "./src/libs/utils/index.ts");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");







var ImageMessage = function ImageMessage(_ref) {
  var url = _ref.url,
    onImageClick = _ref.onImageClick;
  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(),
    _useState2 = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_5__["default"])(_useState, 2),
    imageWidth = _useState2[0],
    setImageWidth = _useState2[1];
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_6__.View, {
    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_6__.Image, {
      src: url,
      mode: "widthFix",
      className: _index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"].image,
      style: {
        width: imageWidth
      },
      onClick: function onClick() {
        if (onImageClick) {
          onImageClick === null || onImageClick === void 0 || onImageClick({
            url: url
          });
        } else {
          (0,_tarojs_taro__WEBPACK_IMPORTED_MODULE_1__.previewImage)({
            urls: [url],
            current: url,
            enableShowPhotoDownload: true
          });
        }
      },
      onLoad: function onLoad(res) {
        if (!_libs_utils__WEBPACK_IMPORTED_MODULE_3__.isWeb) {
          setImageWidth(res.detail.width || 200);
        }
      }
    })
  });
};

/***/ }),

/***/ "./src/libs/ui-kit/message/components/markdown/index.tsx":
/*!***************************************************************!*\
  !*** ./src/libs/ui-kit/message/components/markdown/index.tsx ***!
  \***************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MarkdownMessage: function() { return /* binding */ MarkdownMessage; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/slicedToArray.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _atomic_md_stream__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../atomic/md-stream */ "./src/libs/ui-kit/atomic/md-stream/index.tsx");
/* harmony import */ var _atomic_bubble__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../atomic/bubble */ "./src/libs/ui-kit/atomic/bubble/index.tsx");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! classnames */ "./node_modules/.pnpm/classnames@2.5.1/node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/ui-kit/message/components/markdown/index.module.less");
/* harmony import */ var _libs_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/libs/utils */ "./src/libs/utils/index.ts");
/* harmony import */ var _libs_provider__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/libs/provider */ "./src/libs/provider/index.tsx");
/* harmony import */ var _libs_hooks__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/libs/hooks */ "./src/libs/hooks/index.ts");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");










var MarkdownContent = function MarkdownContent(_ref) {
  var content = _ref.content,
    _ref$isComplete = _ref.isComplete,
    isComplete = _ref$isComplete === void 0 ? true : _ref$isComplete,
    onImageClick = _ref.onImageClick,
    taskDisabled = _ref.taskDisabled,
    onTaskChange = _ref.onTaskChange,
    className = _ref.className;
  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!isComplete),
    _useState2 = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_9__["default"])(_useState, 2),
    isSmooth = _useState2[0],
    setIsSmooth = _useState2[1];
  var i18n = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_6__.useI18n)();
  var onMarkdownEnd = (0,_libs_hooks__WEBPACK_IMPORTED_MODULE_7__.usePersistCallback)(function () {
    if (isSmooth !== false) {
      setIsSmooth(false);
    }
  });
  (0,_libs_hooks__WEBPACK_IMPORTED_MODULE_7__.useUpdateEffect)(function () {
    onMarkdownEnd();
  }, [isComplete]);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_atomic_md_stream__WEBPACK_IMPORTED_MODULE_1__.MdStream, {
    className: className,
    markdown: content,
    isSmooth: isSmooth,
    isFinish: isComplete,
    onMarkdownEnd: onMarkdownEnd,
    theme: "light",
    onImageClick: onImageClick,
    onTaskChange: onTaskChange,
    taskDisabled: taskDisabled,
    language: i18n.language,
    debug: _libs_utils__WEBPACK_IMPORTED_MODULE_5__.logger.isDebug()
  });
};
var MarkdownMessage = function MarkdownMessage(_ref2) {
  var reasoningContent = _ref2.reasoningContent,
    content = _ref2.content,
    _ref2$isComplete = _ref2.isComplete,
    isComplete = _ref2$isComplete === void 0 ? true : _ref2$isComplete,
    className = _ref2.className,
    onImageClick = _ref2.onImageClick,
    taskDisabled = _ref2.taskDisabled,
    onTaskChange = _ref2.onTaskChange;
  var reasonMessage = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {
    if (reasoningContent) {
      return reasoningContent.trim().replace(/^/gm, "> ");
    }
    return "";
  }, [reasoningContent]);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)(_atomic_bubble__WEBPACK_IMPORTED_MODULE_2__.Bubble, {
    isNeedBorder: false,
    className: classnames__WEBPACK_IMPORTED_MODULE_3___default()(_index_module_less__WEBPACK_IMPORTED_MODULE_4__["default"].markdown, className),
    children: [reasonMessage ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(MarkdownContent, {
      onImageClick: onImageClick,
      taskDisabled: true,
      className: _index_module_less__WEBPACK_IMPORTED_MODULE_4__["default"].reason,
      isComplete: isComplete || !!content,
      content: reasonMessage
    }) : null, !reasonMessage || content ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(MarkdownContent, {
      isComplete: isComplete,
      onImageClick: onImageClick,
      onTaskChange: onTaskChange,
      taskDisabled: taskDisabled,
      content: content
    }) : null]
  });
};

/***/ }),

/***/ "./src/libs/ui-kit/message/components/text/index.tsx":
/*!***********************************************************!*\
  !*** ./src/libs/ui-kit/message/components/text/index.tsx ***!
  \***********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TextMessage: function() { return /* binding */ TextMessage; }
/* harmony export */ });
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/.pnpm/classnames@2.5.1/node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _libs_ui_kit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/libs/ui-kit */ "./src/libs/ui-kit/index.ts");
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/ui-kit/message/components/text/index.module.less");
/* harmony import */ var _atomic_bubble__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../atomic/bubble */ "./src/libs/ui-kit/atomic/bubble/index.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");





var TextMessage = function TextMessage(_ref) {
  var content = _ref.content,
    isLoadingText = _ref.isLoadingText;
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment, {
    children: isLoadingText ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_atomic_bubble__WEBPACK_IMPORTED_MODULE_3__.Bubble, {
      className: classnames__WEBPACK_IMPORTED_MODULE_0___default()(_index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"]["question-text"], _index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"].text),
      isNeedBorder: false,
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_libs_ui_kit__WEBPACK_IMPORTED_MODULE_1__.Waiting, {})
    }) : /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_libs_ui_kit__WEBPACK_IMPORTED_MODULE_1__.BubbleText, {
      text: content,
      enter: true,
      space: true,
      className: classnames__WEBPACK_IMPORTED_MODULE_0___default()(_index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"]["question-text"], _index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"].text),
      isNeedBorder: false
    })
  });
};

/***/ }),

/***/ "./src/libs/ui-kit/message/components/waiting/index.tsx":
/*!**************************************************************!*\
  !*** ./src/libs/ui-kit/message/components/waiting/index.tsx ***!
  \**************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   WaitingMessage: function() { return /* binding */ WaitingMessage; }
/* harmony export */ });
/* harmony import */ var _atomic_waiting__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../atomic/waiting */ "./src/libs/ui-kit/atomic/waiting/index.tsx");
/* harmony import */ var _atomic_bubble__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../atomic/bubble */ "./src/libs/ui-kit/atomic/bubble/index.tsx");
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/ui-kit/message/components/waiting/index.module.less");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");




var WaitingMessage = function WaitingMessage() {
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_atomic_bubble__WEBPACK_IMPORTED_MODULE_1__.Bubble, {
    isNeedBorder: false,
    className: _index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"].waiting,
    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_atomic_waiting__WEBPACK_IMPORTED_MODULE_0__.Waiting, {})
  });
};

/***/ }),

/***/ "./src/libs/ui-kit/message/container/index.tsx":
/*!*****************************************************!*\
  !*** ./src/libs/ui-kit/message/container/index.tsx ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MessageContainer: function() { return /* binding */ MessageContainer; }
/* harmony export */ });
/* harmony import */ var _atomic_spacing__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../atomic/spacing */ "./src/libs/ui-kit/atomic/spacing/index.tsx");
/* harmony import */ var _tarojs_components__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @tarojs/components */ "./node_modules/.pnpm/@tarojs+plugin-platform-weapp@4.0.8_@tarojs+service@4.0.8_@swc+helpers@0.5.15__@tarojs+shared@4.0.8/node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js");
/* harmony import */ var _atomic_avatar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../atomic/avatar */ "./src/libs/ui-kit/atomic/avatar/index.tsx");
/* harmony import */ var _assets_imgs_avatar_png__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../assets/imgs/avatar.png */ "./src/libs/ui-kit/assets/imgs/avatar.png");
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/ui-kit/message/container/index.module.less");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");






var MessageContainer = function MessageContainer(_ref) {
  var children = _ref.children,
    senderInfo = _ref.senderInfo,
    className = _ref.className;
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(_atomic_spacing__WEBPACK_IMPORTED_MODULE_0__.Spacing, {
    gap: 12,
    className: className,
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_5__.View, {
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_atomic_avatar__WEBPACK_IMPORTED_MODULE_1__.Avatar, {
        src: (senderInfo === null || senderInfo === void 0 ? void 0 : senderInfo.avatar) || _assets_imgs_avatar_png__WEBPACK_IMPORTED_MODULE_2__,
        size: "medium"
      })
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(_atomic_spacing__WEBPACK_IMPORTED_MODULE_0__.Spacing, {
      vertical: true,
      flex1: true,
      gap: 5,
      className: _index_module_less__WEBPACK_IMPORTED_MODULE_3__["default"]["content"],
      children: [senderInfo !== null && senderInfo !== void 0 && senderInfo.name ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_5__.View, {
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_5__.Text, {
          numberOfLines: 1,
          overflow: "ellipsis",
          maxLines: 1,
          className: _index_module_less__WEBPACK_IMPORTED_MODULE_3__["default"].txt,
          children: senderInfo === null || senderInfo === void 0 ? void 0 : senderInfo.name
        })
      }) : null, children]
    })]
  });
};

/***/ }),

/***/ "./src/libs/ui-kit/message/content/index.tsx":
/*!***************************************************!*\
  !*** ./src/libs/ui-kit/message/content/index.tsx ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MessageContent: function() { return /* binding */ MessageContent; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectSpread2.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectSpread2.js");
/* harmony import */ var _libs_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/libs/utils */ "./src/libs/utils/index.ts");
/* harmony import */ var _libs_provider__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/libs/provider */ "./src/libs/provider/index.tsx");
/* harmony import */ var _helper_extract_chatlow_message__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../helper/extract-chatlow-message */ "./src/libs/ui-kit/message/helper/extract-chatlow-message.ts");
/* harmony import */ var _atomic_error_boundary__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../atomic/error-boundary */ "./src/libs/ui-kit/atomic/error-boundary/index.tsx");
/* harmony import */ var _components_text__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/text */ "./src/libs/ui-kit/message/components/text/index.tsx");
/* harmony import */ var _components_markdown__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/markdown */ "./src/libs/ui-kit/message/components/markdown/index.tsx");
/* harmony import */ var _components_image__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../components/image */ "./src/libs/ui-kit/message/components/image/index.tsx");
/* harmony import */ var _components_file__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../components/file */ "./src/libs/ui-kit/message/components/file/index.tsx");
/* harmony import */ var _components_chatflow_node__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../components/chatflow-node */ "./src/libs/ui-kit/message/components/chatflow-node/index.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");











var getObjectValue = function getObjectValue(objectString) {
  return (0,_libs_utils__WEBPACK_IMPORTED_MODULE_0__.safeJSONParse)(objectString, []);
};
var MessageContent = function MessageContent(props) {
  var message = props.message,
    isAWaiting = props.isAWaiting;
  var i18n = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_1__.useI18n)();
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxs)(_atomic_error_boundary__WEBPACK_IMPORTED_MODULE_3__.ErrorBoundary, {
    fallbackNode: !isAWaiting ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_components_text__WEBPACK_IMPORTED_MODULE_4__.TextMessage, {
      content: i18n.t("noAnswer")
    }) : /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.Fragment, {}),
    children: [message.content_type === "text" ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(TextItem, (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_10__["default"])({}, props)) : null, message.content_type === "object_string" ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(ObjectStringItem, (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_10__["default"])({}, props)) : null, message.content_type === "card" ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(CardItem, (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_10__["default"])({}, props)) : null]
  });
};
var TextItem = function TextItem(props) {
  var message = props.message,
    isAWaiting = props.isAWaiting,
    onImageClick = props.onImageClick,
    onTaskChange = props.onTaskChange,
    messageUiConfigMap = props.messageUiConfigMap,
    isLastMessage = props.isLastMessage;
  var _ref = (messageUiConfigMap === null || messageUiConfigMap === void 0 ? void 0 : messageUiConfigMap["text"]) || {},
    renderMessage = _ref.renderMessage;
  if (message.content_type !== "text") {
    return null;
  }
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.Fragment, {
    children: (renderMessage === null || renderMessage === void 0 ? void 0 : renderMessage(props)) || /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.Fragment, {
      children: message.type === "question" ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_components_text__WEBPACK_IMPORTED_MODULE_4__.TextMessage, {
        content: message.content,
        isLoadingText: message.isAudioTranslatingToText
      }) : /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_components_markdown__WEBPACK_IMPORTED_MODULE_5__.MarkdownMessage, {
        reasoningContent: message.reasoning_content,
        content: message.content,
        isComplete: !isAWaiting || message.isComplete,
        onImageClick: onImageClick,
        onTaskChange: onTaskChange,
        taskDisabled: !isLastMessage
      })
    })
  });
};
var ObjectStringItem = function ObjectStringItem(props) {
  var _getObjectValue;
  var message = props.message,
    onImageClick = props.onImageClick,
    messageUiConfigMap = props.messageUiConfigMap,
    onTaskChange = props.onTaskChange,
    isLastMessage = props.isLastMessage;
  var i18n = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_1__.useI18n)();
  var _ref2 = (messageUiConfigMap === null || messageUiConfigMap === void 0 ? void 0 : messageUiConfigMap["text"]) || {},
    renderMessage = _ref2.renderMessage;
  if (message.content_type !== "object_string") {
    return null;
  }
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.Fragment, {
    children: (renderMessage === null || renderMessage === void 0 ? void 0 : renderMessage(props)) || ((_getObjectValue = getObjectValue(message.content)) === null || _getObjectValue === void 0 ? void 0 : _getObjectValue.map(function (item, index) {
      switch (item.type) {
        case "text":
          {
            return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.Fragment, {
              children: message.type === "question" ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_components_text__WEBPACK_IMPORTED_MODULE_4__.TextMessage, {
                content: item.text,
                isLoadingText: message.isAudioTranslatingToText
              }) : /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_components_markdown__WEBPACK_IMPORTED_MODULE_5__.MarkdownMessage, {
                content: item.text,
                isComplete: true,
                onImageClick: onImageClick,
                onTaskChange: onTaskChange,
                taskDisabled: !isLastMessage
              })
            });
          }
        case "file":
          {
            return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_components_file__WEBPACK_IMPORTED_MODULE_7__.FileMessage
            // @ts-expect-error -- linter-disable-autofix
            , {
              filename: item.name || "",
              // @ts-expect-error -- linter-disable-autofix
              size: item.size || 0
            }, "".concat(item.type, "_").concat(index));
          }
        case "image":
          {
            return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_components_image__WEBPACK_IMPORTED_MODULE_6__.ImageMessage
            // @ts-expect-error -- linter-disable-autofix
            , {
              url: item.file_url,
              onImageClick: onImageClick
            }, "".concat(item.type, "_").concat(index));
          }
        default:
          {
            return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_components_text__WEBPACK_IMPORTED_MODULE_4__.TextMessage, {
              content: i18n.t("messageTypeUnSupport")
            }, "".concat(item.type, "_").concat(index));
          }
      }
    }))
  });
};
var CardItem = function CardItem(props) {
  var message = props.message,
    messageUiConfigMap = props.messageUiConfigMap,
    sendTextMessage = props.sendTextMessage,
    isLastMessage = props.isLastMessage,
    isReadOnly = props.isReadOnly;
  var _ref3 = (messageUiConfigMap === null || messageUiConfigMap === void 0 ? void 0 : messageUiConfigMap["card"]) || {},
    renderCardMessage = _ref3.renderMessage;
  var _ref4 = (messageUiConfigMap === null || messageUiConfigMap === void 0 ? void 0 : messageUiConfigMap["chatflow_node"]) || {},
    renderChatflowNodeMessage = _ref4.renderMessage;
  var chatflowNodeData = (0,_helper_extract_chatlow_message__WEBPACK_IMPORTED_MODULE_2__.extractChatflowMessage)(message);
  var isChatflowNode = Boolean(chatflowNodeData);
  if (message.content_type !== "card") {
    return null;
  }
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.Fragment, {
    children: isChatflowNode ? (renderChatflowNodeMessage === null || renderChatflowNodeMessage === void 0 ? void 0 : renderChatflowNodeMessage(props)) || /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_components_chatflow_node__WEBPACK_IMPORTED_MODULE_8__.ChatflowNode, {
      message: message,
      sendTextMessage: sendTextMessage,
      disabled: !isLastMessage || isReadOnly
    }) : (renderCardMessage === null || renderCardMessage === void 0 ? void 0 : renderCardMessage(props)) || null
  });
};

/***/ }),

/***/ "./src/libs/ui-kit/message/helper/extract-chatlow-message.ts":
/*!*******************************************************************!*\
  !*** ./src/libs/ui-kit/message/helper/extract-chatlow-message.ts ***!
  \*******************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   extractChatflowMessage: function() { return /* binding */ extractChatflowMessage; }
/* harmony export */ });
/* harmony import */ var _libs_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/libs/utils */ "./src/libs/utils/index.ts");

var extractChatflowMessage = function extractChatflowMessage(item) {
  if (item.content_type === "card") {
    var _contentStruct$x_prop;
    var contentStruct = (0,_libs_utils__WEBPACK_IMPORTED_MODULE_0__.safeJSONParse)(item.content);
    var workflowDataStr = contentStruct === null || contentStruct === void 0 || (_contentStruct$x_prop = contentStruct["x_properties"]) === null || _contentStruct$x_prop === void 0 ? void 0 : _contentStruct$x_prop["workflow_card_info"];
    if (workflowDataStr) {
      var cardData = (0,_libs_utils__WEBPACK_IMPORTED_MODULE_0__.safeJSONParse)(workflowDataStr);
      if ((cardData === null || cardData === void 0 ? void 0 : cardData.card_type) === "QUESTION" && cardData !== null && cardData !== void 0 && cardData.question_card_data) {
        return cardData;
      }
      if ((cardData === null || cardData === void 0 ? void 0 : cardData.card_type) === "INPUT" && cardData !== null && cardData !== void 0 && cardData.input_card_data) {
        return cardData;
      }
    }
  }
  return undefined;
};

/***/ }),

/***/ "./src/libs/ui-kit/message/helper/is-support-snaswer-message.ts":
/*!**********************************************************************!*\
  !*** ./src/libs/ui-kit/message/helper/is-support-snaswer-message.ts ***!
  \**********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   isSupportAnswerMessage: function() { return /* binding */ isSupportAnswerMessage; }
/* harmony export */ });
/* harmony import */ var _extract_chatlow_message__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./extract-chatlow-message */ "./src/libs/ui-kit/message/helper/extract-chatlow-message.ts");

var isSupportAnswerMessage = function isSupportAnswerMessage(item, messageUiMap) {
  var _messageUiMap$content;
  var chatflowNode = (0,_extract_chatlow_message__WEBPACK_IMPORTED_MODULE_0__.extractChatflowMessage)(item);
  var contentType = !!Boolean(chatflowNode) ? "chatflow_node" : item.content_type;
  if (item.type !== "answer") {
    return false;
  }
  if (messageUiMap !== null && messageUiMap !== void 0 && (_messageUiMap$content = messageUiMap[contentType]) !== null && _messageUiMap$content !== void 0 && _messageUiMap$content.isSupportMessage) {
    var _messageUiMap$content2, _messageUiMap$content3;
    return messageUiMap === null || messageUiMap === void 0 || (_messageUiMap$content2 = messageUiMap[contentType]) === null || _messageUiMap$content2 === void 0 || (_messageUiMap$content3 = _messageUiMap$content2.isSupportMessage) === null || _messageUiMap$content3 === void 0 ? void 0 : _messageUiMap$content3.call(_messageUiMap$content2, item);
  }
  if (!item.content && !item.reasoning_content) {
    return false;
  }
  if (!["object_string", "text", "chatflow_node"].includes(contentType)) {
    return false;
  }
  return true;
};

/***/ }),

/***/ "./src/libs/ui-kit/message/index.tsx":
/*!*******************************************!*\
  !*** ./src/libs/ui-kit/message/index.tsx ***!
  \*******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MessageContainer: function() { return /* reexport safe */ _container__WEBPACK_IMPORTED_MODULE_2__.MessageContainer; },
/* harmony export */   MessageContent: function() { return /* reexport safe */ _content__WEBPACK_IMPORTED_MODULE_3__.MessageContent; },
/* harmony export */   WaitingMessage: function() { return /* reexport safe */ _components_waiting__WEBPACK_IMPORTED_MODULE_4__.WaitingMessage; },
/* harmony export */   isSupportAnswerMessage: function() { return /* reexport safe */ _helper_is_support_snaswer_message__WEBPACK_IMPORTED_MODULE_6__.isSupportAnswerMessage; }
/* harmony export */ });
/* harmony import */ var _components_text__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./components/text */ "./src/libs/ui-kit/message/components/text/index.tsx");
/* harmony import */ var _components_image__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./components/image */ "./src/libs/ui-kit/message/components/image/index.tsx");
/* harmony import */ var _container__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./container */ "./src/libs/ui-kit/message/container/index.tsx");
/* harmony import */ var _content__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./content */ "./src/libs/ui-kit/message/content/index.tsx");
/* harmony import */ var _components_waiting__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./components/waiting */ "./src/libs/ui-kit/message/components/waiting/index.tsx");
/* harmony import */ var _helper_extract_chatlow_message__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./helper/extract-chatlow-message */ "./src/libs/ui-kit/message/helper/extract-chatlow-message.ts");
/* harmony import */ var _helper_is_support_snaswer_message__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./helper/is-support-snaswer-message */ "./src/libs/ui-kit/message/helper/is-support-snaswer-message.ts");








/***/ }),

/***/ "./src/libs/ui-kit/onboarding/index.tsx":
/*!**********************************************!*\
  !*** ./src/libs/ui-kit/onboarding/index.tsx ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   OnBoarding: function() { return /* binding */ OnBoarding; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _tarojs_components__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @tarojs/components */ "./node_modules/.pnpm/@tarojs+plugin-platform-weapp@4.0.8_@tarojs+service@4.0.8_@swc+helpers@0.5.15__@tarojs+shared@4.0.8/node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js");
/* harmony import */ var _suggestion_list__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../suggestion-list */ "./src/libs/ui-kit/suggestion-list/index.tsx");
/* harmony import */ var _message_components_markdown__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../message/components/markdown */ "./src/libs/ui-kit/message/components/markdown/index.tsx");
/* harmony import */ var _atomic_error_boundary__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../atomic/error-boundary */ "./src/libs/ui-kit/atomic/error-boundary/index.tsx");
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/ui-kit/onboarding/index.module.less");
/* harmony import */ var _libs_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/libs/utils */ "./src/libs/utils/index.ts");
/* harmony import */ var _atomic_c_image__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../atomic/c-image */ "./src/libs/ui-kit/atomic/c-image/index.tsx");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! classnames */ "./node_modules/.pnpm/classnames@2.5.1/node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _libs_provider__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/libs/provider */ "./src/libs/provider/index.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");












var OnBoarding = function OnBoarding(_ref) {
  var _chatInfo$onboarding_2, _chatInfo$onboarding_3, _chatInfo$onboarding_4, _chatInfo$onboarding_5;
  var chatInfo = _ref.chat,
    userInfo = _ref.user,
    onClickSuggestion = _ref.onClickSuggestion,
    onImageClick = _ref.onImageClick;
  var cdnBaseurlPath = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_8__.useChatPropsStore)(function (store) {
    var _store$setting;
    return (_store$setting = store.setting) === null || _store$setting === void 0 ? void 0 : _store$setting.cdnBaseUrlPath;
  });
  var prologue = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {
    var _chatInfo$onboarding_;
    var formatPrologue = ((chatInfo === null || chatInfo === void 0 || (_chatInfo$onboarding_ = chatInfo.onboarding_info) === null || _chatInfo$onboarding_ === void 0 ? void 0 : _chatInfo$onboarding_.prologue) || "").replaceAll("{{user_name}}", (userInfo === null || userInfo === void 0 ? void 0 : userInfo.name) || "");
    return formatPrologue !== "\n" ? formatPrologue : "";
  }, [chatInfo === null || chatInfo === void 0 || (_chatInfo$onboarding_2 = chatInfo.onboarding_info) === null || _chatInfo$onboarding_2 === void 0 ? void 0 : _chatInfo$onboarding_2.prologue]);
  var isVerticalCenter = !prologue && !(chatInfo !== null && chatInfo !== void 0 && (_chatInfo$onboarding_3 = chatInfo.onboarding_info) !== null && _chatInfo$onboarding_3 !== void 0 && (_chatInfo$onboarding_3 = _chatInfo$onboarding_3.suggested_questions) !== null && _chatInfo$onboarding_3 !== void 0 && _chatInfo$onboarding_3.length);
  var isMobile = (0,_libs_provider__WEBPACK_IMPORTED_MODULE_8__.useIsMobile)();
  _libs_utils__WEBPACK_IMPORTED_MODULE_5__.logger.debug("OnBoarding props", prologue, chatInfo);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxs)(_tarojs_components__WEBPACK_IMPORTED_MODULE_10__.View, {
    className: classnames__WEBPACK_IMPORTED_MODULE_7___default()(_index_module_less__WEBPACK_IMPORTED_MODULE_4__["default"].container, (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_11__["default"])({}, _index_module_less__WEBPACK_IMPORTED_MODULE_4__["default"]["vertical-center"], isVerticalCenter)),
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxs)(_tarojs_components__WEBPACK_IMPORTED_MODULE_10__.View, {
      className: _index_module_less__WEBPACK_IMPORTED_MODULE_4__["default"]["info-container"],
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_atomic_c_image__WEBPACK_IMPORTED_MODULE_6__.CImage, {
        src: (chatInfo === null || chatInfo === void 0 ? void 0 : chatInfo.icon_url) || (0,_libs_utils__WEBPACK_IMPORTED_MODULE_5__.getCdnUrl)(cdnBaseurlPath, "assets/imgs/coze-logo.png"),
        className: _index_module_less__WEBPACK_IMPORTED_MODULE_4__["default"]["app-avatar"],
        mode: "aspectFill"
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_10__.Text, {
        className: _index_module_less__WEBPACK_IMPORTED_MODULE_4__["default"]["chat-name"],
        overflow: "ellipsis",
        numberOfLines: 1,
        maxLines: 1,
        children: (chatInfo === null || chatInfo === void 0 ? void 0 : chatInfo.name) || ""
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_atomic_error_boundary__WEBPACK_IMPORTED_MODULE_3__.ErrorBoundary, {
        fallbackNode: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.Fragment, {}),
        children: prologue ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_message_components_markdown__WEBPACK_IMPORTED_MODULE_2__.MarkdownMessage, {
          content: prologue,
          isComplete: true,
          className: _index_module_less__WEBPACK_IMPORTED_MODULE_4__["default"].prologue,
          onImageClick: onImageClick
        }) : null
      })]
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_suggestion_list__WEBPACK_IMPORTED_MODULE_1__.SuggestionList, {
      suggestions: (chatInfo === null || chatInfo === void 0 || (_chatInfo$onboarding_4 = chatInfo.onboarding_info) === null || _chatInfo$onboarding_4 === void 0 ? void 0 : _chatInfo$onboarding_4.suggested_questions) || [],
      onClickSuggestion: onClickSuggestion,
      isDisplayAll: chatInfo === null || chatInfo === void 0 || (_chatInfo$onboarding_5 = chatInfo.onboarding_info) === null || _chatInfo$onboarding_5 === void 0 ? void 0 : _chatInfo$onboarding_5.display_all_suggestions,
      isVertical: isMobile
    })]
  });
};

/***/ }),

/***/ "./src/libs/ui-kit/suggestion-list/index.tsx":
/*!***************************************************!*\
  !*** ./src/libs/ui-kit/suggestion-list/index.tsx ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SuggestionList: function() { return /* binding */ SuggestionList; }
/* harmony export */ });
/* harmony import */ var _atomic_spacing__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../atomic/spacing */ "./src/libs/ui-kit/atomic/spacing/index.tsx");
/* harmony import */ var _atomic_bubble_text__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../atomic/bubble-text */ "./src/libs/ui-kit/atomic/bubble-text/index.tsx");
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./index.module.less */ "./src/libs/ui-kit/suggestion-list/index.module.less");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! classnames */ "./node_modules/.pnpm/classnames@2.5.1/node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js");





var SuggestionList = function SuggestionList(_ref) {
  var suggestions = _ref.suggestions,
    onClickSuggestion = _ref.onClickSuggestion,
    _ref$isVertical = _ref.isVertical,
    isVertical = _ref$isVertical === void 0 ? true : _ref$isVertical,
    _ref$isDisplayAll = _ref.isDisplayAll,
    isDisplayAll = _ref$isDisplayAll === void 0 ? false : _ref$isDisplayAll;
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_atomic_spacing__WEBPACK_IMPORTED_MODULE_0__.Spacing, {
    gap: 8,
    vertical: isVertical,
    className: classnames__WEBPACK_IMPORTED_MODULE_3___default()(_index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"]["suggestion-list"]),
    children: suggestions.slice(0, isDisplayAll ? suggestions.length : 3).map(function (item, index) {
      return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_atomic_bubble_text__WEBPACK_IMPORTED_MODULE_1__.BubbleText, {
        className: _index_module_less__WEBPACK_IMPORTED_MODULE_2__["default"].suggestion,
        text: item,
        canClick: false,
        selectable: false,
        onClick: function onClick() {
          onClickSuggestion === null || onClickSuggestion === void 0 || onClickSuggestion(item);
        }
      }, index);
    })
  });
};

/***/ }),

/***/ "./src/libs/utils/adapter.ts":
/*!***********************************!*\
  !*** ./src/libs/utils/adapter.ts ***!
  \***********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   taroAdapter: function() { return /* binding */ taroAdapter; }
/* harmony export */ });
/* harmony import */ var _tarojs_taro__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tarojs/taro */ "./node_modules/.pnpm/@tarojs+taro@4.0.8_@tarojs+components@4.0.8_@tarojs+helper@4.0.8_@swc+helpers@0.5.15__@_28b4aa939e10f4882a0917541e7336fe/node_modules/@tarojs/taro/index.js");
/* harmony import */ var _tarojs_taro__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_tarojs_taro__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _tarojs_shared__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @tarojs/shared */ "./node_modules/.pnpm/@tarojs+shared@4.0.8/node_modules/@tarojs/shared/dist/is.js");
/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./logger */ "./src/libs/utils/logger.ts");



var taroAdapter = function taroAdapter(config) {
  var url = config.url,
    method = config.method,
    data = config.data,
    headers = config.headers;
  var header = (0,_tarojs_shared__WEBPACK_IMPORTED_MODULE_2__.isFunction)(headers.toJSON) ? headers.toJSON() : headers;
  header["Content-Type"] = header["Content-Type"] || "application/json";
  _logger__WEBPACK_IMPORTED_MODULE_1__.logger.debug("taroAdapter:", config);
  var responseType = config.responseType === "arraybuffer" ? "arraybuffer" : "text";
  return new Promise(function (resolve, reject) {
    (0,_tarojs_taro__WEBPACK_IMPORTED_MODULE_0__.request)({
      url: url,
      method: (method !== null && method !== void 0 ? method : "GET").toUpperCase(),
      data: data,
      header: header,
      responseType: responseType,
      timeout: 60 * 10 * 1000,
      success: function success(res) {
        resolve({
          data: res.data,
          status: res.statusCode,
          statusText: res.errMsg,
          headers: res.header,
          config: config
        });
      },
      fail: function fail(err) {
        reject(err);
      }
    });
  });
};

/***/ }),

/***/ "./src/libs/utils/decorder.ts":
/*!************************************!*\
  !*** ./src/libs/utils/decorder.ts ***!
  \************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TextDecoder: function() { return /* binding */ TextDecoder; },
/* harmony export */   TextEncoder: function() { return /* binding */ TextEncoder; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/classCallCheck.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/createClass.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/createClass.js");
/* provided dependency */ var window = __webpack_require__(/*! @tarojs/runtime */ "./node_modules/.pnpm/@tarojs+runtime@4.0.8/node_modules/@tarojs/runtime/dist/index.js")["window"];


var _TextDecoder, _TextEncoder;
/* eslint-disable @typescript-eslint/no-magic-numbers -- ignore */
/* eslint-disable security/detect-object-injection -- ignore */
// reference: https://gist.github.com/Yaffle/5458286
var TextEncoderPonyfill = /*#__PURE__*/function () {
  function TextEncoderPonyfill() {
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_0__["default"])(this, TextEncoderPonyfill);
  }
  return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_1__["default"])(TextEncoderPonyfill, [{
    key: "encode",
    value: function encode(str) {
      var octets = [];
      var length = str.length;
      var i = 0;
      while (i < length) {
        var codePoint = str.codePointAt(i);
        var c = 0;
        var bits = 0;
        if (codePoint <= 0x0000007f) {
          c = 0;
          bits = 0x00;
        } else if (codePoint <= 0x000007ff) {
          c = 6;
          bits = 0xc0;
        } else if (codePoint <= 0x0000ffff) {
          c = 12;
          bits = 0xe0;
        } else if (codePoint <= 0x001fffff) {
          c = 18;
          bits = 0xf0;
        }
        octets.push(bits | codePoint >> c);
        c -= 6;
        while (c >= 0) {
          octets.push(0x80 | codePoint >> c & 0x3f);
          c -= 6;
        }
        i += codePoint >= 0x10000 ? 2 : 1;
      }
      return octets;
    }
  }]);
}();
var TextDecoderPonyfill = /*#__PURE__*/function () {
  function TextDecoderPonyfill() {
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_0__["default"])(this, TextDecoderPonyfill);
  }
  return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_1__["default"])(TextDecoderPonyfill, [{
    key: "decode",
    value: function decode(octets) {
      var string = "";
      var i = 0;
      while (i < octets.length) {
        var octet = octets[i];
        var bytesNeeded = 0;
        var codePoint = 0;
        if (octet <= 0x7f) {
          bytesNeeded = 0;
          codePoint = octet & 0xff;
        } else if (octet <= 0xdf) {
          bytesNeeded = 1;
          codePoint = octet & 0x1f;
        } else if (octet <= 0xef) {
          bytesNeeded = 2;
          codePoint = octet & 0x0f;
        } else if (octet <= 0xf4) {
          bytesNeeded = 3;
          codePoint = octet & 0x07;
        }
        if (octets.length - i - bytesNeeded > 0) {
          var k = 0;
          while (k < bytesNeeded) {
            octet = octets[i + k + 1];
            codePoint = codePoint << 6 | octet & 0x3f;
            k += 1;
          }
        } else {
          codePoint = 0xfffd;
          bytesNeeded = octets.length - i;
        }
        string += String.fromCodePoint(codePoint);
        i += bytesNeeded + 1;
      }
      return string;
    }
  }]);
}();
var TextDecoder = (_TextDecoder = (globalThis || window).TextDecoder) !== null && _TextDecoder !== void 0 ? _TextDecoder : TextDecoderPonyfill;
var TextEncoder = (_TextEncoder = (globalThis || window).TextEncoder) !== null && _TextEncoder !== void 0 ? _TextEncoder : TextEncoderPonyfill;

/***/ }),

/***/ "./src/libs/utils/device.ts":
/*!**********************************!*\
  !*** ./src/libs/utils/device.ts ***!
  \**********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   isTT: function() { return /* binding */ isTT; },
/* harmony export */   isWeapp: function() { return /* binding */ isWeapp; },
/* harmony export */   isWeb: function() { return /* binding */ isWeb; }
/* harmony export */ });
/* unused harmony export isMini */
/* harmony import */ var _tarojs_taro__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tarojs/taro */ "./node_modules/.pnpm/@tarojs+taro@4.0.8_@tarojs+components@4.0.8_@tarojs+helper@4.0.8_@swc+helpers@0.5.15__@_28b4aa939e10f4882a0917541e7336fe/node_modules/@tarojs/taro/index.js");
/* harmony import */ var _tarojs_taro__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_tarojs_taro__WEBPACK_IMPORTED_MODULE_0__);

var env = (0,_tarojs_taro__WEBPACK_IMPORTED_MODULE_0__.getEnv)();
var isWeb = env === _tarojs_taro__WEBPACK_IMPORTED_MODULE_0__.ENV_TYPE.WEB;
var isWeapp = env === _tarojs_taro__WEBPACK_IMPORTED_MODULE_0__.ENV_TYPE.WEAPP;
var isTT = env === _tarojs_taro__WEBPACK_IMPORTED_MODULE_0__.ENV_TYPE.TT;
var isMini = !isWeb;

/***/ }),

/***/ "./src/libs/utils/env.ts":
/*!*******************************!*\
  !*** ./src/libs/utils/env.ts ***!
  \*******************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony exports Region, getRegionApi */
var Region = /*#__PURE__*/function (Region) {
  Region["OVERSEA"] = "oversea";
  Region["CN"] = "cn";
  return Region;
}({});
var getRegionApi = function getRegionApi(region) {
  switch (region) {
    case "oversea":
      return "https://api.coze.com";
    default:
      {
        return "https://api.coze.cn";
      }
  }
};

/***/ }),

/***/ "./src/libs/utils/event-source/event-source.ts":
/*!*****************************************************!*\
  !*** ./src/libs/utils/event-source/event-source.ts ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EventJsonDataType: function() { return /* binding */ EventJsonDataType; },
/* harmony export */   EventSourceBase: function() { return /* binding */ EventSourceBase; },
/* harmony export */   MessageEvent: function() { return /* binding */ MessageEvent; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/classCallCheck.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/createClass.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var _tarojs_taro__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tarojs/taro */ "./node_modules/.pnpm/@tarojs+taro@4.0.8_@tarojs+components@4.0.8_@tarojs+helper@4.0.8_@swc+helpers@0.5.15__@_28b4aa939e10f4882a0917541e7336fe/node_modules/@tarojs/taro/index.js");
/* harmony import */ var _tarojs_taro__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_tarojs_taro__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _libs_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/libs/utils */ "./src/libs/utils/index.ts");





var EventJsonDataType = Symbol("eventJsonDataType");
var MessageEvent = /*#__PURE__*/function (MessageEvent) {
  MessageEvent["ERROR"] = "error";
  MessageEvent["CLOSE"] = "close";
  MessageEvent["OPEN"] = "open";
  MessageEvent["MESSAGE"] = "message";
  return MessageEvent;
}({});
var EventSourceBase = /*#__PURE__*/function () {
  function EventSourceBase(_ref) {
    var url = _ref.url,
      _ref$method = _ref.method,
      method = _ref$method === void 0 ? "GET" : _ref$method,
      _ref$header = _ref.header,
      header = _ref$header === void 0 ? {} : _ref$header,
      data = _ref.data;
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_2__["default"])(this, EventSourceBase);
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_3__["default"])(this, "url", void 0);
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_3__["default"])(this, "method", void 0);
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_3__["default"])(this, "header", void 0);
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_3__["default"])(this, "data", void 0);
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_3__["default"])(this, "isClosed", false);
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_3__["default"])(this, "event", new _tarojs_taro__WEBPACK_IMPORTED_MODULE_0__.Events());
    this.url = url;
    this.method = method;
    this.header = header;
    this.data = data;
  }
  return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_4__["default"])(EventSourceBase, [{
    key: "sendMessage",
    value: function sendMessage() {
      this._sendMessage();
    }
  }, {
    key: "_sendMessage",
    value: function _sendMessage() {
      throw new _libs_utils__WEBPACK_IMPORTED_MODULE_1__.MiniChatError(-1, "not implemented");
    }
  }, {
    key: "close",
    value: function close() {
      if (this.isClosed) {
        return false;
      }
      this.isClosed = true;
      this.event.trigger(MessageEvent.CLOSE);
      this.event.off();
      return true;
    }
  }, {
    key: "onError",
    value: function onError(_onError) {
      this.event.on(MessageEvent.ERROR, function (err) {
        _onError(new _libs_utils__WEBPACK_IMPORTED_MODULE_1__.MiniChatError(-1, err.errMsg));
      });
    }
  }, {
    key: "onClose",
    value: function onClose(_onClose) {
      this.event.on(MessageEvent.CLOSE, _onClose);
    }
  }, {
    key: "onMessage",
    value: function onMessage(_onMessage) {
      this.event.on(MessageEvent.MESSAGE, _onMessage);
    }
  }, {
    key: "onOpen",
    value: function onOpen(_onOpen) {
      this.event.on(MessageEvent.OPEN, _onOpen);
    }
  }]);
}();

/***/ }),

/***/ "./src/libs/utils/event-source/request.ts":
/*!************************************************!*\
  !*** ./src/libs/utils/event-source/request.ts ***!
  \************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   requestSSE: function() { return /* binding */ requestSSE; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/awaitAsyncGenerator.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/awaitAsyncGenerator.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_wrapAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/wrapAsyncGenerator.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/wrapAsyncGenerator.js");
/* harmony import */ var _device__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../device */ "./src/libs/utils/device.ts");
/* harmony import */ var _tt_event_source__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./tt-event-source */ "./src/libs/utils/event-source/tt-event-source.ts");
/* harmony import */ var _wx_event_source__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./wx-event-source */ "./src/libs/utils/event-source/wx-event-source.ts");







function getPromiseInfo() {
  var resolve = undefined;
  var reject = undefined;
  var promise = new Promise(function (resolveIn, rejectIn) {
    resolve = resolveIn;
    reject = rejectIn;
  });
  return {
    resolve: resolve,
    reject: reject,
    promise: promise
  };
}
function requestSSE(_x) {
  return _requestSSE.apply(this, arguments);
}
function _requestSSE() {
  _requestSSE = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_wrapAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(/*#__PURE__*/(0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4__["default"])().mark(function _callee(options) {
    var eventSource, yieldPromise, resolve, reject, isDone, messageList, messageListNow, _iterator, _step, eventData, genNextPromise;
    return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4__["default"])().wrap(function _callee$(_context) {
      while (1) switch (_context.prev = _context.next) {
        case 0:
          genNextPromise = function _genNextPromise() {
            var _getPromiseInfo = getPromiseInfo(),
              resolveInit = _getPromiseInfo.resolve,
              rejectInit = _getPromiseInfo.reject,
              promiseInit = _getPromiseInfo.promise;
            yieldPromise = promiseInit;
            resolve = resolveInit;
            reject = rejectInit;
          };
          eventSource = _device__WEBPACK_IMPORTED_MODULE_1__.isTT ? new _tt_event_source__WEBPACK_IMPORTED_MODULE_2__.TTEventSource(options) : new _wx_event_source__WEBPACK_IMPORTED_MODULE_3__.WxEventSource(options);
          yieldPromise = undefined;
          resolve = undefined;
          reject = undefined;
          isDone = false;
          messageList = [];
          eventSource.onOpen(function () {});
          eventSource.onMessage(function (data) {
            var _resolve;
            messageList.push(data);
            (_resolve = resolve) === null || _resolve === void 0 || _resolve(undefined);
          });
          eventSource.onClose(function () {
            var _resolve2;
            (_resolve2 = resolve) === null || _resolve2 === void 0 || _resolve2(undefined);
            isDone = true;
          });
          eventSource.onError(function (err) {
            var _reject;
            (_reject = reject) === null || _reject === void 0 || _reject(err);
            isDone = true;
          });
          eventSource.sendMessage();
          genNextPromise();
        case 13:
          _context.next = 15;
          return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_5__["default"])(yieldPromise);
        case 15:
          messageListNow = messageList.splice(0);
          genNextPromise();
          _iterator = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_6__["default"])(messageListNow);
          _context.prev = 18;
          _iterator.s();
        case 20:
          if ((_step = _iterator.n()).done) {
            _context.next = 27;
            break;
          }
          eventData = _step.value;
          if (!eventData) {
            _context.next = 25;
            break;
          }
          _context.next = 25;
          return eventData;
        case 25:
          _context.next = 20;
          break;
        case 27:
          _context.next = 32;
          break;
        case 29:
          _context.prev = 29;
          _context.t0 = _context["catch"](18);
          _iterator.e(_context.t0);
        case 32:
          _context.prev = 32;
          _iterator.f();
          return _context.finish(32);
        case 35:
          if (!isDone) {
            _context.next = 13;
            break;
          }
        case 36:
        case "end":
          return _context.stop();
      }
    }, _callee, null, [[18, 29, 32, 35]]);
  }));
  return _requestSSE.apply(this, arguments);
}

/***/ }),

/***/ "./src/libs/utils/event-source/tt-event-source.ts":
/*!********************************************************!*\
  !*** ./src/libs/utils/event-source/tt-event-source.ts ***!
  \********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TTEventSource: function() { return /* binding */ TTEventSource; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/classCallCheck.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/createClass.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_callSuper_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/callSuper.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/callSuper.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_superPropGet_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/superPropGet.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/superPropGet.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/inherits.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../logger */ "./src/libs/utils/logger.ts");
/* harmony import */ var _event_source__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./event-source */ "./src/libs/utils/event-source/event-source.ts");
/* harmony import */ var _libs_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/libs/utils */ "./src/libs/utils/index.ts");












/**
 * 基于 tt.createEventSource 实现的 EventSource
 * 存在问题： 如果失败返回了json结构，会接收不到消息，直接失败。
 */
var TTEventSource = /*#__PURE__*/function (_EventSourceBase) {
  function TTEventSource() {
    var _this;
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_3__["default"])(this, TTEventSource);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_callSuper_js__WEBPACK_IMPORTED_MODULE_4__["default"])(this, TTEventSource, [].concat(args));
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_5__["default"])(_this, "ttClient", void 0);
    return _this;
  }
  (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_6__["default"])(TTEventSource, _EventSourceBase);
  return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_7__["default"])(TTEventSource, [{
    key: "close",
    value: function close() {
      var _this$ttClient;
      if (!(0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_superPropGet_js__WEBPACK_IMPORTED_MODULE_8__["default"])(TTEventSource, "close", this, 3)([])) {
        return false;
      }
      (_this$ttClient = this.ttClient) === null || _this$ttClient === void 0 || _this$ttClient.close();
      return true;
    }
  }, {
    key: "_sendMessage",
    value: function () {
      var _sendMessage2 = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_9__["default"])(/*#__PURE__*/(0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_10__["default"])().mark(function _callee() {
        var _this2 = this;
        return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_10__["default"])().wrap(function _callee$(_context) {
          while (1) switch (_context.prev = _context.next) {
            case 0:
              this.ttClient = tt.createEventSource({
                url: this.url,
                method: this.method,
                header: this.header,
                timeout: 10 * 60 * 1000,
                data: this.data
              });
              _logger__WEBPACK_IMPORTED_MODULE_0__.logger.debug("TTEventSource init", {
                url: this.url,
                method: this.method,
                header: this.header,
                data: this.data
              });
              this.ttClient.onOpen(function () {
                for (var _len2 = arguments.length, arg = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
                  arg[_key2] = arguments[_key2];
                }
                _logger__WEBPACK_IMPORTED_MODULE_0__.logger.debug("TTEventSource onOpen", arg);
                _this2.event.trigger(_event_source__WEBPACK_IMPORTED_MODULE_1__.MessageEvent.OPEN, {});
              });
              this.ttClient.onClose(function () {
                for (var _len3 = arguments.length, arg = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
                  arg[_key3] = arguments[_key3];
                }
                _logger__WEBPACK_IMPORTED_MODULE_0__.logger.debug("TTEventSource onClose", arg);
                _this2.close();
              });
              this.ttClient.onError(function (errMsg) {
                _logger__WEBPACK_IMPORTED_MODULE_0__.logger.debug("TTEventSource onError", errMsg);
                _this2.event.trigger(_event_source__WEBPACK_IMPORTED_MODULE_1__.MessageEvent.ERROR, new _libs_utils__WEBPACK_IMPORTED_MODULE_2__.MiniChatError(-1, errMsg));
              });
              this.ttClient.onMessage(function (data) {
                _logger__WEBPACK_IMPORTED_MODULE_0__.logger.debug("TTEventSource onMessage", data);
                _this2.event.trigger(_event_source__WEBPACK_IMPORTED_MODULE_1__.MessageEvent.MESSAGE, data);
              });
            case 6:
            case "end":
              return _context.stop();
          }
        }, _callee, this);
      }));
      function _sendMessage() {
        return _sendMessage2.apply(this, arguments);
      }
      return _sendMessage;
    }()
  }]);
}(_event_source__WEBPACK_IMPORTED_MODULE_1__.EventSourceBase);

/***/ }),

/***/ "./src/libs/utils/event-source/wx-event-source.ts":
/*!********************************************************!*\
  !*** ./src/libs/utils/event-source/wx-event-source.ts ***!
  \********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   WxEventSource: function() { return /* binding */ WxEventSource; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/slicedToArray.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/classCallCheck.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/createClass.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_callSuper_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/callSuper.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/callSuper.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_superPropGet_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/superPropGet.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/superPropGet.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/inherits.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var _tarojs_taro__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tarojs/taro */ "./node_modules/.pnpm/@tarojs+taro@4.0.8_@tarojs+components@4.0.8_@tarojs+helper@4.0.8_@swc+helpers@0.5.15__@_28b4aa939e10f4882a0917541e7336fe/node_modules/@tarojs/taro/index.js");
/* harmony import */ var _tarojs_taro__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_tarojs_taro__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _event_source__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./event-source */ "./src/libs/utils/event-source/event-source.ts");
/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../logger */ "./src/libs/utils/logger.ts");
/* harmony import */ var _decorder__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../decorder */ "./src/libs/utils/decorder.ts");











var WxEventSource = /*#__PURE__*/function (_EventSourceBase) {
  function WxEventSource() {
    var _this;
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_4__["default"])(this, WxEventSource);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_callSuper_js__WEBPACK_IMPORTED_MODULE_5__["default"])(this, WxEventSource, [].concat(args));
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_6__["default"])(_this, "task", void 0);
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_6__["default"])(_this, "offTaskHandler", void 0);
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_6__["default"])(_this, "chunkedData", "");
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_6__["default"])(_this, "dataType", "unknown");
    return _this;
  }
  (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_7__["default"])(WxEventSource, _EventSourceBase);
  return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_8__["default"])(WxEventSource, [{
    key: "_sendMessage",
    value: function _sendMessage() {
      var _this2 = this;
      this.task = (0,_tarojs_taro__WEBPACK_IMPORTED_MODULE_0__.request)({
        url: this.url,
        method: this.method,
        header: this.header,
        data: this.data,
        enableChunked: true,
        enableCookie: true,
        timeout: 10 * 60 * 1000,
        fail: function fail(err) {
          _this2.event.trigger(_event_source__WEBPACK_IMPORTED_MODULE_1__.MessageEvent.ERROR, err);
        },
        complete: function complete() {
          _this2.close();
        }
      });
      var destroyHeaderReceivedHandler = this.onHeadersReceived();
      var destroyChunkReceivedHandler = this.onChunkReceived();
      this.offTaskHandler = function () {
        destroyHeaderReceivedHandler();
        destroyChunkReceivedHandler();
      };
    }
  }, {
    key: "close",
    value: function close() {
      var _this$task, _this$offTaskHandler;
      if (!(0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_superPropGet_js__WEBPACK_IMPORTED_MODULE_9__["default"])(WxEventSource, "close", this, 3)([])) {
        return false;
      }
      (_this$task = this.task) === null || _this$task === void 0 || _this$task.abort();
      (_this$offTaskHandler = this.offTaskHandler) === null || _this$offTaskHandler === void 0 || _this$offTaskHandler.call(this);
      return true;
    }
  }, {
    key: "getDataType",
    value: function getDataType(header) {
      var _ref = Object.entries(header).find(function (_ref3) {
          var _ref4 = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_10__["default"])(_ref3, 1),
            key = _ref4[0];
          if (key.toLowerCase() === "content-type") {
            return true;
          }
          return false;
        }) || [],
        _ref2 = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_10__["default"])(_ref, 2),
        contentTypeRaw = _ref2[1];
      var contentType = contentTypeRaw || "";
      if (contentType !== null && contentType !== void 0 && contentType.includes("text/event-stream")) {
        return "stream";
      } else if (contentType !== null && contentType !== void 0 && contentType.includes("application/json")) {
        return "json";
      }
      return "unknown";
    }
  }, {
    key: "onHeadersReceived",
    value: function onHeadersReceived() {
      var _this3 = this,
        _this$task2;
      var func = function func(res) {
        _this3.dataType = _this3.getDataType(res.header);
        _this3.event.trigger(_event_source__WEBPACK_IMPORTED_MODULE_1__.MessageEvent.OPEN, res.header);
        _logger__WEBPACK_IMPORTED_MODULE_2__.logger.debug("onHeadersReceived", res.header);
      };
      (_this$task2 = this.task) === null || _this$task2 === void 0 || _this$task2.onHeadersReceived(func);
      return function () {
        var _this3$task;
        (_this3$task = _this3.task) === null || _this3$task === void 0 || _this3$task.offHeadersReceived(func);
      };
    }
  }, {
    key: "onChunkReceived",
    value: function onChunkReceived() {
      var _this4 = this,
        _this$task3;
      var func = function func(res) {
        var uint8Array = new Uint8Array(res.data);
        var textDecoder = new _decorder__WEBPACK_IMPORTED_MODULE_3__.TextDecoder("utf-8");
        var data = textDecoder.decode(uint8Array);
        _logger__WEBPACK_IMPORTED_MODULE_2__.logger.debug("onChunkReceived raw data", data);
        _logger__WEBPACK_IMPORTED_MODULE_2__.logger.debug("onChunkReceived data type", _this4.dataType);
        if (_this4.dataType === "json") {
          _this4.event.trigger(_event_source__WEBPACK_IMPORTED_MODULE_1__.MessageEvent.MESSAGE, {
            event: _event_source__WEBPACK_IMPORTED_MODULE_1__.EventJsonDataType,
            data: data
          });
          return;
        }
        // 处理返回的json字符串
        _this4.chunkedData += data;
        if (data.slice(-2) === "\n\n") {
          var messageEvents = _this4.unpackData(_this4.chunkedData);
          messageEvents.map(function (message) {
            _this4.event.trigger(_event_source__WEBPACK_IMPORTED_MODULE_1__.MessageEvent.MESSAGE, message);
          });
          _this4.chunkedData = "";
          _logger__WEBPACK_IMPORTED_MODULE_2__.logger.debug("onChunkReceived messageEvents", messageEvents);
        } else {
          _logger__WEBPACK_IMPORTED_MODULE_2__.logger.debug("onChunkReceived messageEvents is not complete");
        }
      };
      (_this$task3 = this.task) === null || _this$task3 === void 0 || _this$task3.onChunkReceived(func);
      return function () {
        var _this4$task;
        (_this4$task = _this4.task) === null || _this4$task === void 0 || _this4$task.offChunkReceived(func);
      };
    }
  }, {
    key: "unpackData",
    value: function unpackData(data) {
      var lines = data.split("\n");
      var messageEvents = [];
      var i = 0;
      while (i < lines.length - 1) {
        if (lines[i].startsWith("event:") && lines[i + 1].startsWith("data:")) {
          var eventName = lines[i].slice(6).trim();
          var eventData = lines[i + 1].slice(5).trim();
          messageEvents.push({
            event: eventName,
            data: eventData
          });
          i += 2;
        }
        i++;
      }
      return messageEvents;
    }
  }]);
}(_event_source__WEBPACK_IMPORTED_MODULE_1__.EventSourceBase);

/***/ }),

/***/ "./src/libs/utils/get-cdn-url.ts":
/*!***************************************!*\
  !*** ./src/libs/utils/get-cdn-url.ts ***!
  \***************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getCdnUrl: function() { return /* binding */ getCdnUrl; }
/* harmony export */ });
var getCdnUrl = function getCdnUrl(baseUrl, urlPath) {
  var url = "";
  var baseUrlNow = baseUrl || "https://lf3-static.bytednsdoc.com/obj/eden-cn/rkzild_lgvj/ljhwZthlaukjlkulzlp/";
  try {
    return "".concat((baseUrlNow === null || baseUrlNow === void 0 ? void 0 : baseUrlNow.replace(/\/+$/, "")) || "", "/").concat(urlPath === null || urlPath === void 0 ? void 0 : urlPath.replace(/^\.?\/+/, ""));
  } catch (err) {
    console.error("Invalid URL:", err, baseUrl, urlPath);
  }
  if (!url) {
    url = "";
  }
  return url;
};

/***/ }),

/***/ "./src/libs/utils/get-file-type.ts":
/*!*****************************************!*\
  !*** ./src/libs/utils/get-file-type.ts ***!
  \*****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getFileTypeByFile: function() { return /* binding */ getFileTypeByFile; },
/* harmony export */   getFileTypeByFileName: function() { return /* binding */ getFileTypeByFileName; }
/* harmony export */ });
/* harmony import */ var _libs_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/libs/types */ "./src/libs/types/index.ts");

var FILE_TYPE_CONFIG = [{
  fileType: _libs_types__WEBPACK_IMPORTED_MODULE_0__.FileTypeEnum.IMAGE,
  accept: [".jpg", ".jpeg", ".png", ".gif", ".bmp", ".webp"],
  typeStart: "image/"
}, {
  fileType: _libs_types__WEBPACK_IMPORTED_MODULE_0__.FileTypeEnum.AUDIO,
  accept: [".mp3", ".wav", ".aac", ".flac", ".ogg", ".wma", ".alac", ".mid", ".midi", ".ac3", ".dsd"],
  typeStart: "audio/"
}, {
  fileType: _libs_types__WEBPACK_IMPORTED_MODULE_0__.FileTypeEnum.PDF,
  accept: [".pdf"]
}, {
  fileType: _libs_types__WEBPACK_IMPORTED_MODULE_0__.FileTypeEnum.DOCX,
  accept: [".docx", ".doc"]
}, {
  fileType: _libs_types__WEBPACK_IMPORTED_MODULE_0__.FileTypeEnum.EXCEL,
  accept: [".xls", ".xlsx"]
}, {
  fileType: _libs_types__WEBPACK_IMPORTED_MODULE_0__.FileTypeEnum.CSV,
  accept: [".csv"]
}, {
  fileType: _libs_types__WEBPACK_IMPORTED_MODULE_0__.FileTypeEnum.CODE,
  accept: [".py", ".java", ".c", ".cpp", ".js", ".html", ".css"]
}, {
  fileType: _libs_types__WEBPACK_IMPORTED_MODULE_0__.FileTypeEnum.VIDEO,
  accept: [".mp4", ".avi", ".mov", ".wmv", ".flv", ".mkv"],
  typeStart: "audio/"
}, {
  fileType: _libs_types__WEBPACK_IMPORTED_MODULE_0__.FileTypeEnum.TXT,
  accept: [".txt"]
}, {
  fileType: _libs_types__WEBPACK_IMPORTED_MODULE_0__.FileTypeEnum.PPT,
  accept: [".ppt", ".pptx"]
}];
var getFileTypeByFileName = function getFileTypeByFileName(fileName) {
  var fileInfo = FILE_TYPE_CONFIG.find(function (_ref) {
    var accept = _ref.accept;
    return accept.some(function (ext) {
      return fileName.endsWith(ext);
    });
  });
  if (!fileInfo) {
    return _libs_types__WEBPACK_IMPORTED_MODULE_0__.FileTypeEnum.DEFAULT_UNKNOWN;
  }
  return fileInfo.fileType;
};
var getFileTypeByFile = function getFileTypeByFile(file) {
  var type = file.type;
  var fileName = file.name;
  var fileInfo = FILE_TYPE_CONFIG.find(function (_ref2) {
    var accept = _ref2.accept,
      typeStart = _ref2.typeStart;
    if (typeStart) {
      return type.startsWith(typeStart);
    } else if (accept) {
      return accept.some(function (ext) {
        return fileName.endsWith(ext);
      });
    }
  });
  if (!fileInfo) {
    return _libs_types__WEBPACK_IMPORTED_MODULE_0__.FileTypeEnum.DEFAULT_UNKNOWN;
  }
  return fileInfo.fileType;
};

/***/ }),

/***/ "./src/libs/utils/get-scroll-info.ts":
/*!*******************************************!*\
  !*** ./src/libs/utils/get-scroll-info.ts ***!
  \*******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export getScrollInfo */
/* harmony import */ var _tarojs_taro__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tarojs/taro */ "./node_modules/.pnpm/@tarojs+taro@4.0.8_@tarojs+components@4.0.8_@tarojs+helper@4.0.8_@swc+helpers@0.5.15__@_28b4aa939e10f4882a0917541e7336fe/node_modules/@tarojs/taro/index.js");
/* harmony import */ var _tarojs_taro__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_tarojs_taro__WEBPACK_IMPORTED_MODULE_0__);

var getScrollInfo = function getScrollInfo(selectorName) {
  return new Promise(function (resolve) {
    var selector = (0,_tarojs_taro__WEBPACK_IMPORTED_MODULE_0__.createSelectorQuery)();
    selector.select(selectorName).scrollOffset(function (res) {
      resolve(res);
    }).exec();
  });
};

/***/ }),

/***/ "./src/libs/utils/get-svg-base64.ts":
/*!******************************************!*\
  !*** ./src/libs/utils/get-svg-base64.ts ***!
  \******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getSvgBase64: function() { return /* binding */ getSvgBase64; }
/* harmony export */ });
/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./logger */ "./src/libs/utils/logger.ts");
/* harmony import */ var _decorder__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./decorder */ "./src/libs/utils/decorder.ts");
/* harmony import */ var _tarojs_taro__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @tarojs/taro */ "./node_modules/.pnpm/@tarojs+taro@4.0.8_@tarojs+components@4.0.8_@tarojs+helper@4.0.8_@swc+helpers@0.5.15__@_28b4aa939e10f4882a0917541e7336fe/node_modules/@tarojs/taro/index.js");
/* harmony import */ var _tarojs_taro__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_tarojs_taro__WEBPACK_IMPORTED_MODULE_2__);



var getSvgBase64 = function getSvgBase64(svg) {
  try {
    var encoder = new _decorder__WEBPACK_IMPORTED_MODULE_1__.TextEncoder();
    var uint8Array = encoder.encode(svg);
    var bases = _tarojs_taro__WEBPACK_IMPORTED_MODULE_2___default().arrayBufferToBase64(uint8Array);
    return "data:image/svg+xml;base64,".concat(bases);
  } catch (error) {
    _logger__WEBPACK_IMPORTED_MODULE_0__.logger.error("getSvgBase64 Error", error);
    return "";
  }
};

/***/ }),

/***/ "./src/libs/utils/index.ts":
/*!*********************************!*\
  !*** ./src/libs/utils/index.ts ***!
  \*********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AudioPlayEvent: function() { return /* reexport safe */ _play_audio__WEBPACK_IMPORTED_MODULE_19__.AudioPlayEvent; },
/* harmony export */   Logger: function() { return /* reexport safe */ _logger__WEBPACK_IMPORTED_MODULE_14__.Logger; },
/* harmony export */   MiniChatError: function() { return /* reexport safe */ _mini_chat_error__WEBPACK_IMPORTED_MODULE_15__.MiniChatError; },
/* harmony export */   MiniChatErrorCode: function() { return /* reexport safe */ _mini_chat_error__WEBPACK_IMPORTED_MODULE_15__.MiniChatErrorCode; },
/* harmony export */   MiniCozeApi: function() { return /* reexport safe */ _mini_coze_api__WEBPACK_IMPORTED_MODULE_12__.MiniCozeApi; },
/* harmony export */   PlayAudio: function() { return /* reexport safe */ _play_audio__WEBPACK_IMPORTED_MODULE_19__.PlayAudio; },
/* harmony export */   RecorderEvent: function() { return /* reexport safe */ _recorder_manager__WEBPACK_IMPORTED_MODULE_18__.RecorderEvent; },
/* harmony export */   convertToMinChatError: function() { return /* reexport safe */ _mini_chat_error__WEBPACK_IMPORTED_MODULE_15__.convertToMinChatError; },
/* harmony export */   getBoundingRect: function() { return /* reexport safe */ _taro_get_bounding_rect__WEBPACK_IMPORTED_MODULE_6__.getBoundingRect; },
/* harmony export */   getCdnUrl: function() { return /* reexport safe */ _get_cdn_url__WEBPACK_IMPORTED_MODULE_22__.getCdnUrl; },
/* harmony export */   getFileTypeByFile: function() { return /* reexport safe */ _get_file_type__WEBPACK_IMPORTED_MODULE_2__.getFileTypeByFile; },
/* harmony export */   getFileTypeByFileName: function() { return /* reexport safe */ _get_file_type__WEBPACK_IMPORTED_MODULE_2__.getFileTypeByFileName; },
/* harmony export */   getRecorderManager: function() { return /* reexport safe */ _recorder_manager__WEBPACK_IMPORTED_MODULE_18__.getRecorderManager; },
/* harmony export */   getSvgBase64: function() { return /* reexport safe */ _get_svg_base64__WEBPACK_IMPORTED_MODULE_17__.getSvgBase64; },
/* harmony export */   getViewportBoundingRect: function() { return /* reexport safe */ _taro_get_viewport_bounding_rect__WEBPACK_IMPORTED_MODULE_7__.getViewportBoundingRect; },
/* harmony export */   isTT: function() { return /* reexport safe */ _device__WEBPACK_IMPORTED_MODULE_16__.isTT; },
/* harmony export */   isValidContext: function() { return /* reexport safe */ _is_valid_context__WEBPACK_IMPORTED_MODULE_0__.isValidContext; },
/* harmony export */   isWeapp: function() { return /* reexport safe */ _device__WEBPACK_IMPORTED_MODULE_16__.isWeapp; },
/* harmony export */   isWeb: function() { return /* reexport safe */ _device__WEBPACK_IMPORTED_MODULE_16__.isWeb; },
/* harmony export */   logger: function() { return /* reexport safe */ _logger__WEBPACK_IMPORTED_MODULE_14__.logger; },
/* harmony export */   nanoid: function() { return /* reexport safe */ _nanoid__WEBPACK_IMPORTED_MODULE_4__.nanoid; },
/* harmony export */   safeJSONParse: function() { return /* reexport safe */ _safe_json_parse__WEBPACK_IMPORTED_MODULE_1__.safeJSONParse; },
/* harmony export */   setClipboardData: function() { return /* reexport safe */ _taro_clipboard__WEBPACK_IMPORTED_MODULE_21__.setClipboardData; },
/* harmony export */   showModal: function() { return /* reexport safe */ _modal__WEBPACK_IMPORTED_MODULE_20__.showModal; },
/* harmony export */   showToast: function() { return /* reexport safe */ _toast__WEBPACK_IMPORTED_MODULE_13__.showToast; }
/* harmony export */ });
/* harmony import */ var _is_valid_context__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./is-valid-context */ "./src/libs/utils/is-valid-context.ts");
/* harmony import */ var _safe_json_parse__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./safe-json-parse */ "./src/libs/utils/safe-json-parse.ts");
/* harmony import */ var _get_file_type__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./get-file-type */ "./src/libs/utils/get-file-type.ts");
/* harmony import */ var _get_scroll_info__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./get-scroll-info */ "./src/libs/utils/get-scroll-info.ts");
/* harmony import */ var _nanoid__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./nanoid */ "./src/libs/utils/nanoid.ts");
/* harmony import */ var _taro_get_and_open_setting__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./taro/get-and-open-setting */ "./src/libs/utils/taro/get-and-open-setting.ts");
/* harmony import */ var _taro_get_bounding_rect__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./taro/get-bounding-rect */ "./src/libs/utils/taro/get-bounding-rect.ts");
/* harmony import */ var _taro_get_viewport_bounding_rect__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./taro/get-viewport-bounding-rect */ "./src/libs/utils/taro/get-viewport-bounding-rect.ts");
/* harmony import */ var _event_source_wx_event_source__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./event-source/wx-event-source */ "./src/libs/utils/event-source/wx-event-source.ts");
/* harmony import */ var _event_source_tt_event_source__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./event-source/tt-event-source */ "./src/libs/utils/event-source/tt-event-source.ts");
/* harmony import */ var _env__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./env */ "./src/libs/utils/env.ts");
/* harmony import */ var _event_source_request__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./event-source/request */ "./src/libs/utils/event-source/request.ts");
/* harmony import */ var _mini_coze_api__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./mini-coze-api */ "./src/libs/utils/mini-coze-api.ts");
/* harmony import */ var _toast__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./toast */ "./src/libs/utils/toast.ts");
/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./logger */ "./src/libs/utils/logger.ts");
/* harmony import */ var _mini_chat_error__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./mini-chat-error */ "./src/libs/utils/mini-chat-error.ts");
/* harmony import */ var _device__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./device */ "./src/libs/utils/device.ts");
/* harmony import */ var _get_svg_base64__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./get-svg-base64 */ "./src/libs/utils/get-svg-base64.ts");
/* harmony import */ var _recorder_manager__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./recorder-manager */ "./src/libs/utils/recorder-manager/index.ts");
/* harmony import */ var _play_audio__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./play-audio */ "./src/libs/utils/play-audio.ts");
/* harmony import */ var _modal__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./modal */ "./src/libs/utils/modal.ts");
/* harmony import */ var _taro_clipboard__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./taro/clipboard */ "./src/libs/utils/taro/clipboard.ts");
/* harmony import */ var _get_cdn_url__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./get-cdn-url */ "./src/libs/utils/get-cdn-url.ts");

























/***/ }),

/***/ "./src/libs/utils/is-valid-context.ts":
/*!********************************************!*\
  !*** ./src/libs/utils/is-valid-context.ts ***!
  \********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   isValidContext: function() { return /* binding */ isValidContext; }
/* harmony export */ });
var isValidContext = function isValidContext(context) {
  return Object.keys(context).map(function (keyName) {
    return context[keyName];
  }).reduce(function (prevResult, currentProperty) {
    return prevResult && currentProperty !== null;
  }, true);
};

/***/ }),

/***/ "./src/libs/utils/logger.ts":
/*!**********************************!*\
  !*** ./src/libs/utils/logger.ts ***!
  \**********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Logger: function() { return /* binding */ Logger; },
/* harmony export */   logger: function() { return /* binding */ logger; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/classCallCheck.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/createClass.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js");



var Logger = /*#__PURE__*/function () {
  function Logger() {
    var prefix = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : "";
    var level = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : "release";
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Logger);
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_1__["default"])(this, "prefix", void 0);
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_1__["default"])(this, "level", void 0);
    this.prefix = prefix;
    this.level = level;
  }
  return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_2__["default"])(Logger, [{
    key: "setLoglevel",
    value: function setLoglevel(level) {
      if (!level) {
        return;
      }
      this.level = level;
    }
  }, {
    key: "seDebug",
    value: function seDebug() {
      this.level = "debug";
    }
  }, {
    key: "isDebug",
    value: function isDebug() {
      return this.level === "debug";
    }
  }, {
    key: "debug",
    value: function debug() {
      var _console;
      if (this.level !== "debug") {
        return;
      }
      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
        args[_key] = arguments[_key];
      }
      (_console = console).log.apply(_console, [this.prefix, "[debug]"].concat(args, ["\n"]));
    }
  }, {
    key: "info",
    value: function info() {
      var _console2;
      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
        args[_key2] = arguments[_key2];
      }
      (_console2 = console).info.apply(_console2, [this.prefix, "[info]"].concat(args, ["\n"]));
    }
  }, {
    key: "warn",
    value: function warn() {
      var _console3;
      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
        args[_key3] = arguments[_key3];
      }
      (_console3 = console).warn.apply(_console3, [this.prefix, "[warn]"].concat(args, ["\n"]));
    }
  }, {
    key: "error",
    value: function error() {
      var _console4;
      for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
        args[_key4] = arguments[_key4];
      }
      (_console4 = console).error.apply(_console4, [this.prefix, "[error]"].concat(args, ["\n"]));
    }
  }]);
}();
var logger = new Logger("[coze-mini-sdk]");

/***/ }),

/***/ "./src/libs/utils/mini-chat-error.ts":
/*!*******************************************!*\
  !*** ./src/libs/utils/mini-chat-error.ts ***!
  \*******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MiniChatError: function() { return /* binding */ MiniChatError; },
/* harmony export */   MiniChatErrorCode: function() { return /* binding */ MiniChatErrorCode; },
/* harmony export */   convertToMinChatError: function() { return /* binding */ convertToMinChatError; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/classCallCheck.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/createClass.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_callSuper_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/callSuper.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/callSuper.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/inherits.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_wrapNativeSuper_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js");






var MiniChatError = /*#__PURE__*/function (_Error) {
  function MiniChatError(code, msg) {
    var _this;
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_0__["default"])(this, MiniChatError);
    _this = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_callSuper_js__WEBPACK_IMPORTED_MODULE_1__["default"])(this, MiniChatError, [msg]);
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_2__["default"])(_this, "code", void 0);
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_2__["default"])(_this, "msg", void 0);
    _this.code = code;
    _this.msg = msg;
    return _this;
  }
  (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_3__["default"])(MiniChatError, _Error);
  return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_4__["default"])(MiniChatError, [{
    key: "getErrorMessageByI18n",
    value: function getErrorMessageByI18n(i18n, options, fallbackText) {
      return i18n.t("miniChatError_".concat(this.code), options, fallbackText || this.msg);
    }
  }]);
}(/*#__PURE__*/(0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_wrapNativeSuper_js__WEBPACK_IMPORTED_MODULE_5__["default"])(Error));
var convertToMinChatError = function convertToMinChatError(error) {
  var miniChatError = error;
  return new MiniChatError((miniChatError === null || miniChatError === void 0 ? void 0 : miniChatError.code) || -1, (miniChatError === null || miniChatError === void 0 ? void 0 : miniChatError.msg) || (miniChatError === null || miniChatError === void 0 ? void 0 : miniChatError.message) || (miniChatError === null || miniChatError === void 0 ? void 0 : miniChatError.stack) || "unknown error");
};
var MiniChatErrorCode = /*#__PURE__*/function (MiniChatErrorCode) {
  MiniChatErrorCode[MiniChatErrorCode["Unknown"] = -1] = "Unknown";
  MiniChatErrorCode[MiniChatErrorCode["Audio_Permission_Denied"] = 1000] = "Audio_Permission_Denied";
  MiniChatErrorCode[MiniChatErrorCode["Audio_Translation_NoContent"] = 1001] = "Audio_Translation_NoContent";
  MiniChatErrorCode[MiniChatErrorCode["Custom_Conversation_Create_Error"] = 1002] = "Custom_Conversation_Create_Error";
  MiniChatErrorCode[MiniChatErrorCode["Custom_GetMessageList_Error"] = 10003] = "Custom_GetMessageList_Error";
  MiniChatErrorCode[MiniChatErrorCode["SDK_API_OVERDUE_PAYMENT"] = 4011] = "SDK_API_OVERDUE_PAYMENT";
  MiniChatErrorCode[MiniChatErrorCode["SDK_API_APP_UnPublished"] = 4015] = "SDK_API_APP_UnPublished";
  return MiniChatErrorCode;
}({});

/***/ }),

/***/ "./src/libs/utils/mini-coze-api.ts":
/*!*****************************************!*\
  !*** ./src/libs/utils/mini-coze-api.ts ***!
  \*****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MiniCozeApi: function() { return /* binding */ MiniCozeApi; }
/* harmony export */ });
/* unused harmony export MiniCozeApi2 */
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectSpread2.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectSpread2.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_superPropGet_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/superPropGet.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/superPropGet.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/createClass.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/classCallCheck.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_callSuper_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/callSuper.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/callSuper.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/inherits.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/awaitAsyncGenerator.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/awaitAsyncGenerator.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_wrapAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/wrapAsyncGenerator.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/wrapAsyncGenerator.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncIterator_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/asyncIterator.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/asyncIterator.js");
/* harmony import */ var _coze_api__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @coze/api */ "./node_modules/.pnpm/@coze+api@1.0.21_axios@1.7.9/node_modules/@coze/api/dist/esm/index.js");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! axios */ "./node_modules/.pnpm/axios@1.7.9/node_modules/axios/lib/axios.js");
/* harmony import */ var _tarojs_taro__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @tarojs/taro */ "./node_modules/.pnpm/@tarojs+taro@4.0.8_@tarojs+components@4.0.8_@tarojs+helper@4.0.8_@swc+helpers@0.5.15__@_28b4aa939e10f4882a0917541e7336fe/node_modules/@tarojs/taro/index.js");
/* harmony import */ var _tarojs_taro__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_tarojs_taro__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _event_source_request__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./event-source/request */ "./src/libs/utils/event-source/request.ts");
/* harmony import */ var _event_source_event_source__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./event-source/event-source */ "./src/libs/utils/event-source/event-source.ts");
/* harmony import */ var _mini_chat_error__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./mini-chat-error */ "./src/libs/utils/mini-chat-error.ts");
/* harmony import */ var _safe_json_parse__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./safe-json-parse */ "./src/libs/utils/safe-json-parse.ts");
/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./logger */ "./src/libs/utils/logger.ts");
/* harmony import */ var _adapter__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./adapter */ "./src/libs/utils/adapter.ts");
/* harmony import */ var _device__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./device */ "./src/libs/utils/device.ts");













var _excluded = ["onRefreshToken", "axiosOptions"];










var ApiAuthError = /*#__PURE__*/function (ApiAuthError) {
  ApiAuthError[ApiAuthError["ERROR_FORBIDDEN"] = 401] = "ERROR_FORBIDDEN";
  ApiAuthError[ApiAuthError["ERROR_INVALID_TOKEN"] = 4100] = "ERROR_INVALID_TOKEN";
  ApiAuthError[ApiAuthError["ERROR_TOKEN_FORBIDDEN"] = 4101] = "ERROR_TOKEN_FORBIDDEN";
  ApiAuthError[ApiAuthError["ERROR_TOKEN_FAILED"] = 700012006] = "ERROR_TOKEN_FAILED";
  return ApiAuthError;
}(ApiAuthError || {});
var MiniCozeApi2 = /*#__PURE__*/function (_CozeAPI) {
  function MiniCozeApi2() {
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_9__["default"])(this, MiniCozeApi2);
    return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_callSuper_js__WEBPACK_IMPORTED_MODULE_10__["default"])(this, MiniCozeApi2, arguments);
  }
  (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_11__["default"])(MiniCozeApi2, _CozeAPI);
  return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_12__["default"])(MiniCozeApi2);
}(_coze_api__WEBPACK_IMPORTED_MODULE_1__.CozeAPI);
var MiniCozeApi = /*#__PURE__*/function (_CozeAPI2) {
  function MiniCozeApi(_ref) {
    var _this2;
    var onRefreshToken = _ref.onRefreshToken,
      axiosOptions = _ref.axiosOptions,
      config = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_13__["default"])(_ref, _excluded);
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_9__["default"])(this, MiniCozeApi);
    _this2 = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_callSuper_js__WEBPACK_IMPORTED_MODULE_10__["default"])(this, MiniCozeApi, [(0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_14__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_14__["default"])({}, config), {}, {
      axiosOptions: (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_14__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_14__["default"])({}, axiosOptions || {}), {}, {
        timeout: 10 * 60 * 1000,
        validateStatus: function validateStatus() {
          return true;
        }
      })
    })]);
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_15__["default"])(_this2, "onRefreshToken", void 0);
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_15__["default"])(_this2, "refreshTokenPromise", void 0);
    _this2.onRefreshToken = onRefreshToken;
    _this2.axiosInstance = axios__WEBPACK_IMPORTED_MODULE_16__["default"].create({
      adapter: !_device__WEBPACK_IMPORTED_MODULE_8__.isWeb ? _adapter__WEBPACK_IMPORTED_MODULE_7__.taroAdapter : undefined
    });
    _this2.useAuthError();
    _this2.mixTaroUpload();
    return _this2;
  }
  (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_11__["default"])(MiniCozeApi, _CozeAPI2);
  return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_12__["default"])(MiniCozeApi, [{
    key: "useAuthError",
    value: function useAuthError() {
      var _this3 = this;
      this.useResponseInterceptors(/*#__PURE__*/function () {
        var _ref2 = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_17__["default"])(/*#__PURE__*/(0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_18__["default"])().mark(function _callee(response) {
          var _ref3, code, _oldToken, token;
          return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_18__["default"])().wrap(function _callee$(_context) {
            while (1) switch (_context.prev = _context.next) {
              case 0:
                _ref3 = (response === null || response === void 0 ? void 0 : response.data) || {}, code = _ref3.code;
                if (!_this3.isAuthErrorCode(code || response.status)) {
                  _context.next = 12;
                  break;
                }
                // 由于 鉴权问题导致的失败，进行一次重新发送数据。
                _logger__WEBPACK_IMPORTED_MODULE_6__.logger.error("request auth error :", code || response.status);
                _oldToken = _this3.getTokenFromHeaderAuth(String(response.config.headers.getAuthorization() || ""));
                _context.next = 6;
                return _this3.refreshToken(_oldToken);
              case 6:
                token = _context.sent;
                if (!token) {
                  _context.next = 12;
                  break;
                }
                response.config.headers.Authorization = "Bearer ".concat(token);
                _context.next = 11;
                return axios__WEBPACK_IMPORTED_MODULE_16__["default"].request(response.config);
              case 11:
                return _context.abrupt("return", _context.sent);
              case 12:
                if (!(response.status < 200 || response.status > 400)) {
                  _context.next = 15;
                  break;
                }
                _logger__WEBPACK_IMPORTED_MODULE_6__.logger.error("request error:", response);
                throw new Error(response.statusText);
              case 15:
                return _context.abrupt("return", response);
              case 16:
              case "end":
                return _context.stop();
            }
          }, _callee);
        }));
        return function (_x) {
          return _ref2.apply(this, arguments);
        };
      }(), /*#__PURE__*/function () {
        var _ref4 = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_17__["default"])(/*#__PURE__*/(0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_18__["default"])().mark(function _callee2(response) {
          var _ref5, code, _oldToken2, token;
          return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_18__["default"])().wrap(function _callee2$(_context2) {
            while (1) switch (_context2.prev = _context2.next) {
              case 0:
                _ref5 = (response === null || response === void 0 ? void 0 : response.data) || {}, code = _ref5.code;
                if (!_this3.isAuthErrorCode(code || response.status)) {
                  _context2.next = 11;
                  break;
                }
                // 由于 鉴权问题导致的失败，进行一次重新发送数据。
                _oldToken2 = _this3.getTokenFromHeaderAuth(String(response.config.headers.getAuthorization() || ""));
                _context2.next = 5;
                return _this3.refreshToken(_oldToken2);
              case 5:
                token = _context2.sent;
                if (!token) {
                  _context2.next = 11;
                  break;
                }
                response.config.headers.Authorization = "Bearer ".concat(token);
                _context2.next = 10;
                return axios__WEBPACK_IMPORTED_MODULE_16__["default"].request(response.config);
              case 10:
                return _context2.abrupt("return", _context2.sent);
              case 11:
                return _context2.abrupt("return", response);
              case 12:
              case "end":
                return _context2.stop();
            }
          }, _callee2);
        }));
        return function (_x2) {
          return _ref4.apply(this, arguments);
        };
      }());
    }
  }, {
    key: "isAuthErrorCode",
    value: function isAuthErrorCode(code) {
      return [ApiAuthError.ERROR_FORBIDDEN, ApiAuthError.ERROR_INVALID_TOKEN, ApiAuthError.ERROR_TOKEN_FORBIDDEN, ApiAuthError.ERROR_TOKEN_FAILED].includes(code);
    }
  }, {
    key: "getTokenFromHeaderAuth",
    value: function getTokenFromHeaderAuth(authorization) {
      return authorization.replace(/^\s*Bearer\s*/, "").replace(/\s+$/, "");
    }
  }, {
    key: "refreshToken",
    value: function () {
      var _refreshToken = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_17__["default"])(/*#__PURE__*/(0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_18__["default"])().mark(function _callee3(oldToken) {
        var _this$onRefreshToken;
        var token;
        return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_18__["default"])().wrap(function _callee3$(_context3) {
          while (1) switch (_context3.prev = _context3.next) {
            case 0:
              if (!this.refreshTokenPromise) {
                _context3.next = 2;
                break;
              }
              return _context3.abrupt("return", this.refreshTokenPromise);
            case 2:
              if (!(oldToken !== this.token)) {
                _context3.next = 4;
                break;
              }
              return _context3.abrupt("return", this.token);
            case 4:
              this.refreshTokenPromise = (_this$onRefreshToken = this.onRefreshToken) === null || _this$onRefreshToken === void 0 ? void 0 : _this$onRefreshToken.call(this, this.token);
              _context3.next = 7;
              return this.refreshTokenPromise;
            case 7:
              token = _context3.sent;
              this.refreshTokenPromise = undefined;
              this.token = token || "";
              return _context3.abrupt("return", this.token);
            case 11:
            case "end":
              return _context3.stop();
          }
        }, _callee3, this);
      }));
      function refreshToken(_x3) {
        return _refreshToken.apply(this, arguments);
      }
      return refreshToken;
    }()
  }, {
    key: "useResponseInterceptors",
    value: function useResponseInterceptors(responseInterceptor, rejectResponseInterceptor) {
      this.getAxiosInstance().interceptors.response.use(responseInterceptor, rejectResponseInterceptor);
    }
  }, {
    key: "useRequestInterceptors",
    value: function useRequestInterceptors(requestInterceptor) {
      this.getAxiosInstance().interceptors.request.use(requestInterceptor);
    }
  }, {
    key: "getAxiosInstance",
    value: function getAxiosInstance() {
      return this.axiosInstance;
    }
  }, {
    key: "makeRequest",
    value: function makeRequest(apiUrl, method, body, isStream, options) {
      if (_device__WEBPACK_IMPORTED_MODULE_8__.isWeb || !isStream) {
        return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_superPropGet_js__WEBPACK_IMPORTED_MODULE_19__["default"])(MiniCozeApi, "makeRequest", this, 3)([apiUrl, method, body, isStream, options]);
      }
      return this.requestMiniSse(apiUrl, method, body, options);
    }
  }, {
    key: "requestMiniSse",
    value: function requestMiniSse(apiUrl, method, body, options) {
      var _this = this;
      var retryNum = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;
      return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_wrapAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(/*#__PURE__*/(0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_18__["default"])().mark(function _callee5() {
        var _this$baseURL, _this$axiosOptions;
        var self, oldToken, url, res, eventDataNum, _iteratorAbruptCompletion, _didIteratorError, _iteratorError, _iterator, _step, eventData, _ref6, _ref6$code, code, _ref6$msg, msg, refreshTokenAndRetry, _refreshTokenAndRetry;
        return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_18__["default"])().wrap(function _callee5$(_context5) {
          while (1) switch (_context5.prev = _context5.next) {
            case 0:
              _refreshTokenAndRetry = function _refreshTokenAndRetry3() {
                _refreshTokenAndRetry = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_17__["default"])(/*#__PURE__*/(0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_18__["default"])().mark(function _callee4() {
                  var code,
                    msg,
                    _args4 = arguments;
                  return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_18__["default"])().wrap(function _callee4$(_context4) {
                    while (1) switch (_context4.prev = _context4.next) {
                      case 0:
                        code = _args4.length > 0 && _args4[0] !== undefined ? _args4[0] : -1;
                        msg = _args4.length > 1 && _args4[1] !== undefined ? _args4[1] : "unknown error";
                        if (!(retryNum === 0)) {
                          _context4.next = 8;
                          break;
                        }
                        _context4.next = 5;
                        return self.refreshToken(oldToken);
                      case 5:
                        return _context4.abrupt("return", self.requestMiniSse(apiUrl, method, body, options, retryNum + 1));
                      case 8:
                        throw new _mini_chat_error__WEBPACK_IMPORTED_MODULE_5__.MiniChatError(code, msg);
                      case 9:
                      case "end":
                        return _context4.stop();
                    }
                  }, _callee4);
                }));
                return _refreshTokenAndRetry.apply(this, arguments);
              };
              refreshTokenAndRetry = function _refreshTokenAndRetry2() {
                return _refreshTokenAndRetry.apply(this, arguments);
              };
              // request intercptions处理
              self = _this;
              oldToken = _this.token;
              url = "".concat((_this$baseURL = _this.baseURL) !== null && _this$baseURL !== void 0 ? _this$baseURL : "", "/").concat(apiUrl);
              res = (0,_event_source_request__WEBPACK_IMPORTED_MODULE_3__.requestSSE)((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_14__["default"])({
                url: url,
                method: method,
                data: body,
                header: (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_14__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_14__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_14__["default"])({}, ((_this$axiosOptions = _this.axiosOptions) === null || _this$axiosOptions === void 0 ? void 0 : _this$axiosOptions.headers) || {}), (options === null || options === void 0 ? void 0 : options.headers) || {}), {}, {
                  Authorization: "Bearer ".concat(_this.token)
                })
              }, options || {}));
              eventDataNum = 0;
              _iteratorAbruptCompletion = false;
              _didIteratorError = false;
              _context5.prev = 9;
              _iterator = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncIterator_js__WEBPACK_IMPORTED_MODULE_20__["default"])(res);
            case 11:
              _context5.next = 13;
              return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_21__["default"])(_iterator.next());
            case 13:
              if (!(_iteratorAbruptCompletion = !(_step = _context5.sent).done)) {
                _context5.next = 29;
                break;
              }
              eventData = _step.value;
              if (!((eventData === null || eventData === void 0 ? void 0 : eventData.event) === _event_source_event_source__WEBPACK_IMPORTED_MODULE_4__.EventJsonDataType)) {
                _context5.next = 22;
                break;
              }
              _ref6 = eventData.data || {}, _ref6$code = _ref6.code, code = _ref6$code === void 0 ? -1 : _ref6$code, _ref6$msg = _ref6.msg, msg = _ref6$msg === void 0 ? "unknown error" : _ref6$msg;
              if (!_this.isAuthErrorCode(code)) {
                _context5.next = 21;
                break;
              }
              _context5.next = 20;
              return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_21__["default"])(refreshTokenAndRetry(code, msg));
            case 20:
              return _context5.abrupt("return", _context5.sent);
            case 21:
              throw new _mini_chat_error__WEBPACK_IMPORTED_MODULE_5__.MiniChatError(code || 0, msg);
            case 22:
              if (!eventData) {
                _context5.next = 26;
                break;
              }
              eventDataNum++;
              _context5.next = 26;
              return eventData;
            case 26:
              _iteratorAbruptCompletion = false;
              _context5.next = 11;
              break;
            case 29:
              _context5.next = 35;
              break;
            case 31:
              _context5.prev = 31;
              _context5.t0 = _context5["catch"](9);
              _didIteratorError = true;
              _iteratorError = _context5.t0;
            case 35:
              _context5.prev = 35;
              _context5.prev = 36;
              if (!(_iteratorAbruptCompletion && _iterator.return != null)) {
                _context5.next = 40;
                break;
              }
              _context5.next = 40;
              return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_21__["default"])(_iterator.return());
            case 40:
              _context5.prev = 40;
              if (!_didIteratorError) {
                _context5.next = 43;
                break;
              }
              throw _iteratorError;
            case 43:
              return _context5.finish(40);
            case 44:
              return _context5.finish(35);
            case 45:
              if (!(eventDataNum === 0)) {
                _context5.next = 53;
                break;
              }
              if (!_device__WEBPACK_IMPORTED_MODULE_8__.isTT) {
                _context5.next = 52;
                break;
              }
              _context5.next = 49;
              return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_21__["default"])(refreshTokenAndRetry());
            case 49:
              return _context5.abrupt("return", _context5.sent);
            case 52:
              throw new _mini_chat_error__WEBPACK_IMPORTED_MODULE_5__.MiniChatError(-1, "unknown error");
            case 53:
            case "end":
              return _context5.stop();
          }
        }, _callee5, null, [[9, 31, 35, 45], [36,, 40, 44]]);
      }))();
    }
  }, {
    key: "mixTaroUpload",
    value: function mixTaroUpload() {
      var _this4 = this;
      if (!_device__WEBPACK_IMPORTED_MODULE_8__.isWeb) {
        this.files.upload = function (params, options) {
          return _this4._uploadFile({
            params: params,
            options: options,
            urlPath: "/v1/files/upload"
          });
        };
      }
      // @ts-expect-error -- linter-disable-autofix
      this.audio.transcriptions = function (params, options) {
        _logger__WEBPACK_IMPORTED_MODULE_6__.logger.debug("translation params", params);
        return _this4._uploadFile({
          params: params,
          options: options,
          urlPath: "/v1/audio/transcriptions"
        });
      };
    }
  }, {
    key: "_uploadFile",
    value: function () {
      var _uploadFile2 = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_17__["default"])(/*#__PURE__*/(0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_18__["default"])().mark(function _callee6(_ref7) {
        var _this$baseURL2;
        var params, options, _ref7$retryNum, retryNum, urlPath, url, oldToken, _this$axiosOptions2, rawResult, _ref8, _ref8$code, code, data, miniChatError;
        return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_18__["default"])().wrap(function _callee6$(_context6) {
          while (1) switch (_context6.prev = _context6.next) {
            case 0:
              params = _ref7.params, options = _ref7.options, _ref7$retryNum = _ref7.retryNum, retryNum = _ref7$retryNum === void 0 ? 0 : _ref7$retryNum, urlPath = _ref7.urlPath;
              url = "".concat((_this$baseURL2 = this.baseURL) !== null && _this$baseURL2 !== void 0 ? _this$baseURL2 : "").concat(urlPath);
              oldToken = this.token;
              _context6.prev = 3;
              _context6.next = 6;
              return _tarojs_taro__WEBPACK_IMPORTED_MODULE_2___default().uploadFile({
                url: url,
                filePath: params.file.filePath,
                name: "file",
                fileName: params.file.fileName,
                withCredentials: false,
                header: (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_14__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_14__["default"])((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_14__["default"])({}, ((_this$axiosOptions2 = this.axiosOptions) === null || _this$axiosOptions2 === void 0 ? void 0 : _this$axiosOptions2.headers) || {}), (options === null || options === void 0 ? void 0 : options.headers) || {}), {}, {
                  Authorization: "Bearer ".concat(this.token)
                }),
                timeout: options === null || options === void 0 ? void 0 : options.timeout
              });
            case 6:
              rawResult = _context6.sent;
              _ref8 = (0,_safe_json_parse__WEBPACK_IMPORTED_MODULE_22__.safeJSONParse)(rawResult.data) || {
                code: -1
              }, _ref8$code = _ref8.code, code = _ref8$code === void 0 ? -1 : _ref8$code, data = _ref8.data;
              _logger__WEBPACK_IMPORTED_MODULE_6__.logger.debug("_uploadFile:", {
                code: code,
                data: data
              });
              if (!(code !== 0 || !data)) {
                _context6.next = 17;
                break;
              }
              if (!(this.isAuthErrorCode(code || rawResult.statusCode) && retryNum !== 0)) {
                _context6.next = 16;
                break;
              }
              _context6.next = 13;
              return this.refreshToken(oldToken);
            case 13:
              _context6.next = 15;
              return this._uploadFile({
                params: params,
                options: options,
                retryNum: retryNum + 1,
                urlPath: urlPath
              });
            case 15:
              return _context6.abrupt("return", _context6.sent);
            case 16:
              throw new _mini_chat_error__WEBPACK_IMPORTED_MODULE_5__.MiniChatError(code || -1, "upload file failed");
            case 17:
              return _context6.abrupt("return", data);
            case 20:
              _context6.prev = 20;
              _context6.t0 = _context6["catch"](3);
              miniChatError = (0,_mini_chat_error__WEBPACK_IMPORTED_MODULE_5__.convertToMinChatError)(_context6.t0);
              _logger__WEBPACK_IMPORTED_MODULE_6__.logger.error("upload file error", _context6.t0);
              throw miniChatError;
            case 25:
            case "end":
              return _context6.stop();
          }
        }, _callee6, this, [[3, 20]]);
      }));
      function _uploadFile(_x4) {
        return _uploadFile2.apply(this, arguments);
      }
      return _uploadFile;
    }()
  }]);
}(_coze_api__WEBPACK_IMPORTED_MODULE_1__.CozeAPI);

/***/ }),

/***/ "./src/libs/utils/modal.ts":
/*!*********************************!*\
  !*** ./src/libs/utils/modal.ts ***!
  \*********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   showModal: function() { return /* binding */ showModal; }
/* harmony export */ });
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../types */ "./src/libs/types/index.ts");
/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./logger */ "./src/libs/utils/logger.ts");


var showModal = function showModal(modalEvent, targetEventCenter) {
  if (!targetEventCenter) {
    _logger__WEBPACK_IMPORTED_MODULE_1__.logger.warn("showModal targetEventCenter is undefined");
    return;
  }
  targetEventCenter.trigger(_types__WEBPACK_IMPORTED_MODULE_0__.UIEventType.ChatModalShow, modalEvent);
};

/***/ }),

/***/ "./src/libs/utils/nanoid.ts":
/*!**********************************!*\
  !*** ./src/libs/utils/nanoid.ts ***!
  \**********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   nanoid: function() { return /* binding */ nanoid; }
/* harmony export */ });
var id = Date.now() + 100000 * Math.random();
var nanoid = function nanoid() {
  return "".concat(id++);
};

/***/ }),

/***/ "./src/libs/utils/play-audio.ts":
/*!**************************************!*\
  !*** ./src/libs/utils/play-audio.ts ***!
  \**************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AudioPlayEvent: function() { return /* binding */ AudioPlayEvent; },
/* harmony export */   PlayAudio: function() { return /* binding */ PlayAudio; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/classCallCheck.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/createClass.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var _tarojs_taro__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tarojs/taro */ "./node_modules/.pnpm/@tarojs+taro@4.0.8_@tarojs+components@4.0.8_@tarojs+helper@4.0.8_@swc+helpers@0.5.15__@_28b4aa939e10f4882a0917541e7336fe/node_modules/@tarojs/taro/index.js");
/* harmony import */ var _tarojs_taro__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_tarojs_taro__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _device__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./device */ "./src/libs/utils/device.ts");
/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./logger */ "./src/libs/utils/logger.ts");
/* harmony import */ var _mini_chat_error__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./mini-chat-error */ "./src/libs/utils/mini-chat-error.ts");
/* provided dependency */ var Blob = __webpack_require__(/*! @tarojs/plugin-http/dist/runtime */ "./node_modules/.pnpm/@tarojs+plugin-http@4.0.9_@tarojs+runtime@4.0.8_@tarojs+shared@4.0.8_@tarojs+taro@4.0.8_1f8631d5a6375706d9574d4852f9d3f0/node_modules/@tarojs/plugin-http/dist/runtime.js")["Blob"];
/* provided dependency */ var URL = __webpack_require__(/*! @tarojs/runtime */ "./node_modules/.pnpm/@tarojs+runtime@4.0.8/node_modules/@tarojs/runtime/dist/index.js")["URL"];





var _PlayAudio;




var AudioPlayEvent = /*#__PURE__*/function (AudioPlayEvent) {
  AudioPlayEvent["STOP"] = "stop";
  AudioPlayEvent["PLAY"] = "play";
  return AudioPlayEvent;
}({});
var playNo = 1000;
var PlayAudio = /*#__PURE__*/function () {
  function PlayAudio() {
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_4__["default"])(this, PlayAudio);
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_5__["default"])(this, "isStop", true);
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_5__["default"])(this, "audioContext", void 0);
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_5__["default"])(this, "event", new _tarojs_taro__WEBPACK_IMPORTED_MODULE_0__.Events());
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_5__["default"])(this, "audioPrm", null);
  }
  return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_6__["default"])(PlayAudio, [{
    key: "playText",
    value: function () {
      var _playText = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_7__["default"])(/*#__PURE__*/(0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_8__["default"])().mark(function _callee(text, audioSpeechFunc) {
        var _PlayAudio$instance;
        var _PlayAudio$instance2, audioData;
        return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_8__["default"])().wrap(function _callee$(_context) {
          while (1) switch (_context.prev = _context.next) {
            case 0:
              if (!((_PlayAudio$instance = PlayAudio.instance) !== null && _PlayAudio$instance !== void 0 && _PlayAudio$instance.isStop)) {
                (_PlayAudio$instance2 = PlayAudio.instance) === null || _PlayAudio$instance2 === void 0 || _PlayAudio$instance2.stop();
              }
              if (!this.audioPrm) {
                this.audioPrm = audioSpeechFunc(text);
              }
              this.isStop = false;
              _context.prev = 3;
              _context.next = 6;
              return this.audioPrm;
            case 6:
              audioData = _context.sent;
              if (!this.isStop) {
                _context.next = 9;
                break;
              }
              return _context.abrupt("return");
            case 9:
              this.playData(audioData);
              _context.next = 17;
              break;
            case 12:
              _context.prev = 12;
              _context.t0 = _context["catch"](3);
              this.audioPrm = null;
              _logger__WEBPACK_IMPORTED_MODULE_2__.logger.error("PlayAudio Get audio speech error", _context.t0);
              throw new _mini_chat_error__WEBPACK_IMPORTED_MODULE_3__.MiniChatError(-1, "Get Speech Failed");
            case 17:
            case "end":
              return _context.stop();
          }
        }, _callee, this, [[3, 12]]);
      }));
      function playText(_x, _x2) {
        return _playText.apply(this, arguments);
      }
      return playText;
    }()
  }, {
    key: "playData",
    value: function playData(data) {
      var tempFile = "";
      if (_device__WEBPACK_IMPORTED_MODULE_1__.isWeb) {
        var blobData = new Blob([data], {
          type: "audio/wav"
        });
        tempFile = URL.createObjectURL(blobData);
      } else {
        tempFile = (_tarojs_taro__WEBPACK_IMPORTED_MODULE_0___default().env).USER_DATA_PATH + "/tempFile".concat(playNo++, ".wav");
        _tarojs_taro__WEBPACK_IMPORTED_MODULE_0___default().getFileSystemManager().writeFileSync(tempFile, data, "binary");
      }
      _logger__WEBPACK_IMPORTED_MODULE_2__.logger.debug("playData:", tempFile);
      this.play(tempFile);
    }
  }, {
    key: "play",
    value: function () {
      var _play = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_7__["default"])(/*#__PURE__*/(0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_8__["default"])().mark(function _callee2(audioSrc) {
        var _PlayAudio$instance3,
          _this = this;
        var _PlayAudio$instance4;
        return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_8__["default"])().wrap(function _callee2$(_context2) {
          while (1) switch (_context2.prev = _context2.next) {
            case 0:
              if (!((_PlayAudio$instance3 = PlayAudio.instance) !== null && _PlayAudio$instance3 !== void 0 && _PlayAudio$instance3.isStop)) {
                (_PlayAudio$instance4 = PlayAudio.instance) === null || _PlayAudio$instance4 === void 0 || _PlayAudio$instance4.stop();
              }
              this.isStop = false;
              PlayAudio.instance = this;
              this.audioContext = _tarojs_taro__WEBPACK_IMPORTED_MODULE_0___default().createInnerAudioContext();
              this.audioContext.src = audioSrc;
              if (!_device__WEBPACK_IMPORTED_MODULE_1__.isWeb) {
                this.audioContext.obeyMuteSwitch = false;
              }
              _logger__WEBPACK_IMPORTED_MODULE_2__.logger.debug("audioContext", audioSrc);
              this.audioContext.onPlay(function () {
                _logger__WEBPACK_IMPORTED_MODULE_2__.logger.debug("audioContext onPlay");
                _this.event.trigger(AudioPlayEvent.PLAY);
              });
              this.audioContext.onPause(function () {
                _this.stop();
              });
              this.audioContext.onError(function (res) {
                _logger__WEBPACK_IMPORTED_MODULE_2__.logger.error("audioContext onError", res);
                _this.emitStopEvent(true);
                _this.stop();
              });
              this.audioContext.onEnded(function () {
                _logger__WEBPACK_IMPORTED_MODULE_2__.logger.debug("audioContext onEnded");
                _this.stop();
              });
              this.audioContext.onStop(function () {
                _this.unregister();
                _logger__WEBPACK_IMPORTED_MODULE_2__.logger.debug("audioContext onStop");
              });
              _context2.prev = 12;
              _context2.next = 15;
              return this.audioContext.play();
            case 15:
              _context2.next = 20;
              break;
            case 17:
              _context2.prev = 17;
              _context2.t0 = _context2["catch"](12);
              _logger__WEBPACK_IMPORTED_MODULE_2__.logger.error("audioContext play error", _context2.t0);
            case 20:
              _logger__WEBPACK_IMPORTED_MODULE_2__.logger.debug("audioContext", audioSrc);
            case 21:
            case "end":
              return _context2.stop();
          }
        }, _callee2, this, [[12, 17]]);
      }));
      function play(_x3) {
        return _play.apply(this, arguments);
      }
      return play;
    }()
  }, {
    key: "stop",
    value: function stop() {
      _logger__WEBPACK_IMPORTED_MODULE_2__.logger.debug("audioContext stop1", this.isStop);
      if (this.isStop) {
        return;
      }
      try {
        var _this$audioContext;
        this.emitStopEvent();
        (_this$audioContext = this.audioContext) === null || _this$audioContext === void 0 || _this$audioContext.stop();
        this.unregister();
        this.isStop = true;
      } catch (_err) {
        this.emitStopEvent(true);
      }
    }
  }, {
    key: "on",
    value: function on(event, callback) {
      this.event.on(event, callback);
    }
  }, {
    key: "emitStopEvent",
    value: function emitStopEvent() {
      var isError = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
      _logger__WEBPACK_IMPORTED_MODULE_2__.logger.debug("audioContext emitStopEvent", this.isStop);
      if (this.isStop) {
        return;
      }
      this.event.trigger(AudioPlayEvent.STOP, {
        isError: isError
      });
    }
  }, {
    key: "unregister",
    value: function unregister() {
      var _this$audioContext2, _this$audioContext3, _this$audioContext4, _this$audioContext5;
      (_this$audioContext2 = this.audioContext) === null || _this$audioContext2 === void 0 || _this$audioContext2.offPlay();
      (_this$audioContext3 = this.audioContext) === null || _this$audioContext3 === void 0 || _this$audioContext3.offError();
      (_this$audioContext4 = this.audioContext) === null || _this$audioContext4 === void 0 || _this$audioContext4.offEnded();
      (_this$audioContext5 = this.audioContext) === null || _this$audioContext5 === void 0 || _this$audioContext5.offPause();
      this.event.off();
    }
  }], [{
    key: "stopNow",
    value: function stopNow() {
      var _PlayAudio$instance5;
      (_PlayAudio$instance5 = PlayAudio.instance) === null || _PlayAudio$instance5 === void 0 || _PlayAudio$instance5.stop();
    }
  }]);
}();
_PlayAudio = PlayAudio;
(0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_5__["default"])(PlayAudio, "instance", void 0);

/***/ }),

/***/ "./src/libs/utils/recorder-manager/h5-recorder-manager.ts":
/*!****************************************************************!*\
  !*** ./src/libs/utils/recorder-manager/h5-recorder-manager.ts ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   H5RecorderManagerInstance: function() { return /* binding */ H5RecorderManagerInstance; }
/* harmony export */ });
/* unused harmony export H5RecorderManager */
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_superPropGet_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/superPropGet.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/superPropGet.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/classCallCheck.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/createClass.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_callSuper_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/callSuper.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/callSuper.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/inherits.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var _type__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./type */ "./src/libs/utils/recorder-manager/type.ts");
/* harmony import */ var _mini_chat_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../mini-chat-error */ "./src/libs/utils/mini-chat-error.ts");
/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../logger */ "./src/libs/utils/logger.ts");
/* harmony import */ var _webm_to_wav__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../webm-to-wav */ "./src/libs/utils/webm-to-wav.ts");
/* provided dependency */ var navigator = __webpack_require__(/*! @tarojs/runtime */ "./node_modules/.pnpm/@tarojs+runtime@4.0.8/node_modules/@tarojs/runtime/dist/index.js")["navigator"];
/* provided dependency */ var window = __webpack_require__(/*! @tarojs/runtime */ "./node_modules/.pnpm/@tarojs+runtime@4.0.8/node_modules/@tarojs/runtime/dist/index.js")["window"];
/* provided dependency */ var URL = __webpack_require__(/*! @tarojs/runtime */ "./node_modules/.pnpm/@tarojs+runtime@4.0.8/node_modules/@tarojs/runtime/dist/index.js")["URL"];








var _H5RecorderManagerInstance;




var H5RecorderManager = /*#__PURE__*/function (_BaseRecorderManager) {
  function H5RecorderManager() {
    var _this;
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_4__["default"])(this, H5RecorderManager);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_callSuper_js__WEBPACK_IMPORTED_MODULE_5__["default"])(this, H5RecorderManager, [].concat(args));
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_6__["default"])(_this, "options", {});
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_6__["default"])(_this, "stream", null);
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_6__["default"])(_this, "tempFile", "");
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_6__["default"])(_this, "size", 0);
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_6__["default"])(_this, "duration", 0);
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_6__["default"])(_this, "wavBlob", void 0);
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_6__["default"])(_this, "isSendCompleted", false);
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_6__["default"])(_this, "inputLBuffer", []);
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_6__["default"])(_this, "inputRBuffer", []);
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_6__["default"])(_this, "audioContext", void 0);
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_6__["default"])(_this, "audioSource", void 0);
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_6__["default"])(_this, "analyser", void 0);
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_6__["default"])(_this, "processor", void 0);
    return _this;
  }
  (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_7__["default"])(H5RecorderManager, _BaseRecorderManager);
  return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_8__["default"])(H5RecorderManager, [{
    key: "getUserMedia",
    value: function getUserMedia() {
      var _this2 = this;
      return new Promise(function (resolve, reject) {
        var _this2$options = _this2.options,
          _this2$options$sample = _this2$options.sampleRate,
          sampleRate = _this2$options$sample === void 0 ? 48000 : _this2$options$sample,
          _this2$options$number = _this2$options.numberOfChannels,
          numberOfChannels = _this2$options$number === void 0 ? 1 : _this2$options$number;
        var isComplete = false;
        navigator.mediaDevices.getUserMedia({
          audio: {
            sampleRate: sampleRate,
            channelCount: numberOfChannels
          }
        }).then(function (stream) {
          _logger__WEBPACK_IMPORTED_MODULE_2__.logger.debug("H5RecorderManager getUserMedia success", stream);
          if (isComplete) {
            _this2.stopStream(stream);
          } else {
            resolve(stream);
          }
          isComplete = true;
        }).catch(function (error) {
          isComplete = true;
          _logger__WEBPACK_IMPORTED_MODULE_2__.logger.debug("H5RecorderManager getUserMedia catch", error);
          reject(error);
        });
        setTimeout(function () {
          isComplete = true;
          reject(new Error("getUserMedia timeout"));
        }, 3000);
      });
    }
  }, {
    key: "start",
    value: function () {
      var _start = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_9__["default"])(/*#__PURE__*/(0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_10__["default"])().mark(function _callee(options) {
        return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_10__["default"])().wrap(function _callee$(_context) {
          while (1) switch (_context.prev = _context.next) {
            case 0:
              this.options = options;
              this.options.numberOfChannels = options.numberOfChannels || 1;
              this.options.sampleRate = options.sampleRate || 48000;
              this.size = 0;
              this.inputLBuffer = [];
              this.inputRBuffer = [];
              this.stream = null;
              this.isSendCompleted = false;
              _context.prev = 8;
              _context.next = 11;
              return this.getUserMedia();
            case 11:
              this.stream = _context.sent;
              _logger__WEBPACK_IMPORTED_MODULE_2__.logger.debug("H5RecorderManager stream get success", this.isStop, this.stream);
              if (!this.isStop) {
                _context.next = 18;
                break;
              }
              _logger__WEBPACK_IMPORTED_MODULE_2__.logger.warn("H5RecorderManager is stopped before it's started");
              this.stopStream();
              this.emitStop();
              return _context.abrupt("return");
            case 18:
              this.startRecord();
              _context.next = 26;
              break;
            case 21:
              _context.prev = 21;
              _context.t0 = _context["catch"](8);
              _logger__WEBPACK_IMPORTED_MODULE_2__.logger.error("H5RecorderManager getUserMedia error", _context.t0);
              this.emitError(new _mini_chat_error__WEBPACK_IMPORTED_MODULE_1__.MiniChatError(_mini_chat_error__WEBPACK_IMPORTED_MODULE_1__.MiniChatErrorCode.Audio_Permission_Denied, "getUserMedia error"));
              this.stop();
            case 26:
            case "end":
              return _context.stop();
          }
        }, _callee, this, [[8, 21]]);
      }));
      function start(_x) {
        return _start.apply(this, arguments);
      }
      return start;
    }()
  }, {
    key: "startRecord",
    value: function startRecord() {
      if (!this.stream) {
        throw new Error("stream is null");
      }
      var numberOfChannels = this.options.numberOfChannels;
      this.audioContext = new (window.AudioContext ||
      // @ts-expect-error -- linter-disable-autofix
      window.webkitAudioContext)();
      this.audioSource = this.audioContext.createMediaStreamSource(this.stream);
      this.analyser = this.audioContext.createAnalyser();
      this.analyser.fftSize = 128;
      var createAudioNode = this.audioContext.createScriptProcessor ||
      // @ts-expect-error -- linter-disable-autofix
      this.audioContext.createJavaScriptNode;
      var processor = createAudioNode.call(this.audioContext, 4096, numberOfChannels, numberOfChannels);
      this.processor = processor;
      this.audioSource.connect(this.analyser);
      this.audioSource.connect(processor);
      processor.connect(this.audioContext.destination);
      this._registerVolume();
      this.listenAudioProcess();
    }
  }, {
    key: "listenAudioProcess",
    value: function listenAudioProcess() {
      var _this3 = this;
      if (!this.processor) {
        throw new Error("stream is null");
      }
      this.processor.onaudioprocess = function (event) {
        var lData = event.inputBuffer.getChannelData(0);
        _this3.inputLBuffer.push(new Float32Array(lData));
        _this3.size += lData.length;
        if (_this3.options.numberOfChannels === 2) {
          var rData = event.inputBuffer.getChannelData(1);
          _this3.size += rData.length;
          _this3.inputRBuffer.push(new Float32Array(event.inputBuffer.getChannelData(1)));
        }
      };
    }
  }, {
    key: "stopMedia",
    value: function () {
      var _stopMedia = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_9__["default"])(/*#__PURE__*/(0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_10__["default"])().mark(function _callee2() {
        var _this$audioSource, _this$analyser, _this$processor, _this$audioContext;
        var audioBuffer;
        return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_10__["default"])().wrap(function _callee2$(_context2) {
          while (1) switch (_context2.prev = _context2.next) {
            case 0:
              if (!(!this.stream || this.size === 0)) {
                _context2.next = 2;
                break;
              }
              return _context2.abrupt("return");
            case 2:
              (_this$audioSource = this.audioSource) === null || _this$audioSource === void 0 || _this$audioSource.disconnect();
              (_this$analyser = this.analyser) === null || _this$analyser === void 0 || _this$analyser.disconnect();
              (_this$processor = this.processor) === null || _this$processor === void 0 || _this$processor.disconnect();
              (_this$audioContext = this.audioContext) === null || _this$audioContext === void 0 || _this$audioContext.close();
              this.stopStream();
              audioBuffer = this.genAudioBuffer();
              this.duration = audioBuffer.duration * 1000;
              _context2.next = 11;
              return (0,_webm_to_wav__WEBPACK_IMPORTED_MODULE_3__.getWaveBlob2)(audioBuffer, false);
            case 11:
              this.wavBlob = _context2.sent;
              this.tempFile = URL.createObjectURL(this.wavBlob);
              this.emitStop();
            case 14:
            case "end":
              return _context2.stop();
          }
        }, _callee2, this);
      }));
      function stopMedia() {
        return _stopMedia.apply(this, arguments);
      }
      return stopMedia;
    }()
  }, {
    key: "flat",
    value: function flat(size, inputBuffer) {
      var data = new Float32Array(size);
      // 合并
      var offset = 0;
      for (var i = 0; i < inputBuffer.length; i++) {
        data.set(inputBuffer[i], offset);
        offset += inputBuffer[i].length;
      }
      return data;
    }
  }, {
    key: "genAudioBuffer",
    value: function genAudioBuffer() {
      var _this$audioContext2;
      var audioBuffer = new AudioBuffer({
        length: this.size,
        sampleRate: ((_this$audioContext2 = this.audioContext) === null || _this$audioContext2 === void 0 ? void 0 : _this$audioContext2.sampleRate) || 48000,
        numberOfChannels: this.options.numberOfChannels || 1
      });
      var singleSize = this.options.numberOfChannels === 2 ? this.size / 2 : this.size;
      var lData = this.flat(singleSize, this.inputLBuffer);
      audioBuffer.copyToChannel(lData, 0, 0);
      if (this.options.numberOfChannels === 2) {
        var rData = this.flat(singleSize, this.inputRBuffer);
        audioBuffer.copyToChannel(rData, 1, 0);
      }
      return audioBuffer;
    }
  }, {
    key: "_registerVolume",
    value: function _registerVolume() {
      var _this4 = this;
      if (!this.analyser) {
        return function () {};
      }
      var dataArray = new Uint8Array(this.analyser.frequencyBinCount).slice(0, 64);
      var _getVolume = function getVolume() {
        var _this4$analyser;
        if (_this4.isStop) {
          _this4.emit(_type__WEBPACK_IMPORTED_MODULE_0__.RecorderEvent.VOLUME, {
            volume: 0
          });
          return;
        }
        // 计算音量
        (_this4$analyser = _this4.analyser) === null || _this4$analyser === void 0 || _this4$analyser.getByteFrequencyData(dataArray);
        var volumeSum = 0;
        for (var i = 0; i < dataArray.length; i++) {
          volumeSum += Math.abs(dataArray[i]) * Math.abs(dataArray[i]);
        }
        var volume = volumeSum / dataArray.length / 255 / 255;
        _this4.emit(_type__WEBPACK_IMPORTED_MODULE_0__.RecorderEvent.VOLUME, {
          volume: volume < 0.002 ? 0 : volume
        });
        setTimeout(function () {
          _getVolume();
        }, 100);
      };
      _getVolume();
    }
  }, {
    key: "emitStop",
    value: function emitStop() {
      if (this.isSendCompleted) {
        return;
      }
      this.isSendCompleted = true;
      this.emit(_type__WEBPACK_IMPORTED_MODULE_0__.RecorderEvent.STOP, {
        duration: this.duration || 0,
        tempFilePath: this.tempFile,
        fileSize: this.size,
        content: this.wavBlob,
        fileName: "recorder_".concat(Date.now(), ".wav")
      });
    }
  }, {
    key: "emitError",
    value: function emitError(error) {
      if (this.isSendCompleted) {
        return;
      }
      this.isSendCompleted = true;
      this.emit(_type__WEBPACK_IMPORTED_MODULE_0__.RecorderEvent.ERROR, error);
    }
  }, {
    key: "destroy",
    value: function destroy() {
      this.stop();
      this.event.off();
    }
  }, {
    key: "stop",
    value: function () {
      var _stop = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_9__["default"])(/*#__PURE__*/(0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_10__["default"])().mark(function _callee3() {
        return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_10__["default"])().wrap(function _callee3$(_context3) {
          while (1) switch (_context3.prev = _context3.next) {
            case 0:
              if (!this.isStop) {
                _context3.next = 3;
                break;
              }
              _logger__WEBPACK_IMPORTED_MODULE_2__.logger.warn("recorder has been stopped");
              return _context3.abrupt("return");
            case 3:
              _logger__WEBPACK_IMPORTED_MODULE_2__.logger.debug("H5RecorderManager stop");
              this.isStop = true;
              _context3.prev = 5;
              _context3.next = 8;
              return this.stopMedia();
            case 8:
              this.event.off();
              this.stream = null;
              this.audioContext = undefined;
              this.audioSource = undefined;
              this.analyser = undefined;
              this.processor = undefined;
              this.wavBlob = undefined;
              this.inputLBuffer = [];
              this.inputRBuffer = [];
              _context3.next = 22;
              break;
            case 19:
              _context3.prev = 19;
              _context3.t0 = _context3["catch"](5);
              this.emitError(new _mini_chat_error__WEBPACK_IMPORTED_MODULE_1__.MiniChatError(-1, "unknown error"));
            case 22:
            case "end":
              return _context3.stop();
          }
        }, _callee3, this, [[5, 19]]);
      }));
      function stop() {
        return _stop.apply(this, arguments);
      }
      return stop;
    }()
  }, {
    key: "stopStream",
    value: function stopStream(stream) {
      var _ref;
      (_ref = stream || this.stream) === null || _ref === void 0 || _ref.getTracks().forEach(function (track) {
        _logger__WEBPACK_IMPORTED_MODULE_2__.logger.debug("H5RecorderManager , stopStream", track);
        track.stop();
      });
    }
  }, {
    key: "pause",
    value: function pause() {
      if (this.isStop) {
        _logger__WEBPACK_IMPORTED_MODULE_2__.logger.error("recorder has been stopped");
        return;
      }
    }
  }, {
    key: "resume",
    value: function resume() {
      if (this.isStop) {
        _logger__WEBPACK_IMPORTED_MODULE_2__.logger.error("recorder has been stopped");
        return;
      }
    }
  }]);
}(_type__WEBPACK_IMPORTED_MODULE_0__.BaseRecorderManager);
var H5RecorderManagerInstance = /*#__PURE__*/function (_H5RecorderManager2) {
  function H5RecorderManagerInstance() {
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_4__["default"])(this, H5RecorderManagerInstance);
    return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_callSuper_js__WEBPACK_IMPORTED_MODULE_5__["default"])(this, H5RecorderManagerInstance, arguments);
  }
  (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_7__["default"])(H5RecorderManagerInstance, _H5RecorderManager2);
  return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_8__["default"])(H5RecorderManagerInstance, [{
    key: "start",
    value: function () {
      var _start2 = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_9__["default"])(/*#__PURE__*/(0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_10__["default"])().mark(function _callee4(options) {
        var _H5RecorderManagerIns, _H5RecorderManagerIns2;
        var _H5RecorderManagerIns3;
        return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_10__["default"])().wrap(function _callee4$(_context4) {
          while (1) switch (_context4.prev = _context4.next) {
            case 0:
              if (!this.isStop) {
                _context4.next = 2;
                break;
              }
              throw new _mini_chat_error__WEBPACK_IMPORTED_MODULE_1__.MiniChatError(-1, "recorder is stop");
            case 2:
              _logger__WEBPACK_IMPORTED_MODULE_2__.logger.debug("H5RedorManagerInstance start instance stopFlag", (_H5RecorderManagerIns = H5RecorderManagerInstance.curInstance) === null || _H5RecorderManagerIns === void 0 ? void 0 : _H5RecorderManagerIns.isStop);
              // There's only one instance at a time.
              if (!((_H5RecorderManagerIns2 = H5RecorderManagerInstance.curInstance) !== null && _H5RecorderManagerIns2 !== void 0 && _H5RecorderManagerIns2.isStop)) {
                (_H5RecorderManagerIns3 = H5RecorderManagerInstance.curInstance) === null || _H5RecorderManagerIns3 === void 0 || _H5RecorderManagerIns3.stop();
              }
              H5RecorderManagerInstance.curInstance = this;
              _context4.next = 7;
              return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_superPropGet_js__WEBPACK_IMPORTED_MODULE_11__["default"])(H5RecorderManagerInstance, "start", this, 3)([options]);
            case 7:
              return _context4.abrupt("return", _context4.sent);
            case 8:
            case "end":
              return _context4.stop();
          }
        }, _callee4, this);
      }));
      function start(_x2) {
        return _start2.apply(this, arguments);
      }
      return start;
    }()
  }]);
}(H5RecorderManager);
_H5RecorderManagerInstance = H5RecorderManagerInstance;
(0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_6__["default"])(H5RecorderManagerInstance, "curInstance", void 0);

/***/ }),

/***/ "./src/libs/utils/recorder-manager/index.ts":
/*!**************************************************!*\
  !*** ./src/libs/utils/recorder-manager/index.ts ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   RecorderEvent: function() { return /* reexport safe */ _type__WEBPACK_IMPORTED_MODULE_4__.RecorderEvent; },
/* harmony export */   getRecorderManager: function() { return /* binding */ getRecorderManager; }
/* harmony export */ });
/* harmony import */ var _device__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../device */ "./src/libs/utils/device.ts");
/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../logger */ "./src/libs/utils/logger.ts");
/* harmony import */ var _h5_recorder_manager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./h5-recorder-manager */ "./src/libs/utils/recorder-manager/h5-recorder-manager.ts");
/* harmony import */ var _taro_recorder_manager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./taro-recorder-manager */ "./src/libs/utils/recorder-manager/taro-recorder-manager.ts");
/* harmony import */ var _type__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./type */ "./src/libs/utils/recorder-manager/type.ts");





var getRecorderManager = function getRecorderManager() {
  if (_device__WEBPACK_IMPORTED_MODULE_0__.isWeb) {
    _logger__WEBPACK_IMPORTED_MODULE_1__.logger.debug("get H5 recorder manager");
    return new _h5_recorder_manager__WEBPACK_IMPORTED_MODULE_2__.H5RecorderManagerInstance();
  } else {
    _logger__WEBPACK_IMPORTED_MODULE_1__.logger.debug("get taro recorder manager");
    return new _taro_recorder_manager__WEBPACK_IMPORTED_MODULE_3__.TaroRecorderManager();
  }
};

/***/ }),

/***/ "./src/libs/utils/recorder-manager/taro-recorder-manager.ts":
/*!******************************************************************!*\
  !*** ./src/libs/utils/recorder-manager/taro-recorder-manager.ts ***!
  \******************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TaroRecorderManager: function() { return /* binding */ TaroRecorderManager; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/classCallCheck.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/createClass.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_callSuper_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/callSuper.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/callSuper.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/inherits.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var _type__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./type */ "./src/libs/utils/recorder-manager/type.ts");
/* harmony import */ var _tarojs_taro__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @tarojs/taro */ "./node_modules/.pnpm/@tarojs+taro@4.0.8_@tarojs+components@4.0.8_@tarojs+helper@4.0.8_@swc+helpers@0.5.15__@_28b4aa939e10f4882a0917541e7336fe/node_modules/@tarojs/taro/index.js");
/* harmony import */ var _tarojs_taro__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_tarojs_taro__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _mini_chat_error__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../mini-chat-error */ "./src/libs/utils/mini-chat-error.ts");
/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../logger */ "./src/libs/utils/logger.ts");
/* harmony import */ var _device__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../device */ "./src/libs/utils/device.ts");







var _TaroRecorderManager;





var TaroRecorderManager = /*#__PURE__*/function (_BaseRecorderManager) {
  function TaroRecorderManager() {
    var _this;
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_5__["default"])(this, TaroRecorderManager);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_callSuper_js__WEBPACK_IMPORTED_MODULE_6__["default"])(this, TaroRecorderManager, [].concat(args));
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_7__["default"])(_this, "options", {});
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_7__["default"])(_this, "format", void 0);
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_7__["default"])(_this, "fileName", void 0);
    return _this;
  }
  (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_8__["default"])(TaroRecorderManager, _BaseRecorderManager);
  return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_9__["default"])(TaroRecorderManager, [{
    key: "start",
    value: function () {
      var _start = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_10__["default"])(/*#__PURE__*/(0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_11__["default"])().mark(function _callee(options) {
        var _TaroRecorderManager$, _TaroRecorderManager$2;
        var _TaroRecorderManager$3, _this$options, _this$options$sampleR, sampleRate, _this$options$numberO, numberOfChannels, _TaroRecorderManager$6, _TaroRecorderManager$4, _TaroRecorderManager$5, getVolume;
        return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_11__["default"])().wrap(function _callee$(_context) {
          while (1) switch (_context.prev = _context.next) {
            case 0:
              if (!this.isStop) {
                _context.next = 2;
                break;
              }
              throw new _mini_chat_error__WEBPACK_IMPORTED_MODULE_2__.MiniChatError(-1, "recorder is stop");
            case 2:
              _logger__WEBPACK_IMPORTED_MODULE_3__.logger.debug("TaroRedorManager start instance stopFlag", (_TaroRecorderManager$ = TaroRecorderManager.curInstance) === null || _TaroRecorderManager$ === void 0 ? void 0 : _TaroRecorderManager$.isStop);
              // There's only one instance at a time.
              if (!((_TaroRecorderManager$2 = TaroRecorderManager.curInstance) !== null && _TaroRecorderManager$2 !== void 0 && _TaroRecorderManager$2.isStop)) {
                (_TaroRecorderManager$3 = TaroRecorderManager.curInstance) === null || _TaroRecorderManager$3 === void 0 || _TaroRecorderManager$3.stop();
              }
              TaroRecorderManager.curInstance = this;
              _logger__WEBPACK_IMPORTED_MODULE_3__.logger.debug("TaroRedorManager start instance recorder", TaroRecorderManager.recorder);
              if (!TaroRecorderManager.recorder) {
                TaroRecorderManager.recorder = _tarojs_taro__WEBPACK_IMPORTED_MODULE_1___default().getRecorderManager();
                this.registerEvent();
              }
              this.format = _device__WEBPACK_IMPORTED_MODULE_4__.isTT ? "wav" : "mp3";
              this.fileName = "recorder_".concat(Date.now(), ".").concat(this.format);
              this.options = options;
              _this$options = this.options, _this$options$sampleR = _this$options.sampleRate, sampleRate = _this$options$sampleR === void 0 ? 8000 : _this$options$sampleR, _this$options$numberO = _this$options.numberOfChannels, numberOfChannels = _this$options$numberO === void 0 ? 1 : _this$options$numberO;
              _context.prev = 11;
              _context.next = 14;
              return this.checkPermission();
            case 14:
              if (!this.isStop) {
                _context.next = 18;
                break;
              }
              (_TaroRecorderManager$4 = TaroRecorderManager.curInstance) === null || _TaroRecorderManager$4 === void 0 || _TaroRecorderManager$4.emit(_type__WEBPACK_IMPORTED_MODULE_0__.RecorderEvent.STOP, {
                duration: 0,
                tempFilePath: "",
                fileSize: 0
              });
              (_TaroRecorderManager$5 = TaroRecorderManager.recorder) === null || _TaroRecorderManager$5 === void 0 || _TaroRecorderManager$5.stop();
              return _context.abrupt("return");
            case 18:
              TaroRecorderManager.recorder.start({
                numberOfChannels: numberOfChannels,
                sampleRate: sampleRate,
                format: this.format,
                frameSize: 2
              });
              getVolume = (_TaroRecorderManager$6 = TaroRecorderManager.curInstance) === null || _TaroRecorderManager$6 === void 0 ? void 0 : _TaroRecorderManager$6.genGetVolumeFunc();
              getVolume === null || getVolume === void 0 || getVolume();
              _context.next = 27;
              break;
            case 23:
              _context.prev = 23;
              _context.t0 = _context["catch"](11);
              _logger__WEBPACK_IMPORTED_MODULE_3__.logger.error("TaroRecorderManager start error", _context.t0);
              this.emitError(new _mini_chat_error__WEBPACK_IMPORTED_MODULE_2__.MiniChatError(_mini_chat_error__WEBPACK_IMPORTED_MODULE_2__.MiniChatErrorCode.Audio_Permission_Denied, "Permission Denied"));
            case 27:
            case "end":
              return _context.stop();
          }
        }, _callee, this, [[11, 23]]);
      }));
      function start(_x) {
        return _start.apply(this, arguments);
      }
      return start;
    }()
  }, {
    key: "checkPermission",
    value: function checkPermission() {
      return new Promise(function (resolve, reject) {
        _tarojs_taro__WEBPACK_IMPORTED_MODULE_1___default().getSetting({
          success: function success(res) {
            _logger__WEBPACK_IMPORTED_MODULE_3__.logger.debug("TaroRecorderManager getSetting", res);
            if (res.authSetting["scope.record"] !== true) {
              _tarojs_taro__WEBPACK_IMPORTED_MODULE_1___default().authorize({
                scope: "scope.record",
                success: function success() {
                  _logger__WEBPACK_IMPORTED_MODULE_3__.logger.debug("TaroRecorderManager authorize scope.record true");
                  resolve(true);
                },
                fail: function fail(res) {
                  _logger__WEBPACK_IMPORTED_MODULE_3__.logger.error("TaroRecorderManager authorize scope.record false", res);
                  reject();
                }
              });
            } else {
              _logger__WEBPACK_IMPORTED_MODULE_3__.logger.debug("TaroRecorderManager getSetting scope.record true");
              resolve(true);
            }
          },
          fail: function fail() {
            _logger__WEBPACK_IMPORTED_MODULE_3__.logger.debug("TaroRecorderManager getSetting fails");
            resolve(true);
          }
        });
      });
    }
  }, {
    key: "registerEvent",
    value: function registerEvent() {
      var _TaroRecorderManager$7,
        _TaroRecorderManager$9,
        _TaroRecorderManager$11,
        _TaroRecorderManager$13,
        _this2 = this,
        _TaroRecorderManager$15,
        _TaroRecorderManager$16,
        _TaroRecorderManager$18;
      (_TaroRecorderManager$7 = TaroRecorderManager.recorder) === null || _TaroRecorderManager$7 === void 0 || _TaroRecorderManager$7.onStart(function () {
        var _TaroRecorderManager$8;
        (_TaroRecorderManager$8 = TaroRecorderManager.curInstance) === null || _TaroRecorderManager$8 === void 0 || _TaroRecorderManager$8.emit(_type__WEBPACK_IMPORTED_MODULE_0__.RecorderEvent.START, {});
      });
      (_TaroRecorderManager$9 = TaroRecorderManager.recorder) === null || _TaroRecorderManager$9 === void 0 || _TaroRecorderManager$9.onPause(function () {
        var _TaroRecorderManager$10;
        (_TaroRecorderManager$10 = TaroRecorderManager.curInstance) === null || _TaroRecorderManager$10 === void 0 || _TaroRecorderManager$10.emit(_type__WEBPACK_IMPORTED_MODULE_0__.RecorderEvent.PAUSE, {});
      });
      (_TaroRecorderManager$11 = TaroRecorderManager.recorder) === null || _TaroRecorderManager$11 === void 0 || _TaroRecorderManager$11.onResume(function () {
        var _TaroRecorderManager$12;
        (_TaroRecorderManager$12 = TaroRecorderManager.curInstance) === null || _TaroRecorderManager$12 === void 0 || _TaroRecorderManager$12.emit(_type__WEBPACK_IMPORTED_MODULE_0__.RecorderEvent.RESUME, {});
      });
      (_TaroRecorderManager$13 = TaroRecorderManager.recorder) === null || _TaroRecorderManager$13 === void 0 || _TaroRecorderManager$13.onStop(function (event) {
        var _TaroRecorderManager$14;
        (_TaroRecorderManager$14 = TaroRecorderManager.curInstance) === null || _TaroRecorderManager$14 === void 0 || _TaroRecorderManager$14.emit(_type__WEBPACK_IMPORTED_MODULE_0__.RecorderEvent.STOP, {
          duration: event.duration,
          tempFilePath: event.tempFilePath,
          fileSize: event.fileSize,
          fileName: _this2.fileName
        });
      });
      (_TaroRecorderManager$15 = TaroRecorderManager.recorder) === null || _TaroRecorderManager$15 === void 0 || (_TaroRecorderManager$16 = _TaroRecorderManager$15.onInterruptionBegin) === null || _TaroRecorderManager$16 === void 0 || _TaroRecorderManager$16.call(_TaroRecorderManager$15, function () {
        var _TaroRecorderManager$17;
        _logger__WEBPACK_IMPORTED_MODULE_3__.logger.debug("TaroRecorderManager onInterruptionBegin");
        (_TaroRecorderManager$17 = TaroRecorderManager.curInstance) === null || _TaroRecorderManager$17 === void 0 || _TaroRecorderManager$17.emit(_type__WEBPACK_IMPORTED_MODULE_0__.RecorderEvent.INTERRUPT, {});
      });
      (_TaroRecorderManager$18 = TaroRecorderManager.recorder) === null || _TaroRecorderManager$18 === void 0 || _TaroRecorderManager$18.onError(function (event) {
        var _TaroRecorderManager$19, _event$errMsg;
        _logger__WEBPACK_IMPORTED_MODULE_3__.logger.error("TaroRecorderManager onError", event);
        (_TaroRecorderManager$19 = TaroRecorderManager.curInstance) === null || _TaroRecorderManager$19 === void 0 || _TaroRecorderManager$19.emitError(new _mini_chat_error__WEBPACK_IMPORTED_MODULE_2__.MiniChatError(event !== null && event !== void 0 && (_event$errMsg = event.errMsg) !== null && _event$errMsg !== void 0 && _event$errMsg.includes("deny") ? _mini_chat_error__WEBPACK_IMPORTED_MODULE_2__.MiniChatErrorCode.Audio_Permission_Denied : -1, event.errMsg));
      });
    }
  }, {
    key: "genGetVolumeFunc",
    value: function genGetVolumeFunc() {
      var _this3 = this;
      var _getVolume = function getVolume() {
        if (_this3.isStop) {
          _this3.emit(_type__WEBPACK_IMPORTED_MODULE_0__.RecorderEvent.VOLUME, {
            volume: 0
          });
          return;
        }
        var volume = Math.random() * 0.5;
        _this3.emit(_type__WEBPACK_IMPORTED_MODULE_0__.RecorderEvent.VOLUME, {
          volume: volume < 0.002 ? 0 : volume
        });
        setTimeout(function () {
          _getVolume();
        }, 100);
      };
      return _getVolume;
    }
  }, {
    key: "emitError",
    value: function emitError(error) {
      this.emit(_type__WEBPACK_IMPORTED_MODULE_0__.RecorderEvent.ERROR, error);
    }
  }, {
    key: "stop",
    value: function stop() {
      if (this.isStop) {
        _logger__WEBPACK_IMPORTED_MODULE_3__.logger.warn("recorder has been stopped");
        return;
      }
      this.isStop = true;
      try {
        var _TaroRecorderManager$20;
        (_TaroRecorderManager$20 = TaroRecorderManager.recorder) === null || _TaroRecorderManager$20 === void 0 || _TaroRecorderManager$20.stop();
      } catch (err) {
        this.emitError(new _mini_chat_error__WEBPACK_IMPORTED_MODULE_2__.MiniChatError(-1, "unknown error"));
      }
    }
  }, {
    key: "pause",
    value: function pause() {
      var _TaroRecorderManager$21;
      if (this.isStop) {
        _logger__WEBPACK_IMPORTED_MODULE_3__.logger.warn("recorder has been stopped");
        return;
      }
      (_TaroRecorderManager$21 = TaroRecorderManager.recorder) === null || _TaroRecorderManager$21 === void 0 || _TaroRecorderManager$21.pause();
    }
  }, {
    key: "resume",
    value: function resume() {
      var _TaroRecorderManager$22;
      if (this.isStop) {
        _logger__WEBPACK_IMPORTED_MODULE_3__.logger.warn("recorder has been stopped");
        return;
      }
      (_TaroRecorderManager$22 = TaroRecorderManager.recorder) === null || _TaroRecorderManager$22 === void 0 || _TaroRecorderManager$22.resume();
    }
  }, {
    key: "destroy",
    value: function destroy() {
      this.stop();
      this.event.off();
    }
  }]);
}(_type__WEBPACK_IMPORTED_MODULE_0__.BaseRecorderManager);
_TaroRecorderManager = TaroRecorderManager;
(0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_7__["default"])(TaroRecorderManager, "recorder", null);
(0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_7__["default"])(TaroRecorderManager, "curInstance", void 0);

/***/ }),

/***/ "./src/libs/utils/recorder-manager/type.ts":
/*!*************************************************!*\
  !*** ./src/libs/utils/recorder-manager/type.ts ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BaseRecorderManager: function() { return /* binding */ BaseRecorderManager; },
/* harmony export */   RecorderEvent: function() { return /* binding */ RecorderEvent; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/classCallCheck.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/createClass.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var _tarojs_taro__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tarojs/taro */ "./node_modules/.pnpm/@tarojs+taro@4.0.8_@tarojs+components@4.0.8_@tarojs+helper@4.0.8_@swc+helpers@0.5.15__@_28b4aa939e10f4882a0917541e7336fe/node_modules/@tarojs/taro/index.js");
/* harmony import */ var _tarojs_taro__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_tarojs_taro__WEBPACK_IMPORTED_MODULE_0__);




var RecorderEvent = /*#__PURE__*/function (RecorderEvent) {
  RecorderEvent["START"] = "start";
  RecorderEvent["PAUSE"] = "pause";
  RecorderEvent["RESUME"] = "resume";
  RecorderEvent["STOP"] = "stop";
  RecorderEvent["ERROR"] = "error";
  RecorderEvent["INTERRUPT"] = "interrupt";
  RecorderEvent["VOLUME"] = "volume";
  return RecorderEvent;
}({});
var BaseRecorderManager = /*#__PURE__*/function () {
  function BaseRecorderManager() {
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_1__["default"])(this, BaseRecorderManager);
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_2__["default"])(this, "event", new _tarojs_taro__WEBPACK_IMPORTED_MODULE_0__.Events());
    (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_2__["default"])(this, "isStop", false);
  }
  return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_3__["default"])(BaseRecorderManager, [{
    key: "emit",
    value: function emit(event, args) {
      this.event.trigger(event, args);
    }
  }, {
    key: "on",
    value: function on(event, callback) {
      this.event.on(event, callback);
    }
  }, {
    key: "off",
    value: function off(event, callback) {
      this.event.off(event, callback);
    }
  }, {
    key: "isStopped",
    value: function isStopped() {
      return this.isStop;
    }
  }]);
}();

/***/ }),

/***/ "./src/libs/utils/safe-json-parse.ts":
/*!*******************************************!*\
  !*** ./src/libs/utils/safe-json-parse.ts ***!
  \*******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   safeJSONParse: function() { return /* binding */ safeJSONParse; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_typeof_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/typeof.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/typeof.js");

var safeJSONParse = function safeJSONParse(v) {
  var defaultValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
  if ((0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_typeof_js__WEBPACK_IMPORTED_MODULE_0__["default"])(v) === 'object') {
    return v;
  }
  try {
    return JSON.parse(String(v));
  } catch (e) {
    return defaultValue;
  }
};

/***/ }),

/***/ "./src/libs/utils/taro/clipboard.ts":
/*!******************************************!*\
  !*** ./src/libs/utils/taro/clipboard.ts ***!
  \******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   setClipboardData: function() { return /* binding */ setClipboardData; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");
/* harmony import */ var _tarojs_taro__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tarojs/taro */ "./node_modules/.pnpm/@tarojs+taro@4.0.8_@tarojs+components@4.0.8_@tarojs+helper@4.0.8_@swc+helpers@0.5.15__@_28b4aa939e10f4882a0917541e7336fe/node_modules/@tarojs/taro/index.js");
/* harmony import */ var _tarojs_taro__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_tarojs_taro__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _device__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../device */ "./src/libs/utils/device.ts");
/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../logger */ "./src/libs/utils/logger.ts");
/* provided dependency */ var navigator = __webpack_require__(/*! @tarojs/runtime */ "./node_modules/.pnpm/@tarojs+runtime@4.0.8/node_modules/@tarojs/runtime/dist/index.js")["navigator"];





var setClipboardData = /*#__PURE__*/function () {
  var _ref2 = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_3__["default"])(/*#__PURE__*/(0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4__["default"])().mark(function _callee(_ref) {
    var data, _success, _fail;
    return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4__["default"])().wrap(function _callee$(_context) {
      while (1) switch (_context.prev = _context.next) {
        case 0:
          data = _ref.data, _success = _ref.success, _fail = _ref.fail;
          if (!_device__WEBPACK_IMPORTED_MODULE_1__.isWeb) {
            _context.next = 12;
            break;
          }
          _context.prev = 2;
          _context.next = 5;
          return navigator.clipboard.writeText(data);
        case 5:
          _success === null || _success === void 0 || _success(true);
          return _context.abrupt("return");
        case 9:
          _context.prev = 9;
          _context.t0 = _context["catch"](2);
          _logger__WEBPACK_IMPORTED_MODULE_2__.logger.warn("setClipboardData fail");
        case 12:
          _context.next = 14;
          return _tarojs_taro__WEBPACK_IMPORTED_MODULE_0___default().setClipboardData({
            data: data,
            success: function success() {
              _success === null || _success === void 0 || _success(false);
            },
            fail: function fail(err) {
              _fail === null || _fail === void 0 || _fail(err, false);
            }
          });
        case 14:
        case "end":
          return _context.stop();
      }
    }, _callee, null, [[2, 9]]);
  }));
  return function setClipboardData(_x) {
    return _ref2.apply(this, arguments);
  };
}();

/***/ }),

/***/ "./src/libs/utils/taro/get-and-open-setting.ts":
/*!*****************************************************!*\
  !*** ./src/libs/utils/taro/get-and-open-setting.ts ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export getAndOpenSetting */
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");
/* harmony import */ var _tarojs_taro__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tarojs/taro */ "./node_modules/.pnpm/@tarojs+taro@4.0.8_@tarojs+components@4.0.8_@tarojs+helper@4.0.8_@swc+helpers@0.5.15__@_28b4aa939e10f4882a0917541e7336fe/node_modules/@tarojs/taro/index.js");
/* harmony import */ var _tarojs_taro__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_tarojs_taro__WEBPACK_IMPORTED_MODULE_0__);



var getAndOpenSetting = /*#__PURE__*/function () {
  var _ref = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__["default"])(/*#__PURE__*/(0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__["default"])().mark(function _callee(authNameList) {
    var _yield$getSetting, _yield$getSetting$aut, authSetting, _yield$openSetting, authSettingNew, unAuthNameList;
    return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__["default"])().wrap(function _callee$(_context) {
      while (1) switch (_context.prev = _context.next) {
        case 0:
          _context.prev = 0;
          _context.next = 3;
          return (0,_tarojs_taro__WEBPACK_IMPORTED_MODULE_0__.getSetting)();
        case 3:
          _yield$getSetting = _context.sent;
          _yield$getSetting$aut = _yield$getSetting.authSetting;
          authSetting = _yield$getSetting$aut === void 0 ? [] : _yield$getSetting$aut;
          if (!authNameList.some(function (item) {
            return !authSetting[item];
          })) {
            _context.next = 15;
            break;
          }
          _context.next = 9;
          return (0,_tarojs_taro__WEBPACK_IMPORTED_MODULE_0__.openSetting)();
        case 9:
          _yield$openSetting = _context.sent;
          authSettingNew = _yield$openSetting.authSetting;
          unAuthNameList = authNameList.filter(function (item) {
            return !authSettingNew[item];
          });
          return _context.abrupt("return", {
            code: unAuthNameList.length === 0 ? 0 : 1,
            unAuthNameList: unAuthNameList
          });
        case 15:
          return _context.abrupt("return", {
            code: 0,
            unAuthNameList: []
          });
        case 16:
          _context.next = 21;
          break;
        case 18:
          _context.prev = 18;
          _context.t0 = _context["catch"](0);
          return _context.abrupt("return", {
            code: 1,
            unAuthNameList: authNameList
          });
        case 21:
        case "end":
          return _context.stop();
      }
    }, _callee, null, [[0, 18]]);
  }));
  return function getAndOpenSetting(_x) {
    return _ref.apply(this, arguments);
  };
}();

/***/ }),

/***/ "./src/libs/utils/taro/get-bounding-rect.ts":
/*!**************************************************!*\
  !*** ./src/libs/utils/taro/get-bounding-rect.ts ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getBoundingRect: function() { return /* binding */ getBoundingRect; }
/* harmony export */ });
/* harmony import */ var _tarojs_taro__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tarojs/taro */ "./node_modules/.pnpm/@tarojs+taro@4.0.8_@tarojs+components@4.0.8_@tarojs+helper@4.0.8_@swc+helpers@0.5.15__@_28b4aa939e10f4882a0917541e7336fe/node_modules/@tarojs/taro/index.js");
/* harmony import */ var _tarojs_taro__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_tarojs_taro__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _tarojs_shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @tarojs/shared */ "./node_modules/.pnpm/@tarojs+shared@4.0.8/node_modules/@tarojs/shared/dist/is.js");


var getBoundingRect = function getBoundingRect(selectorName) {
  return new Promise(function (resolve) {
    var _createSelectorQuery;
    _tarojs_taro__WEBPACK_IMPORTED_MODULE_0__.createSelectorQuery === null || _tarojs_taro__WEBPACK_IMPORTED_MODULE_0__.createSelectorQuery === void 0 || (_createSelectorQuery = (0,_tarojs_taro__WEBPACK_IMPORTED_MODULE_0__.createSelectorQuery)()) === null || _createSelectorQuery === void 0 || (_createSelectorQuery = _createSelectorQuery.select(selectorName)) === null || _createSelectorQuery === void 0 || _createSelectorQuery.boundingClientRect(function (res) {
      if (!res) {
        resolve([]);
        return [];
      }
      resolve((0,_tarojs_shared__WEBPACK_IMPORTED_MODULE_1__.isArray)(res) ? res : [res]);
    }).exec();
  });
};

/***/ }),

/***/ "./src/libs/utils/taro/get-viewport-bounding-rect.ts":
/*!***********************************************************!*\
  !*** ./src/libs/utils/taro/get-viewport-bounding-rect.ts ***!
  \***********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getViewportBoundingRect: function() { return /* binding */ getViewportBoundingRect; }
/* harmony export */ });
/* harmony import */ var _tarojs_shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @tarojs/shared */ "./node_modules/.pnpm/@tarojs+shared@4.0.8/node_modules/@tarojs/shared/dist/is.js");
/* harmony import */ var _tarojs_taro__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tarojs/taro */ "./node_modules/.pnpm/@tarojs+taro@4.0.8_@tarojs+components@4.0.8_@tarojs+helper@4.0.8_@swc+helpers@0.5.15__@_28b4aa939e10f4882a0917541e7336fe/node_modules/@tarojs/taro/index.js");
/* harmony import */ var _tarojs_taro__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_tarojs_taro__WEBPACK_IMPORTED_MODULE_0__);


var getViewportBoundingRect = function getViewportBoundingRect() {
  return new Promise(function (resolve) {
    var _createSelectorQuery;
    _tarojs_taro__WEBPACK_IMPORTED_MODULE_0__.createSelectorQuery === null || _tarojs_taro__WEBPACK_IMPORTED_MODULE_0__.createSelectorQuery === void 0 || (_createSelectorQuery = (0,_tarojs_taro__WEBPACK_IMPORTED_MODULE_0__.createSelectorQuery)()) === null || _createSelectorQuery === void 0 || (_createSelectorQuery = _createSelectorQuery.selectViewport()) === null || _createSelectorQuery === void 0 || _createSelectorQuery.boundingClientRect(function (res) {
      if (!res) {
        return [];
      }
      resolve((0,_tarojs_shared__WEBPACK_IMPORTED_MODULE_1__.isArray)(res) ? res : [res]);
    }).exec();
  });
};

/***/ }),

/***/ "./src/libs/utils/toast.ts":
/*!*********************************!*\
  !*** ./src/libs/utils/toast.ts ***!
  \*********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   showToast: function() { return /* binding */ showToast; }
/* harmony export */ });
/* harmony import */ var _tarojs_taro__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tarojs/taro */ "./node_modules/.pnpm/@tarojs+taro@4.0.8_@tarojs+components@4.0.8_@tarojs+helper@4.0.8_@swc+helpers@0.5.15__@_28b4aa939e10f4882a0917541e7336fe/node_modules/@tarojs/taro/index.js");
/* harmony import */ var _tarojs_taro__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_tarojs_taro__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../types */ "./src/libs/types/index.ts");


var showToast = function showToast(options, targetEventCenter) {
  if (targetEventCenter) {
    targetEventCenter.trigger(_types__WEBPACK_IMPORTED_MODULE_1__.UIEventType.ChatToastShow, options);
  } else if (typeof (options === null || options === void 0 ? void 0 : options.content) === "string") {
    (0,_tarojs_taro__WEBPACK_IMPORTED_MODULE_0__.showToast)({
      title: options.content,
      icon: options.icon,
      duration: options.duration || 6000
    });
  }
};

/***/ }),

/***/ "./src/libs/utils/webm-to-wav.ts":
/*!***************************************!*\
  !*** ./src/libs/utils/webm-to-wav.ts ***!
  \***************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getWaveBlob2: function() { return /* binding */ getWaveBlob2; }
/* harmony export */ });
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js");
/* harmony import */ var _Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ "./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");
/* provided dependency */ var Blob = __webpack_require__(/*! @tarojs/plugin-http/dist/runtime */ "./node_modules/.pnpm/@tarojs+plugin-http@4.0.9_@tarojs+runtime@4.0.8_@tarojs+shared@4.0.8_@tarojs+taro@4.0.8_1f8631d5a6375706d9574d4852f9d3f0/node_modules/@tarojs/plugin-http/dist/runtime.js")["Blob"];


/* eslint-disable @typescript-eslint/no-magic-numbers -- ignore */
/* eslint-disable security/detect-object-injection -- ignore */
//  reference: https://github.com/upadhyaypushpendra/webm-to-wav-converter
function _writeStringToArray(aString, targetArray, offset) {
  for (var i = 0; i < aString.length; ++i) targetArray[offset + i] = aString.charCodeAt(i);
}
function _writeInt16ToArray(aNumber, targetArray, offset) {
  aNumber = Math.floor(aNumber);
  targetArray[offset + 0] = aNumber & 255; // byte 1
  targetArray[offset + 1] = aNumber >> 8 & 255; // byte 2
}
function _writeInt32ToArray(aNumber, targetArray, offset) {
  aNumber = Math.floor(aNumber);
  targetArray[offset + 0] = aNumber & 255; // byte 1
  targetArray[offset + 1] = aNumber >> 8 & 255; // byte 2
  targetArray[offset + 2] = aNumber >> 16 & 255; // byte 3
  targetArray[offset + 3] = aNumber >> 24 & 255; // byte 4
}

// Return the bits of the float as a 32-bit integer value.  This
// produces the raw bits; no intepretation of the value is done.
function _floatBits(f) {
  var buf = new ArrayBuffer(4);
  new Float32Array(buf)[0] = f;
  var bits = new Uint32Array(buf)[0];
  // Return as a signed integer.
  return bits | 0;
}
function _writeAudioBufferToArray(audioBuffer, targetArray, offset, bitDepth) {
  var index = 0,
    channel = 0;
  var length = audioBuffer.length;
  var channels = audioBuffer.numberOfChannels;
  var channelData, sample;

  // Clamping samples onto the 16-bit resolution.
  for (index = 0; index < length; ++index) {
    for (channel = 0; channel < channels; ++channel) {
      channelData = audioBuffer.getChannelData(channel);

      // Branches upon the requested bit depth
      if (bitDepth === 16) {
        sample = channelData[index] * 32768.0;
        if (sample < -32768) sample = -32768;else if (sample > 32767) sample = 32767;
        _writeInt16ToArray(sample, targetArray, offset);
        offset += 2;
      } else if (bitDepth === 32) {
        // This assumes we're going to out 32-float, not 32-bit linear.
        sample = _floatBits(channelData[index]);
        _writeInt32ToArray(sample, targetArray, offset);
        offset += 4;
      } else {
        console.log("Invalid bit depth for PCM encoding.");
        return;
      }
    }
  }
}

/**
 *
 * @param {Blob | Blob[]} blobData - Blob or Blob[] to be converted to audio/wave Blob
 * @param {boolean} as32BitFloat - Convert to 16-bit or 32-bit file, default 16-bit
 * @param {AudioContextOptions} contextOptions - optiosn needs to be used for encoding
 * @returns
 */
function getWaveBlob2(_x, _x2) {
  return _getWaveBlob.apply(this, arguments);
}
function _getWaveBlob() {
  _getWaveBlob = (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(/*#__PURE__*/(0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_1__["default"])().mark(function _callee(audioBuffer, as32BitFloat) {
    var frameLength, numberOfChannels, sampleRate, bitsPerSample, bytesPerSample, byteRate, blockAlign, wavDataByteLength, headerByteLength, totalLength, waveFileData, subChunk1Size, subChunk2Size, chunkSize;
    return (0,_Users_bytedance_Documents_code_coze_coze_mini_chat_node_modules_pnpm_babel_runtime_7_26_9_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_1__["default"])().wrap(function _callee$(_context) {
      while (1) switch (_context.prev = _context.next) {
        case 0:
          // Encoding setup.
          frameLength = audioBuffer.length;
          numberOfChannels = audioBuffer.numberOfChannels;
          sampleRate = audioBuffer.sampleRate;
          bitsPerSample = as32BitFloat ? 32 : 16;
          bytesPerSample = bitsPerSample / 8;
          byteRate = sampleRate * numberOfChannels * bitsPerSample / 8;
          blockAlign = numberOfChannels * bitsPerSample / 8;
          wavDataByteLength = frameLength * numberOfChannels * bytesPerSample;
          headerByteLength = 44;
          totalLength = headerByteLength + wavDataByteLength;
          waveFileData = new Uint8Array(totalLength);
          subChunk1Size = 16;
          subChunk2Size = wavDataByteLength;
          chunkSize = 4 + (8 + subChunk1Size) + (8 + subChunk2Size);
          _writeStringToArray("RIFF", waveFileData, 0);
          _writeInt32ToArray(chunkSize, waveFileData, 4);
          _writeStringToArray("WAVE", waveFileData, 8);
          _writeStringToArray("fmt ", waveFileData, 12);

          // SubChunk1Size (4)
          _writeInt32ToArray(subChunk1Size, waveFileData, 16);
          // AudioFormat (2): 3 means 32-bit float, 1 means integer PCM.
          _writeInt16ToArray(as32BitFloat ? 3 : 1, waveFileData, 20);
          // NumChannels (2)
          _writeInt16ToArray(numberOfChannels, waveFileData, 22);
          // SampleRate (4)
          _writeInt32ToArray(sampleRate, waveFileData, 24);
          // ByteRate (4)
          _writeInt32ToArray(byteRate, waveFileData, 28);
          // BlockAlign (2)
          _writeInt16ToArray(blockAlign, waveFileData, 32);
          // BitsPerSample (4)
          _writeInt32ToArray(bitsPerSample, waveFileData, 34);
          _writeStringToArray("data", waveFileData, 36);
          // SubChunk2Size (4)
          _writeInt32ToArray(subChunk2Size, waveFileData, 40);

          // Write actual audio data starting at offset 44.
          _writeAudioBufferToArray(audioBuffer, waveFileData, 44, bitsPerSample);
          return _context.abrupt("return", new Blob([waveFileData], {
            type: "audio/wave"
          }));
        case 29:
        case "end":
          return _context.stop();
      }
    }, _callee);
  }));
  return _getWaveBlob.apply(this, arguments);
}

/***/ }),

/***/ "./src/chatflow/hooks/index.module.less":
/*!**********************************************!*\
  !*** ./src/chatflow/hooks/index.module.less ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"footer-container":"index-module__footer-container___L_9Kc"});

/***/ }),

/***/ "./src/chatflow/index.module.less":
/*!****************************************!*\
  !*** ./src/chatflow/index.module.less ***!
  \****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"chatflow":"index-module__chatflow___Vibyy","chat-slot-websdk":"index-module__chat-slot-websdk___vRkjf","loading":"index-module__loading___rDodM"});

/***/ }),

/***/ "./src/libs/framework/component/chat-background/index.module.less":
/*!************************************************************************!*\
  !*** ./src/libs/framework/component/chat-background/index.module.less ***!
  \************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"bg-image":"index-module__bg-image___rzLYf","mask":"index-module__mask___W9gfL","img-container":"index-module__img-container___mtas7","cropper-aspect-container":"index-module__cropper-aspect-container___NFYWv","gradient":"index-module__gradient___ycdrX","img":"index-module__img___idKr8"});

/***/ }),

/***/ "./src/libs/framework/component/chat-error/index.module.less":
/*!*******************************************************************!*\
  !*** ./src/libs/framework/component/chat-error/index.module.less ***!
  \*******************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"container":"index-module__container___Nbryq","content":"index-module__content___egTf0","error-img":"index-module__error-img___qqI0g","error-img-warn-1":"index-module__error-img-warn-1___QPWEY","error-img-warn-dot":"index-module__error-img-warn-dot___q7X1F","error-txt":"index-module__error-txt___hRXlE"});

/***/ }),

/***/ "./src/libs/framework/component/chat-footer/index.module.less":
/*!********************************************************************!*\
  !*** ./src/libs/framework/component/chat-footer/index.module.less ***!
  \********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"container":"index-module__container___fY4Uo","footer":"index-module__footer___vpltC"});

/***/ }),

/***/ "./src/libs/framework/component/chat-framework/index.module.less":
/*!***********************************************************************!*\
  !*** ./src/libs/framework/component/chat-framework/index.module.less ***!
  \***********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"container":"index-module__container___hwGLP","chat":"index-module__chat___dStqg"});

/***/ }),

/***/ "./src/libs/framework/component/chat-group-list/chat-group/index.module.less":
/*!***********************************************************************************!*\
  !*** ./src/libs/framework/component/chat-group-list/chat-group/index.module.less ***!
  \***********************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"chat-group":"index-module__chat-group___6SLY7"});

/***/ }),

/***/ "./src/libs/framework/component/chat-group-list/command/comman-tooltip/index.module.less":
/*!***********************************************************************************************!*\
  !*** ./src/libs/framework/component/chat-group-list/command/comman-tooltip/index.module.less ***!
  \***********************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"pc-content":"index-module__pc-content___tx1dk","mobile-content":"index-module__mobile-content___bCd_S"});

/***/ }),

/***/ "./src/libs/framework/component/chat-group-list/command/command-audio/index.module.less":
/*!**********************************************************************************************!*\
  !*** ./src/libs/framework/component/chat-group-list/command/command-audio/index.module.less ***!
  \**********************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"container":"index-module__container___kPXif","text":"index-module__text___B2GCf"});

/***/ }),

/***/ "./src/libs/framework/component/chat-group-list/command/command-copy/index.module.less":
/*!*********************************************************************************************!*\
  !*** ./src/libs/framework/component/chat-group-list/command/command-copy/index.module.less ***!
  \*********************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"container":"index-module__container___zZqQg","text":"index-module__text___nVCNS"});

/***/ }),

/***/ "./src/libs/framework/component/chat-group-list/index.module.less":
/*!************************************************************************!*\
  !*** ./src/libs/framework/component/chat-group-list/index.module.less ***!
  \************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"container":"index-module__container___Dizhf","chat-group":"index-module__chat-group___wh61L","mobile":"index-module__mobile___S2mXb","selectable":"index-module__selectable___ym4dT"});

/***/ }),

/***/ "./src/libs/framework/component/chat-group-list/prologue-group/index.module.less":
/*!***************************************************************************************!*\
  !*** ./src/libs/framework/component/chat-group-list/prologue-group/index.module.less ***!
  \***************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"divide-container":"index-module__divide-container___YHN6_","divide-line":"index-module__divide-line___bC4dm"});

/***/ }),

/***/ "./src/libs/framework/component/chat-group-list/query-message/index.module.less":
/*!**************************************************************************************!*\
  !*** ./src/libs/framework/component/chat-group-list/query-message/index.module.less ***!
  \**************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"query-message":"index-module__query-message___mYIv4","state-slot":"index-module__state-slot___q4UZG","disable":"index-module__disable___FmMZJ","query-container":"index-module__query-container___VoPoo"});

/***/ }),

/***/ "./src/libs/framework/component/chat-group-list/resp-message-list/index.module.less":
/*!******************************************************************************************!*\
  !*** ./src/libs/framework/component/chat-group-list/resp-message-list/index.module.less ***!
  \******************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"resp":"index-module__resp___rLn4z","answer":"index-module__answer___u1DiN","resp-container":"index-module__resp-container___KZdMS"});

/***/ }),

/***/ "./src/libs/framework/component/chat-header/index.module.less":
/*!********************************************************************!*\
  !*** ./src/libs/framework/component/chat-header/index.module.less ***!
  \********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"app-avatar":"index-module__app-avatar___hyFSu","title":"index-module__title___vpNk1","container":"index-module__container___cJUaG"});

/***/ }),

/***/ "./src/libs/framework/component/chat-input/index.module.less":
/*!*******************************************************************!*\
  !*** ./src/libs/framework/component/chat-input/index.module.less ***!
  \*******************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"container":"index-module__container___gVDAl","slot-container":"index-module__slot-container___JGyfP","command-container":"index-module__command-container___tTP9h","recording-audio":"index-module__recording-audio___y6wVx","input-container":"index-module__input-container___Q3qBp"});

/***/ }),

/***/ "./src/libs/framework/component/chat-loading/index.module.less":
/*!*********************************************************************!*\
  !*** ./src/libs/framework/component/chat-loading/index.module.less ***!
  \*********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"loading":"index-module__loading___fN4Om"});

/***/ }),

/***/ "./src/libs/framework/component/chat-scroll-view/index.module.less":
/*!*************************************************************************!*\
  !*** ./src/libs/framework/component/chat-scroll-view/index.module.less ***!
  \*************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"scroll-container":"index-module__scroll-container___gau2D","loading":"index-module__loading___fiUx7"});

/***/ }),

/***/ "./src/libs/framework/component/chat-slot/index.module.less":
/*!******************************************************************!*\
  !*** ./src/libs/framework/component/chat-slot/index.module.less ***!
  \******************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"slot":"index-module__slot___fk_Pq"});

/***/ }),

/***/ "./src/libs/framework/component/chat-toast/index.module.less":
/*!*******************************************************************!*\
  !*** ./src/libs/framework/component/chat-toast/index.module.less ***!
  \*******************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"chat-toast":"index-module__chat-toast___jgmow","container":"index-module__container___v220l"});

/***/ }),

/***/ "./src/libs/ui-kit/atomic/audio-input/index.module.less":
/*!**************************************************************!*\
  !*** ./src/libs/ui-kit/atomic/audio-input/index.module.less ***!
  \**************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"container":"index-module__container___mSJvM"});

/***/ }),

/***/ "./src/libs/ui-kit/atomic/audio-play/index.module.less":
/*!*************************************************************!*\
  !*** ./src/libs/ui-kit/atomic/audio-play/index.module.less ***!
  \*************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"audioPlay":"index-module__audioPlay___i1gjg","playing":"index-module__playing___LtMyo","icons-blue":"index-module__icons-blue___GYHuJ","light":"index-module__light___hL8vL","icons-white":"index-module__icons-white___vZL5y","gray-bold":"index-module__gray-bold___AL2yX"});

/***/ }),

/***/ "./src/libs/ui-kit/atomic/audio-wave/index.module.less":
/*!*************************************************************!*\
  !*** ./src/libs/ui-kit/atomic/audio-wave/index.module.less ***!
  \*************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"container":"index-module__container___k10xK","bar":"index-module__bar___pgYde"});

/***/ }),

/***/ "./src/libs/ui-kit/atomic/avatar/index.module.less":
/*!*********************************************************!*\
  !*** ./src/libs/ui-kit/atomic/avatar/index.module.less ***!
  \*********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"avatar":"index-module__avatar____dBFO","medium":"index-module__medium___Q0NpQ","large":"index-module__large___bUcFb"});

/***/ }),

/***/ "./src/libs/ui-kit/atomic/bubble-text/index.module.less":
/*!**************************************************************!*\
  !*** ./src/libs/ui-kit/atomic/bubble-text/index.module.less ***!
  \**************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"bubble":"index-module__bubble___k20ev","bubble-text":"index-module__bubble-text___abeDB","small":"index-module__small___Ew3uG","large":"index-module__large___hrnV6"});

/***/ }),

/***/ "./src/libs/ui-kit/atomic/bubble/index.module.less":
/*!*********************************************************!*\
  !*** ./src/libs/ui-kit/atomic/bubble/index.module.less ***!
  \*********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"bubble":"index-module__bubble___NMa7J","is-need-border":"index-module__is-need-border___UkdKI","can-click":"index-module__can-click___UkBHO","active":"index-module__active___vMdDg"});

/***/ }),

/***/ "./src/libs/ui-kit/atomic/button/index.module.less":
/*!*********************************************************!*\
  !*** ./src/libs/ui-kit/atomic/button/index.module.less ***!
  \*********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"button":"index-module__button___KxAYv"});

/***/ }),

/***/ "./src/libs/ui-kit/atomic/c-image/index.module.less":
/*!**********************************************************!*\
  !*** ./src/libs/ui-kit/atomic/c-image/index.module.less ***!
  \**********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"image-error":"index-module__image-error___WfR7_"});

/***/ }),

/***/ "./src/libs/ui-kit/atomic/center-aligned-box/index.module.less":
/*!*********************************************************************!*\
  !*** ./src/libs/ui-kit/atomic/center-aligned-box/index.module.less ***!
  \*********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"wrapper":"index-module__wrapper___ZoVnN"});

/***/ }),

/***/ "./src/libs/ui-kit/atomic/check-box/index.module.less":
/*!************************************************************!*\
  !*** ./src/libs/ui-kit/atomic/check-box/index.module.less ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"checkbox":"index-module__checkbox___SPIRR","checked":"index-module__checked___PpIM1"});

/***/ }),

/***/ "./src/libs/ui-kit/atomic/disable-container/index.module.less":
/*!********************************************************************!*\
  !*** ./src/libs/ui-kit/atomic/disable-container/index.module.less ***!
  \********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"container":"index-module__container___FFAkF","disabled":"index-module__disabled___gYJ9M"});

/***/ }),

/***/ "./src/libs/ui-kit/atomic/error-retry/index.module.less":
/*!**************************************************************!*\
  !*** ./src/libs/ui-kit/atomic/error-retry/index.module.less ***!
  \**************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"text":"index-module__text___PgILC","retry":"index-module__retry___LJ9KD"});

/***/ }),

/***/ "./src/libs/ui-kit/atomic/file-chooser/index.module.less":
/*!***************************************************************!*\
  !*** ./src/libs/ui-kit/atomic/file-chooser/index.module.less ***!
  \***************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"chooser":"index-module__chooser___MDG05","text":"index-module__text___vv8Iu"});

/***/ }),

/***/ "./src/libs/ui-kit/atomic/icon-button/index.module.less":
/*!**************************************************************!*\
  !*** ./src/libs/ui-kit/atomic/icon-button/index.module.less ***!
  \**************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"container":"index-module__container___dtoSg","border":"index-module__border___dIkvN","square-hover-btn":"index-module__square-hover-btn___Vc9BG","hover":"index-module__hover___wD0kZ","bold":"index-module__bold___KTh20","large":"index-module__large___auahl","small":"index-module__small___sZDJG"});

/***/ }),

/***/ "./src/libs/ui-kit/atomic/link/index.module.less":
/*!*******************************************************!*\
  !*** ./src/libs/ui-kit/atomic/link/index.module.less ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"link":"index-module__link___tsOM_"});

/***/ }),

/***/ "./src/libs/ui-kit/atomic/md-stream/render/block/blockquote/index.module.less":
/*!************************************************************************************!*\
  !*** ./src/libs/ui-kit/atomic/md-stream/render/block/blockquote/index.module.less ***!
  \************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"blockquote":"index-module__blockquote___opsoc"});

/***/ }),

/***/ "./src/libs/ui-kit/atomic/md-stream/render/block/code/index.module.less":
/*!******************************************************************************!*\
  !*** ./src/libs/ui-kit/atomic/md-stream/render/block/code/index.module.less ***!
  \******************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"code-container":"index-module__code-container___oH4Nm","header":"index-module__header___tuk1Q","code":"index-module__code___yuytR","lang":"index-module__lang___XBHYB","copy":"index-module__copy___utkxU","content":"index-module__content___xhdDD","text":"index-module__text___OLoKB"});

/***/ }),

/***/ "./src/libs/ui-kit/atomic/md-stream/render/block/heading/index.module.less":
/*!*********************************************************************************!*\
  !*** ./src/libs/ui-kit/atomic/md-stream/render/block/heading/index.module.less ***!
  \*********************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"heading-1":"index-module__heading-1___JtmiA","heading-2":"index-module__heading-2___cZc1_","heading-3":"index-module__heading-3___i_MfG"});

/***/ }),

/***/ "./src/libs/ui-kit/atomic/md-stream/render/block/list/index.module.less":
/*!******************************************************************************!*\
  !*** ./src/libs/ui-kit/atomic/md-stream/render/block/list/index.module.less ***!
  \******************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"list":"index-module__list___XmgwV","list-item":"index-module__list-item___uZ7mo","dot":"index-module__dot___tRGPF","task-item":"index-module__task-item___M9Z54"});

/***/ }),

/***/ "./src/libs/ui-kit/atomic/md-stream/render/block/table/index.module.less":
/*!*******************************************************************************!*\
  !*** ./src/libs/ui-kit/atomic/md-stream/render/block/table/index.module.less ***!
  \*******************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"table-wrapper":"index-module__table-wrapper___mlo5x","table":"index-module__table___NiIpq","table-row":"index-module__table-row___xcdwq","table-cell":"index-module__table-cell___h5XXF","table-header":"index-module__table-header___laEZx"});

/***/ }),

/***/ "./src/libs/ui-kit/atomic/md-stream/render/block/thematic-break/index.module.less":
/*!****************************************************************************************!*\
  !*** ./src/libs/ui-kit/atomic/md-stream/render/block/thematic-break/index.module.less ***!
  \****************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"break":"index-module__break___SsSEr"});

/***/ }),

/***/ "./src/libs/ui-kit/atomic/md-stream/render/phrase/break/index.module.less":
/*!********************************************************************************!*\
  !*** ./src/libs/ui-kit/atomic/md-stream/render/phrase/break/index.module.less ***!
  \********************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"break":"index-module__break___V44S_"});

/***/ }),

/***/ "./src/libs/ui-kit/atomic/md-stream/render/phrase/delete/index.module.less":
/*!*********************************************************************************!*\
  !*** ./src/libs/ui-kit/atomic/md-stream/render/phrase/delete/index.module.less ***!
  \*********************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"delete":"index-module__delete___i2va_"});

/***/ }),

/***/ "./src/libs/ui-kit/atomic/md-stream/render/phrase/emphasis/index.module.less":
/*!***********************************************************************************!*\
  !*** ./src/libs/ui-kit/atomic/md-stream/render/phrase/emphasis/index.module.less ***!
  \***********************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"emphasis":"index-module__emphasis___M3dc2"});

/***/ }),

/***/ "./src/libs/ui-kit/atomic/md-stream/render/phrase/image/index.module.less":
/*!********************************************************************************!*\
  !*** ./src/libs/ui-kit/atomic/md-stream/render/phrase/image/index.module.less ***!
  \********************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"image":"index-module__image___etUul","image-error":"index-module__image-error___SBhMy"});

/***/ }),

/***/ "./src/libs/ui-kit/atomic/md-stream/render/phrase/indicator/index.module.less":
/*!************************************************************************************!*\
  !*** ./src/libs/ui-kit/atomic/md-stream/render/phrase/indicator/index.module.less ***!
  \************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"indicator":"index-module__indicator___4Ksm1","indicator-frame":"index-module__indicator-frame___C1I8a"});

/***/ }),

/***/ "./src/libs/ui-kit/atomic/md-stream/render/phrase/inline-code/index.module.less":
/*!**************************************************************************************!*\
  !*** ./src/libs/ui-kit/atomic/md-stream/render/phrase/inline-code/index.module.less ***!
  \**************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"inline-code":"index-module__inline-code___w2RwE"});

/***/ }),

/***/ "./src/libs/ui-kit/atomic/md-stream/render/phrase/link/index.module.less":
/*!*******************************************************************************!*\
  !*** ./src/libs/ui-kit/atomic/md-stream/render/phrase/link/index.module.less ***!
  \*******************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"link":"index-module__link___gK03x","invalid":"index-module__invalid___xccgD"});

/***/ }),

/***/ "./src/libs/ui-kit/atomic/md-stream/render/phrase/strong/index.module.less":
/*!*********************************************************************************!*\
  !*** ./src/libs/ui-kit/atomic/md-stream/render/phrase/strong/index.module.less ***!
  \*********************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"strong":"index-module__strong___oVHn7"});

/***/ }),

/***/ "./src/libs/ui-kit/atomic/md-stream/render/phrase/text/index.module.less":
/*!*******************************************************************************!*\
  !*** ./src/libs/ui-kit/atomic/md-stream/render/phrase/text/index.module.less ***!
  \*******************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"text":"index-module__text___ikOpp","important":"index-module__important___MBOGO"});

/***/ }),

/***/ "./src/libs/ui-kit/atomic/md-stream/render/root/index.module.less":
/*!************************************************************************!*\
  !*** ./src/libs/ui-kit/atomic/md-stream/render/root/index.module.less ***!
  \************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"root":"index-module__root___R_KQi"});

/***/ }),

/***/ "./src/libs/ui-kit/atomic/modal/index.module.less":
/*!********************************************************!*\
  !*** ./src/libs/ui-kit/atomic/modal/index.module.less ***!
  \********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"modal-container":"index-module__modal-container___Uu7Dd","modal":"index-module__modal___p1pXe","mask":"index-module__mask___mWeS3"});

/***/ }),

/***/ "./src/libs/ui-kit/atomic/radio/index.module.less":
/*!********************************************************!*\
  !*** ./src/libs/ui-kit/atomic/radio/index.module.less ***!
  \********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"radio":"index-module__radio___SbFRY","checked":"index-module__checked___j8pq8","checked-circle":"index-module__checked-circle___EoZq2"});

/***/ }),

/***/ "./src/libs/ui-kit/atomic/scroll-view/index.module.less":
/*!**************************************************************!*\
  !*** ./src/libs/ui-kit/atomic/scroll-view/index.module.less ***!
  \**************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"container":"index-module__container___jHsxj","arrow-down":"index-module__arrow-down___d4CCK","arrow-down--show":"index-module__arrow-down--show___F5DAN","scroll":"index-module__scroll___oz4rR","children":"index-module__children___CyGrD"});

/***/ }),

/***/ "./src/libs/ui-kit/atomic/spacing/index.module.less":
/*!**********************************************************!*\
  !*** ./src/libs/ui-kit/atomic/spacing/index.module.less ***!
  \**********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"spacing":"index-module__spacing___YhX7p","horizontal-center":"index-module__horizontal-center___g61bc"});

/***/ }),

/***/ "./src/libs/ui-kit/atomic/spinning/index.module.less":
/*!***********************************************************!*\
  !*** ./src/libs/ui-kit/atomic/spinning/index.module.less ***!
  \***********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"container":"index-module__container___ByL0s","large":"index-module__large___or0rV","svg":"index-module__svg___WBIm1","small":"index-module__small___uNLyv","text":"index-module__text___ANBoR","animation-rotate":"index-module__animation-rotate___Tj1wt"});

/***/ }),

/***/ "./src/libs/ui-kit/atomic/svg/index.module.less":
/*!******************************************************!*\
  !*** ./src/libs/ui-kit/atomic/svg/index.module.less ***!
  \******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"svg":"index-module__svg___aht22","wrapper":"index-module__wrapper___UmqID","circle":"index-module__circle___EAQoe"});

/***/ }),

/***/ "./src/libs/ui-kit/atomic/toast/index.module.less":
/*!********************************************************!*\
  !*** ./src/libs/ui-kit/atomic/toast/index.module.less ***!
  \********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"container":"index-module__container___Y28q4","content":"index-module__content___FxMEm","icon":"index-module__icon___WFfDs","success":"index-module__success___tyxFD","error":"index-module__error___KDidJ"});

/***/ }),

/***/ "./src/libs/ui-kit/atomic/tooltip/index.module.less":
/*!**********************************************************!*\
  !*** ./src/libs/ui-kit/atomic/tooltip/index.module.less ***!
  \**********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"tooltip":"index-module__tooltip___qm5BV","content":"index-module__content___jZ79F","top":"index-module__top___iM7mu","click":"index-module__click___XsSUd","show":"index-module__show___NwjF3","hover":"index-module__hover___XwAk2"});

/***/ }),

/***/ "./src/libs/ui-kit/atomic/upload/index.module.less":
/*!*********************************************************!*\
  !*** ./src/libs/ui-kit/atomic/upload/index.module.less ***!
  \*********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"container":"index-module__container___wPi7Z","input":"index-module__input___RqbAW"});

/***/ }),

/***/ "./src/libs/ui-kit/atomic/waiting/index.module.less":
/*!**********************************************************!*\
  !*** ./src/libs/ui-kit/atomic/waiting/index.module.less ***!
  \**********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"container":"index-module__container___SmJoW","waiting":"index-module__waiting___T8467"});

/***/ }),

/***/ "./src/libs/ui-kit/chat-input/audio-input/index.module.less":
/*!******************************************************************!*\
  !*** ./src/libs/ui-kit/chat-input/audio-input/index.module.less ***!
  \******************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"container":"index-module__container___kgGPm","text":"index-module__text___PED4_","focused":"index-module__focused___KIJ2K","touching":"index-module__touching___OarQg","outside":"index-module__outside___n2r5q","audio":"index-module__audio___cG9YB","primary":"index-module__primary___Amf4k","tips-container":"index-module__tips-container___FiYRN","left-duration":"index-module__left-duration___o_A5i","outside-tips":"index-module__outside-tips___DyUTp","tips-text":"index-module__tips-text___Nc334"});

/***/ }),

/***/ "./src/libs/ui-kit/chat-input/audio-input/permission-deny/index.module.less":
/*!**********************************************************************************!*\
  !*** ./src/libs/ui-kit/chat-input/audio-input/permission-deny/index.module.less ***!
  \**********************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"container":"index-module__container___SfRYH","title":"index-module__title___kZRIq","desc":"index-module__desc___UNFu0","img":"index-module__img___z3iqh","btn-container":"index-module__btn-container___RgDEt","btn":"index-module__btn___ibo4u"});

/***/ }),

/***/ "./src/libs/ui-kit/chat-input/index.module.less":
/*!******************************************************!*\
  !*** ./src/libs/ui-kit/chat-input/index.module.less ***!
  \******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"container":"index-module__container___HvNwi","audio":"index-module__audio___dcTsP","chat-input-container":"index-module__chat-input-container___QQSpe","chat-input-content":"index-module__chat-input-content___oGXAs","input-container":"index-module__input-container___ksN_Z","input":"index-module__input___AIHEE","placeholder":"index-module__placeholder___AwW0f","divider":"index-module__divider___SuwSM","focused":"index-module__focused___HdeNo","audio-recording":"index-module__audio-recording___MzNdP","multi-mode-message":"index-module__multi-mode-message___kr9gm"});

/***/ }),

/***/ "./src/libs/ui-kit/chat-input/send-btn/index.module.less":
/*!***************************************************************!*\
  !*** ./src/libs/ui-kit/chat-input/send-btn/index.module.less ***!
  \***************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"send-btn":"index-module__send-btn___SL66C"});

/***/ }),

/***/ "./src/libs/ui-kit/chat-input/send-switch-btn/index.module.less":
/*!**********************************************************************!*\
  !*** ./src/libs/ui-kit/chat-input/send-switch-btn/index.module.less ***!
  \**********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"keyboard-icon":"index-module__keyboard-icon___LXr74","microphone-icon":"index-module__microphone-icon___Fw_1e"});

/***/ }),

/***/ "./src/libs/ui-kit/chat-input/task-message/index.module.less":
/*!*******************************************************************!*\
  !*** ./src/libs/ui-kit/chat-input/task-message/index.module.less ***!
  \*******************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"task-message-container":"index-module__task-message-container___M9NGi","content":"index-module__content___T9j1r"});

/***/ }),

/***/ "./src/libs/ui-kit/chat-input/upload-btn/index.module.less":
/*!*****************************************************************!*\
  !*** ./src/libs/ui-kit/chat-input/upload-btn/index.module.less ***!
  \*****************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"file-btn":"index-module__file-btn___k_cy5"});

/***/ }),

/***/ "./src/libs/ui-kit/message/components/chatflow-node/index.module.less":
/*!****************************************************************************!*\
  !*** ./src/libs/ui-kit/message/components/chatflow-node/index.module.less ***!
  \****************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"input-node":"index-module__input-node___GuU9B","btn":"index-module__btn___Lmvxu","input-node-input":"index-module__input-node-input___emNKV","disabled":"index-module__disabled___ZlRQZ","switch-node":"index-module__switch-node___gO_mh","switch-node-text":"index-module__switch-node-text___h4yug","switch-node-switch-item":"index-module__switch-node-switch-item___Lp8kV"});

/***/ }),

/***/ "./src/libs/ui-kit/message/components/file/index.module.less":
/*!*******************************************************************!*\
  !*** ./src/libs/ui-kit/message/components/file/index.module.less ***!
  \*******************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"container":"index-module__container___jGe6V","svg":"index-module__svg___l4vUi","txt":"index-module__txt___AbU7P","size":"index-module__size___HJ25m","file":"index-module__file___TV_F2"});

/***/ }),

/***/ "./src/libs/ui-kit/message/components/image/index.module.less":
/*!********************************************************************!*\
  !*** ./src/libs/ui-kit/message/components/image/index.module.less ***!
  \********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"image":"index-module__image___QJzjz"});

/***/ }),

/***/ "./src/libs/ui-kit/message/components/markdown/index.module.less":
/*!***********************************************************************!*\
  !*** ./src/libs/ui-kit/message/components/markdown/index.module.less ***!
  \***********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"markdown":"index-module__markdown___QDXQh","reason":"index-module__reason____DntH"});

/***/ }),

/***/ "./src/libs/ui-kit/message/components/text/index.module.less":
/*!*******************************************************************!*\
  !*** ./src/libs/ui-kit/message/components/text/index.module.less ***!
  \*******************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"text":"index-module__text___Q_UAb","question-text":"index-module__question-text___RR04n"});

/***/ }),

/***/ "./src/libs/ui-kit/message/components/waiting/index.module.less":
/*!**********************************************************************!*\
  !*** ./src/libs/ui-kit/message/components/waiting/index.module.less ***!
  \**********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"waiting":"index-module__waiting___XMj3z"});

/***/ }),

/***/ "./src/libs/ui-kit/message/container/index.module.less":
/*!*************************************************************!*\
  !*** ./src/libs/ui-kit/message/container/index.module.less ***!
  \*************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"content":"index-module__content____XWPE","txt":"index-module__txt___weWYQ"});

/***/ }),

/***/ "./src/libs/ui-kit/onboarding/index.module.less":
/*!******************************************************!*\
  !*** ./src/libs/ui-kit/onboarding/index.module.less ***!
  \******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"container":"index-module__container___B89_T","vertical-center":"index-module__vertical-center___WsKLz","app-avatar":"index-module__app-avatar___QfDDx","info-container":"index-module__info-container___frTpR","chat-name":"index-module__chat-name___B7ksu","chat-desc":"index-module__chat-desc___OpI0e","prologue":"index-module__prologue___OU8J6"});

/***/ }),

/***/ "./src/libs/ui-kit/suggestion-list/index.module.less":
/*!***********************************************************!*\
  !*** ./src/libs/ui-kit/suggestion-list/index.module.less ***!
  \***********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

"use strict";
// extracted by mini-css-extract-plugin
/* harmony default export */ __webpack_exports__["default"] = ({"suggestion":"index-module__suggestion___jB3n6","suggestion-list":"index-module__suggestion-list___TVqVz"});

/***/ }),

/***/ "./src/libs/ui-kit/assets/imgs/arrow-up.png":
/*!**************************************************!*\
  !*** ./src/libs/ui-kit/assets/imgs/arrow-up.png ***!
  \**************************************************/
/***/ (function(module) {

"use strict";
module.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAABYlAAAWJQFJUiTwAAABaWlDQ1BEaXNwbGF5IFAzAAB4nHWQvUvDUBTFT6tS0DqIDh0cMolD1NIKdnFoKxRFMFQFq1OafgltfCQpUnETVyn4H1jBWXCwiFRwcXAQRAcR3Zw6KbhoeN6XVNoi3sfl/Ticc7lcwBtQGSv2AijplpFMxKS11Lrke4OHnlOqZrKooiwK/v276/PR9d5PiFlNu3YQ2U9cl84ul3aeAlN//V3Vn8maGv3f1EGNGRbgkYmVbYsJ3iUeMWgp4qrgvMvHgtMunzuelWSc+JZY0gpqhrhJLKc79HwHl4plrbWD2N6f1VeXxRzqUcxhEyYYilBRgQQF4X/8044/ji1yV2BQLo8CLMpESRETssTz0KFhEjJxCEHqkLhz634PrfvJbW3vFZhtcM4v2tpCAzidoZPV29p4BBgaAG7qTDVUR+qh9uZywPsJMJgChu8os2HmwiF3e38M6Hvh/GMM8B0CdpXzryPO7RqFn4Er/QcXKWq8MSlPPgAAAPpJREFUeAHtljEOgjAUhn8qxsSEuODCBfA0XsIzOLp4CScv4QU4g2M9AItMmjiosfISMQYLto+6aP+E8Ghf+b4QUgD+PQGYGcZpEgbBmuqrUrNTIXMwwhKo4OXihK4VkHMlrAXq8CpcCSuBJngXCWHaqHvsr2A60xz1UK/pfY0E3uFqo5RaPQXKmsY4Eh8FdPDDXi7qfTTGkRAu4F0khCs4V0K4hHMktAJ9iCUX3igBzI0FFG5ZF7hWQmBntTiO06htPorT6Wg82dJBdVuv9TtAKQp5hKO07YzGO+G34gW8gBfwAl7gNwR6APvDFYKZAZCdH7/jF0DCh5k7u6igLuKHiA8AAAAASUVORK5CYII=";

/***/ }),

/***/ "./src/libs/ui-kit/assets/imgs/avatar.png":
/*!************************************************!*\
  !*** ./src/libs/ui-kit/assets/imgs/avatar.png ***!
  \************************************************/
/***/ (function(module) {

"use strict";
module.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAMAAABiM0N1AAAABGdBTUEAALGPC/xhBQAAALRQTFRFxcXKxcXMysrKycnMxsbMxcXOysrPyMjPxcXNxsbPxsbOxsbMxsbPxcXMxsbNxsbNx8fNxcXNx8fPxcXNxsbPxsbLxsbNxsbMv7/PxMTNx8fOx8fLx8fPxcXLxsbNxsbOxcXNx8fPz8/PxsbNAAAAx8fPy8vRzc3U2dne1tbb0NDWy8vSysrR0dHXx8fOzMzS3Nzg2dnd29vfzc3T29vg1NTZ19fc2trfycnPzs7V3d3hxsbNMdct9wAAACV0Uk5TMLAwUM/PMI+QUM+Qb5CvkGBgQICPcO9QEHC/QH+AcL/vIBDfAAS5/6EAAAJySURBVFjD1ZjZltowDIbdbfayDRACJMQ2nXY67BBi7Pd/r3qAchLHUuwMveh/SXQ+ZNmSLZEpLHYT3jY4V1r8YXIbdhDbKQEp4SRRpiZt6gfSFAVo0nYHsXGiEPExdQJVYE4oB1CHKwfx+woQ6ypHdRkGolw5i1MY1EmUh/oBBHpSnortoLHy1tgGelI1FJdBgaqlkQmiST1QnxZBjKua4qwA6qra6uZB97DdW5pJuU63VWE6gcCFib08KxP44gh6gmY7edHqBbJ6/gsCM0zkOJoE+dRnZxDoUCYL2mMuESRCW2loibikQW3oj1ITlCKZokFD6PPaBGXgjfAOouABkSWBpkyD2tcAxRoErszcNCl/KXhtZAqfffdg630jHRi0NEE/YdsbEiKJvXfctPcgkTvkq9jkOTuBmDbJEKs1sxxpN8MsP5GvaNUSl53bC7xQkqoau031Ac/SZVXFJepK+r9Ai+2hoLcFBoKCvZjvy0m7PgjfXdvupFXZwW7/jTSsv88lqLk9/e0pcpCIfttTJETPs02rH9ak/ezrkN2lERkkleXDlO1+s5faDQ5a2Utt6FL1q+6AlgYNrgGi9gvSG3S8IC1r8wa1jqDyvm08Qfz8Gnn23P5X0z46g0ouCdSl0m1ybG+OT7+SS+IVxpRvgejyhhzwj9RGnnvVjj4CCvIP9u/1OY+Fl//gWi1E7aYmoWabVTNMX8qNX68Op2drRSN/TmRvjnv1/THa9cAr4sno3w8Q9HlyPpmPrGLIErgNWUYO86OoEpVEzGkQRXGUDQPO2FrgY3cSM79hHbWwEoiCgY75FzeHD6fxIW80Y8IQ2z+l8y842LtdxwAAAABJRU5ErkJggg==";

/***/ }),

/***/ "./src/libs/ui-kit/assets/imgs/cancel.png":
/*!************************************************!*\
  !*** ./src/libs/ui-kit/assets/imgs/cancel.png ***!
  \************************************************/
/***/ (function(module) {

"use strict";
module.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAABYlAAAWJQFJUiTwAAABaWlDQ1BEaXNwbGF5IFAzAAB4nHWQvUvDUBTFT6tS0DqIDh0cMolD1NIKdnFoKxRFMFQFq1OafgltfCQpUnETVyn4H1jBWXCwiFRwcXAQRAcR3Zw6KbhoeN6XVNoi3sfl/Ticc7lcwBtQGSv2AijplpFMxKS11Lrke4OHnlOqZrKooiwK/v276/PR9d5PiFlNu3YQ2U9cl84ul3aeAlN//V3Vn8maGv3f1EGNGRbgkYmVbYsJ3iUeMWgp4qrgvMvHgtMunzuelWSc+JZY0gpqhrhJLKc79HwHl4plrbWD2N6f1VeXxRzqUcxhEyYYilBRgQQF4X/8044/ji1yV2BQLo8CLMpESRETssTz0KFhEjJxCEHqkLhz634PrfvJbW3vFZhtcM4v2tpCAzidoZPV29p4BBgaAG7qTDVUR+qh9uZywPsJMJgChu8os2HmwiF3e38M6Hvh/GMM8B0CdpXzryPO7RqFn4Er/QcXKWq8MSlPPgAAAeRJREFUeAHtll1OwkAQx2eqiY/im5+J3oBU3y2cAE8AnEA4gXgC9ATADbiA0AtI1hNAooiPPCvOOEuhlELpBySayP+BLsvO/H/s7HYX4L8LIaG6aSu1twN5SZFjhrR0pSY/KelTBtH9kbJ7YXkSAXxcWrffjBWPaVD6ehhIbIC+ma0BcCFGSM8gzgRBGBBD72a2OmfO0EPikhhcnHTa+El8QGLGzA1P2DkZ2NYlW5Yz8gy8mVYBAWuuN0Pji7l0oezh0vFpq4QGVmdG2DzutG4SA/TNTFce504QSzL7JixGIAoC4ULr2TlTtu0dE6kEr1eWNTV3ph3KUeJOlV2fK4eBOf+YaGuAwHKbiI0o22uqHYaKa8ZwDUkAkCf/XreJmhBDE1jlBM/yxALwSqZVxY2RMrxMmqm1ATatLcAWYAvw6wC7/o6Bmb1DxOHh89NjWPD4jCDM7RI/xHk9BwLohHJiVfRZKxeP9EmnVQwKHFxaeSKs6zYZsC+PIiTQXAlGI3lny2nnfOOCc/sJMGfHfJyEwIaEmgPQlwuDObMKwm9OgPrO14CEWliEupZ+CFkTedfQZ37WaVVgDS3dBYsQi9qEeSBAGMSmzFcCBEFs0jwUwAshO9Nm4HISc4mty4fS8LDVX9MPdjr0K80PF3gAAAAASUVORK5CYII=";

/***/ }),

/***/ "./src/libs/ui-kit/assets/imgs/keyboard.png":
/*!**************************************************!*\
  !*** ./src/libs/ui-kit/assets/imgs/keyboard.png ***!
  \**************************************************/
/***/ (function(module) {

"use strict";
module.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHGSURBVHgB7ZY9TgJREMdnHhs0JAsWK4lcYBFb7Gyks9HOxgvIBez0AhbGChtLG2PFAeAC1Oi7ACa6JiIJxQo7zuMjLiuPD9lVE/kVwP7f5s1/l5l5A7Dkv4PDH0krd8RXRQQyIUIIsIVIN82n+5K6jqkP07L3BeIpu1mBiBnEyMcT6YbbfpZGXxR5CLgEogqEhwlIWQTMfBpBFbNsBO8kgkocumeOI1sQIpZlm++AFxx526+L4I0d8M7DDq5Qe3q8d1D/YqDtyAZERMuREqYZ+GmMSYup9GaRPLEhoFN9dWR1Vt2/BwrvcVhycxlYs7Z2ibxjRP7nIFZgaWdWfQRSa/aD36gfoXfWqRFQLx+4cZTn0UfjY8MFkPo4GgaVsLeoPo1fT8KlAW0OJCw7YyBe+/v3d1BJGKfuoa67at8AH5PmosEVfLxnOnz66da1b0C1zZSVK3FpLWSCH6Kh6wETDSiaTv0KIubvVQFPRzZEhEpsmGZAoDhRwwOEjNrT4L2D+rgcyLsYu02u5yQQvkFIuEiFcQNvzwCBV+O58GAoYj/zMzzHQVRwddXUd28qdtsvcjWR5gfGbNSTcX/gxcuWU7+DJUuYDxAJvNy3JtpkAAAAAElFTkSuQmCC";

/***/ }),

/***/ "./src/libs/ui-kit/assets/svg/arrow-up.svg":
/*!*************************************************!*\
  !*** ./src/libs/ui-kit/assets/svg/arrow-up.svg ***!
  \*************************************************/
/***/ (function(module) {

"use strict";
module.exports = "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMWVtIiBoZWlnaHQ9IjFlbSIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJyZ2JhKDYsIDcsIDksIDAuOCkiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZD0iTTExLjg3OTggMS41MDcxN0MxMS42NjUzIDEuNTMyOTkgMTEuNDU3NiAxLjYyODIyIDExLjI5MjkgMS43OTI4Nkw0LjIyMTg1IDguODYzOTNDMy44MzEzMiA5LjI1NDQ2IDMuODMxMzIgOS44ODc2MiA0LjIyMTg1IDEwLjI3ODFDNC42MTIzNyAxMC42Njg3IDUuMjQ1NTQgMTAuNjY4NyA1LjYzNjA2IDEwLjI3ODFMMTEgNC45MTQxNkwxMSAyMS41QzExIDIyLjA1MjMgMTEuNDQ3OCAyMi41IDEyIDIyLjVDMTIuNTUyMyAyMi41IDEzIDIyLjA1MjMgMTMgMjEuNUwxMyA0LjkxNDE4TDE4LjM2NCAxMC4yNzgxQzE4Ljc1NDUgMTAuNjY4NyAxOS4zODc3IDEwLjY2ODcgMTkuNzc4MiAxMC4yNzgxQzIwLjE2ODggOS44ODc2MiAyMC4xNjg4IDkuMjU0NDYgMTkuNzc4MiA4Ljg2MzkzTDEyLjcwNzIgMS43OTI4NkMxMi41NjA3IDEuNjQ2NDEgMTIuMzgwMSAxLjU1NDg4IDEyLjE5MSAxLjUxODI4QzEyLjA4ODQgMS40OTg0MiAxMS45ODM0IDEuNDk0NzIgMTEuODc5OCAxLjUwNzE3WiI+PC9wYXRoPgo8L3N2Zz4K";

/***/ }),

/***/ "./src/libs/ui-kit/assets/svg/camera.svg":
/*!***********************************************!*\
  !*** ./src/libs/ui-kit/assets/svg/camera.svg ***!
  \***********************************************/
/***/ (function(module) {

"use strict";
module.exports = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIj4KPHBhdGggZD0iTTcgNC41TDcuNTUzMzQgMy4xMjYzNUM3LjcwNTc5IDIuNzQ3ODkgOC4wNzI4OSAyLjUgOC40ODA5MSAyLjVIMTUuNDgxMUMxNS44ODA2IDIuNSAxNi4yNDE4IDIuNzM3NzkgMTYuMzk5NyAzLjEwNDc4TDE3IDQuNUgyMUMyMi4xIDQuNSAyMyA1LjQgMjMgNi41VjE5LjVDMjMgMjAuNiAyMi4xIDIxLjUgMjEgMjEuNUgzQzEuOSAyMS41IDEgMjAuNiAxIDE5LjVWNi41QzEgNS40IDEuOSA0LjUgMyA0LjVIN1pNMyA2LjVWMTkuNUgyMVY2LjVIM1pNMTIgMTZDMTMuNjU2OSAxNiAxNSAxNC42NTY5IDE1IDEzQzE1IDExLjM0MzEgMTMuNjU2OSAxMCAxMiAxMEMxMC4zNDMxIDEwIDkgMTEuMzQzMSA5IDEzQzkgMTQuNjU2OSAxMC4zNDMxIDE2IDEyIDE2Wk0xMiAxOEM5LjIzODU4IDE4IDcgMTUuNzYxNCA3IDEzQzcgMTAuMjM4NiA5LjIzODU4IDggMTIgOEMxNC43NjE0IDggMTcgMTAuMjM4NiAxNyAxM0MxNyAxNS43NjE0IDE0Ljc2MTQgMTggMTIgMThaIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4K";

/***/ }),

/***/ "./src/libs/ui-kit/assets/svg/check-mark.svg":
/*!***************************************************!*\
  !*** ./src/libs/ui-kit/assets/svg/check-mark.svg ***!
  \***************************************************/
/***/ (function(module) {

"use strict";
module.exports = "data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PScwIDAgMTYgMTYnIGZpbGw9JyNmZmYnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+CiAgPHBhdGgKICAgIGQ9J00xMi4yMDcgNC43OTNhMSAxIDAgMCAxIDAgMS40MTRsLTUgNWExIDEgMCAwIDEtMS40MTQgMGwtMi0yYTEgMSAwIDAgMSAxLjQxNC0xLjQxNEw2LjUgOS4wODZsNC4yOTMtNC4yOTNhMSAxIDAgMCAxIDEuNDE0IDB6JyAvPgo8L3N2Zz4K";

/***/ }),

/***/ "./src/libs/ui-kit/assets/svg/close.svg":
/*!**********************************************!*\
  !*** ./src/libs/ui-kit/assets/svg/close.svg ***!
  \**********************************************/
/***/ (function(module) {

"use strict";
module.exports = "data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjFlbSIgaGVpZ2h0PSIxZW0iIGZvY3VzYWJsZT0iZmFsc2UiIGFyaWEtaGlkZGVuPSJ0cnVlIj48cGF0aCBkPSJNMTcuNjYgMTkuNzhhMS41IDEuNSAwIDAgMCAyLjEyLTIuMTJMMTQuMTIgMTJsNS42Ni01LjY2YTEuNSAxLjUgMCAwIDAtMi4xMi0yLjEyTDEyIDkuODggNi4zNCA0LjIyYTEuNSAxLjUgMCAxIDAtMi4xMiAyLjEyTDkuODggMTJsLTUuNjYgNS42NmExLjUgMS41IDAgMCAwIDIuMTIgMi4xMkwxMiAxNC4xMmw1LjY2IDUuNjZaIiBmaWxsPSJyZ2JhKDI4LCAzMSwgMzUsIDAuOCkiPjwvcGF0aD48L3N2Zz4K";

/***/ }),

/***/ "./src/libs/ui-kit/assets/svg/conversation.svg":
/*!*****************************************************!*\
  !*** ./src/libs/ui-kit/assets/svg/conversation.svg ***!
  \*****************************************************/
/***/ (function(module) {

"use strict";
module.exports = "data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbi1pY29uIGljb24taWNvbi1jb3pfY2hhdF9wbHVzIHRleHQteHhsIiB3aWR0aD0iMWVtIiBoZWlnaHQ9IjFlbSIgdmlld0JveD0iMCAwIDI0IDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogIDxwYXRoIGQ9Ik02Ljk0MDI1IDE5LjU5MTZMNi4yMzYwNyAyMUgxMS4xMjQxQzExLjQ0NDIgMjEuNzMyNyAxMS44NzggMjIuNDA0NCAxMi40MDMyIDIyLjk5MjdDMTIuMjY5NCAyMi45OTc2IDEyLjEzNSAyMyAxMiAyM0g0LjYxODAzQzMuODc0NjUgMjMgMy4zOTExNiAyMi4yMTc3IDMuNzIzNjEgMjEuNTUyOEw0LjQ4NDA1IDIwLjAzMTlDMi4zMzk5IDE4LjAyNDcgMSAxNS4xNjg4IDEgMTJDMSA1LjkyNDg3IDUuOTI0ODcgMSAxMiAxQzE4LjA3NTEgMSAyMyA1LjkyNDg3IDIzIDEyQzIzIDEyLjEzNSAyMi45OTc2IDEyLjI2OTQgMjIuOTkyNyAxMi40MDMyQzIyLjM5MjcgMTEuODY3NSAyMS43MDU5IDExLjQyNjkgMjAuOTU2MSAxMS4xMDVDMjAuNTA2OCA2LjU1NDYzIDE2LjY2ODUgMyAxMiAzQzcuMDI5NDQgMyAzIDcuMDI5NDQgMyAxMkMzIDE0LjU5MjggNC4wOTM3OSAxNi45MjY5IDUuODUwODggMTguNTcxOEw2Ljk0MDI1IDE5LjU5MTZaIiBmaWxsPSIjMDYwNzA5IiBmaWxsLW9wYWNpdHk9IjAuOCI+PC9wYXRoPgogIDxwYXRoIGQ9Ik04IDhDNy40NDc3MiA4IDcgOC40NDc3MiA3IDkgNyA5LjU1MjI5IDcuNDQ3NzIgMTAgOCAxMEgxNUMxNS41NTIzIDEwIDE2IDkuNTUyMjkgMTYgOSAxNiA4LjQ0NzcyIDE1LjU1MjMgOCAxNSA4SDh6TTcgMTNDNyAxMi40NDc3IDcuNDQ3NzIgMTIgOCAxMkgxMUMxMS41NTIzIDEyIDEyIDEyLjQ0NzcgMTIgMTMgMTIgMTMuNTUyMyAxMS41NTIzIDE0IDExIDE0SDhDNy40NDc3MiAxNCA3IDEzLjU1MjMgNyAxM3pNMTkgMjJDMTkgMjIuNTUyMyAxOC41NTIzIDIzIDE4IDIzIDE3LjQ0NzcgMjMgMTcgMjIuNTUyMyAxNyAyMlYxOUgxNEMxMy40NDc3IDE5IDEzIDE4LjU1MjMgMTMgMTggMTMgMTcuNDQ3NyAxMy40NDc3IDE3IDE0IDE3SDE3VjE0QzE3IDEzLjQ0NzcgMTcuNDQ3NyAxMyAxOCAxMyAxOC41NTIzIDEzIDE5IDEzLjQ0NzcgMTkgMTRWMTdIMjJDMjIuNTUyMyAxNyAyMyAxNy40NDc3IDIzIDE4IDIzIDE4LjU1MjMgMjIuNTUyMyAxOSAyMiAxOUwxOSAxOVYyMnoiIGZpbGw9IiMwNjA3MDkiIGZpbGwtb3BhY2l0eT0iMC44Ij48L3BhdGg+Cjwvc3ZnPgo=";

/***/ }),

/***/ "./src/libs/ui-kit/assets/svg/error-fill.svg":
/*!***************************************************!*\
  !*** ./src/libs/ui-kit/assets/svg/error-fill.svg ***!
  \***************************************************/
/***/ (function(module) {

"use strict";
module.exports = "data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjFlbSIgaGVpZ2h0PSIxZW0iIGZvY3VzYWJsZT0iZmFsc2UiIGFyaWEtaGlkZGVuPSJ0cnVlIj4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTIzIDEyYTExIDExIDAgMSAxLTIyIDAgMTEgMTEgMCAwIDEgMjIgMFptLTkuNSA1LjVhMS41IDEuNSAwIDEgMC0zIDAgMS41IDEuNSAwIDAgMCAzIDBaTTEyIDVhMS45IDEuOSAwIDAgMC0xLjg5IDJsLjMgNS41YTEuNTkgMS41OSAwIDAgMCAzLjE3IDBsLjMtNS41Yy4wNy0xLjA5LS44LTItMS44OC0yWiIgZmlsbD0icmdiKDI0OSwgNTcsIDMyKSI+PC9wYXRoPgo8L3N2Zz4K";

/***/ }),

/***/ "./src/libs/ui-kit/assets/svg/error.svg":
/*!**********************************************!*\
  !*** ./src/libs/ui-kit/assets/svg/error.svg ***!
  \**********************************************/
/***/ (function(module) {

"use strict";
module.exports = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSJyZ2IoMjU1LCA2OCwgMzApIiBkPSJNMTIgMjFhOSA5IDAgMSAxIDAtMTggOSA5IDAgMCAxIDAgMThabTAgMmM2LjA3NSAwIDExLTQuOTI1IDExLTExUzE4LjA3NSAxIDEyIDEgMSA1LjkyNSAxIDEyczQuOTI1IDExIDExIDExWiI+PC9wYXRoPjxwYXRoIGZpbGw9InJnYigyNTUsIDY4LCAzMCkiIGQ9Ik0xMiA3YTEgMSAwIDAgMC0xIDF2NWExIDEgMCAxIDAgMiAwVjhhMSAxIDAgMCAwLTEtMVpNMTIgMTVhMSAxIDAgMSAwIDAgMiAxIDEgMCAwIDAgMC0yWiI+PC9wYXRoPjwvc3ZnPgo=";

/***/ }),

/***/ "./src/libs/ui-kit/assets/svg/file-type/audio.svg":
/*!********************************************************!*\
  !*** ./src/libs/ui-kit/assets/svg/file-type/audio.svg ***!
  \********************************************************/
/***/ (function(module) {

"use strict";
module.exports = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIj4KPHBhdGggZD0iTTIgNC44QzIgMy4xMTk4NCAyIDIuMjc5NzYgMi4zMjY5OCAxLjYzODAzQzIuNjE0NiAxLjA3MzU0IDMuMDczNTQgMC42MTQ2MDEgMy42MzgwMyAwLjMyNjk4QzQuMjc5NzYgMCA1LjExOTg0IDAgNi44IDBIMTMuMzQ1MUMxNC4wNzg5IDAgMTQuNDQ1OCAwIDE0Ljc5MSAwLjA4Mjg5MDJDMTUuMDk3MSAwLjE1NjM4IDE1LjM4OTggMC4yNzc1OTMgMTUuNjU4MiAwLjQ0MjA3OUMxNS45NjA5IDAuNjI3NjA1IDE2LjIyMDQgMC44ODcwMzIgMTYuNzM5MiAxLjQwNTg5TDIwLjU5NDEgNS4yNjA3OEMyMS4xMTMgNS43Nzk2MyAyMS4zNzI0IDYuMDM5MDYgMjEuNTU3OSA2LjM0MTgxQzIxLjcyMjQgNi42MTAyMyAyMS44NDM2IDYuOTAyODYgMjEuOTE3MSA3LjIwODk3QzIyIDcuNTU0MjMgMjIgNy45MjExMiAyMiA4LjY1NDg5VjE5LjJDMjIgMjAuODgwMiAyMiAyMS43MjAyIDIxLjY3MyAyMi4zNjJDMjEuMzg1NCAyMi45MjY1IDIwLjkyNjUgMjMuMzg1NCAyMC4zNjIgMjMuNjczQzE5LjcyMDIgMjQgMTguODgwMiAyNCAxNy4yIDI0SDYuOEM1LjExOTg0IDI0IDQuMjc5NzYgMjQgMy42MzgwMyAyMy42NzNDMy4wNzM1NCAyMy4zODU0IDIuNjE0NiAyMi45MjY1IDIuMzI2OTggMjIuMzYyQzIgMjEuNzIwMiAyIDIwLjg4MDIgMiAxOS4yVjQuOFoiIGZpbGw9IiMwMEJGNDAiLz4KPHBhdGggZD0iTTE1LjMzMzUgMS4xNTg4MkMxNS4zMzM1IDAuNzk1MzMzIDE1LjMzMzUgMC42MTM1ODggMTUuNDA1NCAwLjUyOTQzQzE1LjQ2NzcgMC40NTY0MDcgMTUuNTYxMyAwLjQxNzY1NCAxNS42NTcgMC40MjUxODlDMTUuNzY3NCAwLjQzMzg3MiAxNS44OTU5IDAuNTYyMzg1IDE2LjE1MjkgMC44MTk0MTFMMjEuMTgwOCA1Ljg0NzI2QzIxLjQzNzggNi4xMDQyOCAyMS41NjYzIDYuMjMyNzkgMjEuNTc1IDYuMzQzMTNDMjEuNTgyNSA2LjQzODg2IDIxLjU0MzggNi41MzI0MiAyMS40NzA3IDYuNTk0NzlDMjEuMzg2NiA2LjY2NjY3IDIxLjIwNDggNi42NjY2NyAyMC44NDEzIDYuNjY2NjdIMjAuMTMzNUMxOC40NTMzIDYuNjY2NjcgMTcuNjEzMyA2LjY2NjY3IDE2Ljk3MTUgNi4zMzk2OUMxNi40MDcgNi4wNTIwNyAxNS45NDgxIDUuNTkzMTIgMTUuNjYwNSA1LjAyODY0QzE1LjMzMzUgNC4zODY5IDE1LjMzMzUgMy41NDY4MiAxNS4zMzM1IDEuODY2NjdWMS4xNTg4MloiIGZpbGw9IndoaXRlIiBmaWxsLW9wYWNpdHk9IjAuMyIvPgo8cGF0aCBkPSJNMTAuMDU1NyAxOS41QzkuNDQ0NjEgMTkuNSA4LjkyMTQ2IDE5LjI4MjQgOC40ODYyNyAxOC44NDcyQzguMDUxMDkgMTguNDEyIDcuODMzNSAxNy44ODg5IDcuODMzNSAxNy4yNzc4QzcuODMzNSAxNi42NjY3IDguMDUxMDkgMTYuMTQzNSA4LjQ4NjI3IDE1LjcwODNDOC45MjE0NiAxNS4yNzMxIDkuNDQ0NjEgMTUuMDU1NiAxMC4wNTU3IDE1LjA1NTZDMTAuMjY4NyAxNS4wNTU2IDEwLjQ2NTQgMTUuMDgxIDEwLjY0NiAxNS4xMzE5QzEwLjgyNjYgMTUuMTgyOSAxMS4wMDAyIDE1LjI1OTMgMTEuMTY2OCAxNS4zNjExVjEwLjc1QzExLjE2NjggMTAuMDU5NiAxMS43MjY1IDkuNSAxMi40MTY4IDkuNUgxNS4zMzM1VjExLjE2NjdIMTIuOTAyOUMxMi41NTc4IDExLjE2NjcgMTIuMjc3OSAxMS40NDY1IDEyLjI3NzkgMTEuNzkxN1YxNy4yNzc4QzEyLjI3NzkgMTcuODg4OSAxMi4wNjAzIDE4LjQxMiAxMS42MjUyIDE4Ljg0NzJDMTEuMTkgMTkuMjgyNCAxMC42NjY4IDE5LjUgMTAuMDU1NyAxOS41WiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+Cg==";

/***/ }),

/***/ "./src/libs/ui-kit/assets/svg/file-type/code.svg":
/*!*******************************************************!*\
  !*** ./src/libs/ui-kit/assets/svg/file-type/code.svg ***!
  \*******************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
module.exports = __webpack_require__.p + "libs/ui-kit/assets/svg/file-type/code.svg";

/***/ }),

/***/ "./src/libs/ui-kit/assets/svg/file-type/csv.svg":
/*!******************************************************!*\
  !*** ./src/libs/ui-kit/assets/svg/file-type/csv.svg ***!
  \******************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
module.exports = __webpack_require__.p + "libs/ui-kit/assets/svg/file-type/csv.svg";

/***/ }),

/***/ "./src/libs/ui-kit/assets/svg/file-type/docx.svg":
/*!*******************************************************!*\
  !*** ./src/libs/ui-kit/assets/svg/file-type/docx.svg ***!
  \*******************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
module.exports = __webpack_require__.p + "libs/ui-kit/assets/svg/file-type/docx.svg";

/***/ }),

/***/ "./src/libs/ui-kit/assets/svg/file-type/other.svg":
/*!********************************************************!*\
  !*** ./src/libs/ui-kit/assets/svg/file-type/other.svg ***!
  \********************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
module.exports = __webpack_require__.p + "libs/ui-kit/assets/svg/file-type/other.svg";

/***/ }),

/***/ "./src/libs/ui-kit/assets/svg/file-type/pdf.svg":
/*!******************************************************!*\
  !*** ./src/libs/ui-kit/assets/svg/file-type/pdf.svg ***!
  \******************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
module.exports = __webpack_require__.p + "libs/ui-kit/assets/svg/file-type/pdf.svg";

/***/ }),

/***/ "./src/libs/ui-kit/assets/svg/file-type/pptx.svg":
/*!*******************************************************!*\
  !*** ./src/libs/ui-kit/assets/svg/file-type/pptx.svg ***!
  \*******************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
module.exports = __webpack_require__.p + "libs/ui-kit/assets/svg/file-type/pptx.svg";

/***/ }),

/***/ "./src/libs/ui-kit/assets/svg/file-type/txt.svg":
/*!******************************************************!*\
  !*** ./src/libs/ui-kit/assets/svg/file-type/txt.svg ***!
  \******************************************************/
/***/ (function(module) {

"use strict";
module.exports = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIj4KPHBhdGggZD0iTTIgNC44QzIgMy4xMTk4NCAyIDIuMjc5NzYgMi4zMjY5OCAxLjYzODAzQzIuNjE0NiAxLjA3MzU0IDMuMDczNTQgMC42MTQ2MDEgMy42MzgwMyAwLjMyNjk4QzQuMjc5NzYgMCA1LjExOTg0IDAgNi44IDBIMTMuMzQ1MUMxNC4wNzg5IDAgMTQuNDQ1OCAwIDE0Ljc5MSAwLjA4Mjg5MDJDMTUuMDk3MSAwLjE1NjM4IDE1LjM4OTggMC4yNzc1OTMgMTUuNjU4MiAwLjQ0MjA3OUMxNS45NjA5IDAuNjI3NjA1IDE2LjIyMDQgMC44ODcwMzIgMTYuNzM5MiAxLjQwNTg5TDIwLjU5NDEgNS4yNjA3OEMyMS4xMTMgNS43Nzk2MyAyMS4zNzI0IDYuMDM5MDYgMjEuNTU3OSA2LjM0MTgxQzIxLjcyMjQgNi42MTAyMyAyMS44NDM2IDYuOTAyODYgMjEuOTE3MSA3LjIwODk3QzIyIDcuNTU0MjMgMjIgNy45MjExMiAyMiA4LjY1NDg5VjE5LjJDMjIgMjAuODgwMiAyMiAyMS43MjAyIDIxLjY3MyAyMi4zNjJDMjEuMzg1NCAyMi45MjY1IDIwLjkyNjUgMjMuMzg1NCAyMC4zNjIgMjMuNjczQzE5LjcyMDIgMjQgMTguODgwMiAyNCAxNy4yIDI0SDYuOEM1LjExOTg0IDI0IDQuMjc5NzYgMjQgMy42MzgwMyAyMy42NzNDMy4wNzM1NCAyMy4zODU0IDIuNjE0NiAyMi45MjY1IDIuMzI2OTggMjIuMzYyQzIgMjEuNzIwMiAyIDIwLjg4MDIgMiAxOS4yVjQuOFoiIGZpbGw9IiM0MDgwRkYiLz4KPHBhdGggZD0iTTE1LjMzMzUgMS4xNTg4MkMxNS4zMzM1IDAuNzk1MzMzIDE1LjMzMzUgMC42MTM1ODggMTUuNDA1NCAwLjUyOTQzQzE1LjQ2NzcgMC40NTY0MDcgMTUuNTYxMyAwLjQxNzY1NCAxNS42NTcgMC40MjUxODlDMTUuNzY3NCAwLjQzMzg3MiAxNS44OTU5IDAuNTYyMzg1IDE2LjE1MjkgMC44MTk0MTFMMjEuMTgwOCA1Ljg0NzI2QzIxLjQzNzggNi4xMDQyOCAyMS41NjYzIDYuMjMyNzkgMjEuNTc1IDYuMzQzMTNDMjEuNTgyNSA2LjQzODg2IDIxLjU0MzggNi41MzI0MiAyMS40NzA3IDYuNTk0NzlDMjEuMzg2NiA2LjY2NjY3IDIxLjIwNDggNi42NjY2NyAyMC44NDEzIDYuNjY2NjdIMjAuMTMzNUMxOC40NTMzIDYuNjY2NjcgMTcuNjEzMyA2LjY2NjY3IDE2Ljk3MTUgNi4zMzk2OUMxNi40MDcgNi4wNTIwNyAxNS45NDgxIDUuNTkzMTIgMTUuNjYwNSA1LjAyODY0QzE1LjMzMzUgNC4zODY5IDE1LjMzMzUgMy41NDY4MiAxNS4zMzM1IDEuODY2NjdWMS4xNTg4MloiIGZpbGw9IndoaXRlIiBmaWxsLW9wYWNpdHk9IjAuMyIvPgo8cGF0aCBkPSJNMTIuNjA2MSAxMC41ODUyVjE4LjkxODVDMTIuNjA2MSAxOS4wMDIyIDEyLjUzODMgMTkuMDcgMTIuNDU0NiAxOS4wN0gxMS41NDU1QzExLjQ2MTggMTkuMDcgMTEuMzk0IDE5LjAwMjIgMTEuMzk0IDE4LjkxODVWMTAuNTg1Mkg3LjYwNjFDNy41MjI0MyAxMC41ODUyIDcuNDU0NTkgMTAuNTE3MyA3LjQ1NDU5IDEwLjQzMzdWOS41MjQ1NkM3LjQ1NDU5IDkuNDQwODggNy41MjI0MyA5LjM3MzA1IDcuNjA2MSA5LjM3MzA1SDE2LjM5NEMxNi40Nzc3IDkuMzczMDUgMTYuNTQ1NSA5LjQ0MDg4IDE2LjU0NTUgOS41MjQ1NlYxMC40MzM3QzE2LjU0NTUgMTAuNTE3MyAxNi40Nzc3IDEwLjU4NTIgMTYuMzk0IDEwLjU4NTJIMTIuNjA2MVoiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPgo=";

/***/ }),

/***/ "./src/libs/ui-kit/assets/svg/file-type/video.svg":
/*!********************************************************!*\
  !*** ./src/libs/ui-kit/assets/svg/file-type/video.svg ***!
  \********************************************************/
/***/ (function(module) {

"use strict";
module.exports = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIj4KPHBhdGggZD0iTTIgNC44QzIgMy4xMTk4NCAyIDIuMjc5NzYgMi4zMjY5OCAxLjYzODAzQzIuNjE0NiAxLjA3MzU0IDMuMDczNTQgMC42MTQ2MDEgMy42MzgwMyAwLjMyNjk4QzQuMjc5NzYgMCA1LjExOTg0IDAgNi44IDBIMTMuMzQ1MUMxNC4wNzg5IDAgMTQuNDQ1OCAwIDE0Ljc5MSAwLjA4Mjg5MDJDMTUuMDk3MSAwLjE1NjM4IDE1LjM4OTggMC4yNzc1OTMgMTUuNjU4MiAwLjQ0MjA3OUMxNS45NjA5IDAuNjI3NjA1IDE2LjIyMDQgMC44ODcwMzIgMTYuNzM5MiAxLjQwNTg5TDIwLjU5NDEgNS4yNjA3OEMyMS4xMTMgNS43Nzk2MyAyMS4zNzI0IDYuMDM5MDYgMjEuNTU3OSA2LjM0MTgxQzIxLjcyMjQgNi42MTAyMyAyMS44NDM2IDYuOTAyODYgMjEuOTE3MSA3LjIwODk3QzIyIDcuNTU0MjMgMjIgNy45MjExMiAyMiA4LjY1NDg5VjE5LjJDMjIgMjAuODgwMiAyMiAyMS43MjAyIDIxLjY3MyAyMi4zNjJDMjEuMzg1NCAyMi45MjY1IDIwLjkyNjUgMjMuMzg1NCAyMC4zNjIgMjMuNjczQzE5LjcyMDIgMjQgMTguODgwMiAyNCAxNy4yIDI0SDYuOEM1LjExOTg0IDI0IDQuMjc5NzYgMjQgMy42MzgwMyAyMy42NzNDMy4wNzM1NCAyMy4zODU0IDIuNjE0NiAyMi45MjY1IDIuMzI2OTggMjIuMzYyQzIgMjEuNzIwMiAyIDIwLjg4MDIgMiAxOS4yVjQuOFoiIGZpbGw9IiM0MDgwRkYiLz4KPHBhdGggZD0iTTE1LjMzMzUgMS4xNTg4MkMxNS4zMzM1IDAuNzk1MzMzIDE1LjMzMzUgMC42MTM1ODggMTUuNDA1NCAwLjUyOTQzQzE1LjQ2NzcgMC40NTY0MDcgMTUuNTYxMyAwLjQxNzY1NCAxNS42NTcgMC40MjUxODlDMTUuNzY3NCAwLjQzMzg3MiAxNS44OTU5IDAuNTYyMzg1IDE2LjE1MjkgMC44MTk0MTFMMjEuMTgwOCA1Ljg0NzI2QzIxLjQzNzggNi4xMDQyOCAyMS41NjYzIDYuMjMyNzkgMjEuNTc1IDYuMzQzMTNDMjEuNTgyNSA2LjQzODg2IDIxLjU0MzggNi41MzI0MiAyMS40NzA3IDYuNTk0NzlDMjEuMzg2NiA2LjY2NjY3IDIxLjIwNDggNi42NjY2NyAyMC44NDEzIDYuNjY2NjdIMjAuMTMzNUMxOC40NTMzIDYuNjY2NjcgMTcuNjEzMyA2LjY2NjY3IDE2Ljk3MTUgNi4zMzk2OUMxNi40MDcgNi4wNTIwNyAxNS45NDgxIDUuNTkzMTIgMTUuNjYwNSA1LjAyODY0QzE1LjMzMzUgNC4zODY5IDE1LjMzMzUgMy41NDY4MiAxNS4zMzM1IDEuODY2NjdWMS4xNTg4MloiIGZpbGw9IndoaXRlIiBmaWxsLW9wYWNpdHk9IjAuMyIvPgo8cGF0aCBkPSJNNi40NDQ4MiAxMC42MTA3QzYuNDQ0ODIgMTAuMTUwNCA2LjgxNzkyIDkuNzc3MzQgNy4yNzgxNiA5Ljc3NzM0SDEzLjExMTVDMTMuNTcxNyA5Ljc3NzM0IDEzLjk0NDggMTAuMTUwNCAxMy45NDQ4IDEwLjYxMDdWMTEuNjAwM0wxNS4yMDI5IDEwLjg5MjZDMTUuNzU4NCAxMC41ODAxIDE2LjQ0NDggMTAuOTgxNSAxNi40NDQ4IDExLjYxODlWMTUuNDM1OEMxNi40NDQ4IDE2LjA3MzIgMTUuNzU4NCAxNi40NzQ2IDE1LjIwMjkgMTYuMTYyMUwxMy45NDQ4IDE1LjQ1NDRWMTYuNDQ0QzEzLjk0NDggMTYuOTA0MiAxMy41NzE3IDE3LjI3NzMgMTMuMTExNSAxNy4yNzczSDcuMjc4MTZDNi44MTc5MiAxNy4yNzczIDYuNDQ0ODIgMTYuOTA0MiA2LjQ0NDgyIDE2LjQ0NFYxMC42MTA3Wk04Ljk0NDgyIDEzLjExMDdDOS40MDUwNiAxMy4xMTA3IDkuNzc4MTYgMTIuNzM3NiA5Ljc3ODE2IDEyLjI3NzNDOS43NzgxNiAxMS44MTcxIDkuNDA1MDYgMTEuNDQ0IDguOTQ0ODIgMTEuNDQ0QzguNDg0NTkgMTEuNDQ0IDguMTExNDkgMTEuODE3MSA4LjExMTQ5IDEyLjI3NzNDOC4xMTE0OSAxMi43Mzc2IDguNDg0NTkgMTMuMTEwNyA4Ljk0NDgyIDEzLjExMDdaIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4K";

/***/ }),

/***/ "./src/libs/ui-kit/assets/svg/file-type/xlsx.svg":
/*!*******************************************************!*\
  !*** ./src/libs/ui-kit/assets/svg/file-type/xlsx.svg ***!
  \*******************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
module.exports = __webpack_require__.p + "libs/ui-kit/assets/svg/file-type/xlsx.svg";

/***/ }),

/***/ "./src/libs/ui-kit/assets/svg/file-type/zip.svg":
/*!******************************************************!*\
  !*** ./src/libs/ui-kit/assets/svg/file-type/zip.svg ***!
  \******************************************************/
/***/ (function(module) {

"use strict";
module.exports = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIj4KPHBhdGggZD0iTTIgNC44QzIgMy4xMTk4NCAyIDIuMjc5NzYgMi4zMjY5OCAxLjYzODAzQzIuNjE0NiAxLjA3MzU0IDMuMDczNTQgMC42MTQ2MDEgMy42MzgwMyAwLjMyNjk4QzQuMjc5NzYgMCA1LjExOTg0IDAgNi44IDBIMTMuMzQ1MUMxNC4wNzg5IDAgMTQuNDQ1OCAwIDE0Ljc5MSAwLjA4Mjg5MDJDMTUuMDk3MSAwLjE1NjM4IDE1LjM4OTggMC4yNzc1OTMgMTUuNjU4MiAwLjQ0MjA3OUMxNS45NjA5IDAuNjI3NjA1IDE2LjIyMDQgMC44ODcwMzIgMTYuNzM5MiAxLjQwNTg5TDIwLjU5NDEgNS4yNjA3OEMyMS4xMTMgNS43Nzk2MyAyMS4zNzI0IDYuMDM5MDYgMjEuNTU3OSA2LjM0MTgxQzIxLjcyMjQgNi42MTAyMyAyMS44NDM2IDYuOTAyODYgMjEuOTE3MSA3LjIwODk3QzIyIDcuNTU0MjMgMjIgNy45MjExMiAyMiA4LjY1NDg5VjE5LjJDMjIgMjAuODgwMiAyMiAyMS43MjAyIDIxLjY3MyAyMi4zNjJDMjEuMzg1NCAyMi45MjY1IDIwLjkyNjUgMjMuMzg1NCAyMC4zNjIgMjMuNjczQzE5LjcyMDIgMjQgMTguODgwMiAyNCAxNy4yIDI0SDYuOEM1LjExOTg0IDI0IDQuMjc5NzYgMjQgMy42MzgwMyAyMy42NzNDMy4wNzM1NCAyMy4zODU0IDIuNjE0NiAyMi45MjY1IDIuMzI2OTggMjIuMzYyQzIgMjEuNzIwMiAyIDIwLjg4MDIgMiAxOS4yVjQuOFoiIGZpbGw9IiM0MDgwRkYiLz4KPHBhdGggZD0iTTE1LjMzMzUgMS4xNTg4MkMxNS4zMzM1IDAuNzk1MzMzIDE1LjMzMzUgMC42MTM1ODggMTUuNDA1NCAwLjUyOTQzQzE1LjQ2NzcgMC40NTY0MDcgMTUuNTYxMyAwLjQxNzY1NCAxNS42NTcgMC40MjUxODlDMTUuNzY3NCAwLjQzMzg3MiAxNS44OTU5IDAuNTYyMzg1IDE2LjE1MjkgMC44MTk0MTFMMjEuMTgwOCA1Ljg0NzI2QzIxLjQzNzggNi4xMDQyOCAyMS41NjYzIDYuMjMyNzkgMjEuNTc1IDYuMzQzMTNDMjEuNTgyNSA2LjQzODg2IDIxLjU0MzggNi41MzI0MiAyMS40NzA3IDYuNTk0NzlDMjEuMzg2NiA2LjY2NjY3IDIxLjIwNDggNi42NjY2NyAyMC44NDEzIDYuNjY2NjdIMjAuMTMzNUMxOC40NTMzIDYuNjY2NjcgMTcuNjEzMyA2LjY2NjY3IDE2Ljk3MTUgNi4zMzk2OUMxNi40MDcgNi4wNTIwNyAxNS45NDgxIDUuNTkzMTIgMTUuNjYwNSA1LjAyODY0QzE1LjMzMzUgNC4zODY5IDE1LjMzMzUgMy41NDY4MiAxNS4zMzM1IDEuODY2NjdWMS4xNTg4MloiIGZpbGw9IndoaXRlIiBmaWxsLW9wYWNpdHk9IjAuMyIvPgo8cGF0aCBkPSJNMTUuODA5MSA5LjIyMjY2QzE2LjE1OTggOS4yMjI2NiAxNi40NDQxIDkuNTAyNDggMTYuNDQ0MSA5Ljg0NzY2VjE4LjU5NzdDMTYuNDQ0MSAxOC45NDI4IDE2LjE1OTggMTkuMjIyNyAxNS44MDkxIDE5LjIyMjdIOC4xOTAxQzcuODM5NDQgMTkuMjIyNyA3LjU1NTE4IDE4Ljk0MjggNy41NTUxOCAxOC41OTc3VjkuODQ3NjZDNy41NTUxOCA5LjUwMjQ4IDcuODM5NDQgOS4yMjI2NiA4LjE5MDEgOS4yMjI2NkgxNS44MDkxWk0xMy4yNjk1IDE2LjA5NzdIMTAuNzI5OFYxOC4yODUySDEzLjI2OTVWMTYuMDk3N1pNMTIuNjM0NSAxNi43MjI3VjE3LjQ0NTlIMTEuMzY0N1YxNi43MjI3SDEyLjYzNDVaTTEzLjI5ODcgMTEuNzIyN0gxMS45OTk2VjEyLjk3MjdIMTAuNzI5OFYxNC4yMjI3SDExLjk5OTZWMTUuNDcyN0gxMy4yOTg3VjE0LjIyMjdIMTIuMDI4OVYxMi45NzI3SDEzLjI5ODdWMTEuNzIyN1pNMTEuOTk5NiAxMC40NzI3SDEwLjcyOThWMTEuNzIyN0gxMS45OTk2VjEwLjQ3MjdaIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4K";

/***/ }),

/***/ "./src/libs/ui-kit/assets/svg/image.svg":
/*!**********************************************!*\
  !*** ./src/libs/ui-kit/assets/svg/image.svg ***!
  \**********************************************/
/***/ (function(module) {

"use strict";
module.exports = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNSIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI1IDI0IiBmaWxsPSJub25lIj4KPHBhdGggZD0iTTE5LjMzMzMgOC43MjQyNlYxNy43QzE5LjMzMzMgMTcuODY1NyAxOS4xOTkgMTggMTkuMDMzMyAxOEgxMy42MTAzTDEzLjYwOTIgMThINS4wNTc2OEM0Ljc5MDQxIDE4IDQuNjU2NTYgMTcuNjc2OSA0Ljg0NTU1IDE3LjQ4NzlMOS4xMjEyOSAxMy4yMTIxQzkuMjM4NDQgMTMuMDk1IDkuNDI4MzkgMTMuMDk1IDkuNTQ1NTUgMTMuMjEyMUwxMS44MzM0IDE1LjVMMTguODIxMiA4LjUxMjEzQzE5LjAxMDIgOC4zMjMxNCAxOS4zMzMzIDguNDU2OTkgMTkuMzMzMyA4LjcyNDI2WiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTcuMzMzNSAxMEM4LjQzODA3IDEwIDkuMzMzNSA5LjEwNDU3IDkuMzMzNSA4QzkuMzMzNSA2Ljg5NTQzIDguNDM4MDcgNiA3LjMzMzUgNkM2LjIyODkzIDYgNS4zMzM1IDYuODk1NDMgNS4zMzM1IDhDNS4zMzM1IDkuMTA0NTcgNi4yMjg5MyAxMCA3LjMzMzUgMTBaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEuMzMzNSA0QzEuMzMzNSAyLjkgMi4yMzM1IDIgMy4zMzM1IDJIMjEuMzMzNUMyMi40MzM1IDIgMjMuMzMzNSAyLjkgMjMuMzMzNSA0VjIwQzIzLjMzMzUgMjEuMSAyMi40MzM1IDIyIDIxLjMzMzUgMjJIMy4zMzM1QzIuMjMzNSAyMiAxLjMzMzUgMjEuMSAxLjMzMzUgMjBWNFpNMjEuMzMzNSA0SDMuMzMzNVYyMEgyMS4zMzM1VjRaIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4K";

/***/ }),

/***/ "./src/libs/ui-kit/assets/svg/info.svg":
/*!*********************************************!*\
  !*** ./src/libs/ui-kit/assets/svg/info.svg ***!
  \*********************************************/
/***/ (function(module) {

"use strict";
module.exports = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNyIgdmlld0JveD0iMCAwIDE2IDE3IiBmaWxsPSJub25lIj4KPHBhdGggZD0iTTcuOTk5MzUgMTQuMjAyNUMxMS4zMTMgMTQuMjAyNSAxMy45OTk0IDExLjUxNjEgMTMuOTk5NCA4LjIwMjQ3QzEzLjk5OTQgNC44ODg4MSAxMS4zMTMgMi4yMDI0NyA3Ljk5OTM1IDIuMjAyNDdDNC42ODU2OCAyLjIwMjQ3IDEuOTk5MzUgNC44ODg4MSAxLjk5OTM1IDguMjAyNDdDMS45OTkzNSAxMS41MTYxIDQuNjg1NjggMTQuMjAyNSA3Ljk5OTM1IDE0LjIwMjVaTTcuOTk5MzUgMTUuNTM1OEMzLjk0OTM1IDE1LjUzNTggMC42NjYwMTYgMTIuMjUyNSAwLjY2NjAxNiA4LjIwMjQ3QzAuNjY2MDE2IDQuMTUyNDcgMy45NDkzNSAwLjg2OTE0MSA3Ljk5OTM1IDAuODY5MTQxQzEyLjA0OTQgMC44NjkxNDEgMTUuMzMyNyA0LjE1MjQ3IDE1LjMzMjcgOC4yMDI0N0MxNS4zMzI3IDEyLjI1MjUgMTIuMDQ5NCAxNS41MzU4IDcuOTk5MzUgMTUuNTM1OFpNNy4zMzI2OSAxMC41MzU4VjcuODY5MTRDNi45NjQ1IDcuODY5MTQgNi42NjYwMiA3LjU3MDY2IDYuNjY2MDIgNy4yMDI0N0M2LjY2NjAyIDYuODM0MjggNi45NjQ1IDYuNTM1ODEgNy4zMzI2OCA2LjUzNTgxSDguMDAxNzZDOC4zNjkwMSA2LjUzNTgxIDguNjY3MTMgNi44MzI4MiA4LjY2NzY5IDcuMjAwMDdDOC42NjkzNyA4LjMxMTk3IDguNjY2MDIgOS40MjM5MiA4LjY2NjAyIDEwLjUzNThIOC45OTkzNUM5LjM2NzU0IDEwLjUzNTggOS42NjYwMiAxMC44MzQzIDkuNjY2MDIgMTEuMjAyNUM5LjY2NjAyIDExLjU3MDcgOS4zNjc1NCAxMS44NjkxIDguOTk5MzUgMTEuODY5MUg2Ljk5OTM1QzYuNjMxMTYgMTEuODY5MSA2LjMzMjY4IDExLjU3MDcgNi4zMzI2OCAxMS4yMDI1QzYuMzMyNjggMTAuODM0MyA2LjYzMTE2IDEwLjUzNTggNi45OTkzNSAxMC41MzU4SDcuMzMyNjlaTTcuOTk5MzUgNS44NjkxNEM3LjYzMTE2IDUuODY5MTQgNy4zMzI2OSA1LjU3MDY2IDcuMzMyNjkgNS4yMDI0N0M3LjMzMjY5IDQuODM0MjggNy42MzExNiA0LjUzNTgxIDcuOTk5MzUgNC41MzU4MUM4LjM2NzU0IDQuNTM1ODEgOC42NjYwMiA0LjgzNDI4IDguNjY2MDIgNS4yMDI0N0M4LjY2NjAyIDUuNTcwNjYgOC4zNjc1NCA1Ljg2OTE0IDcuOTk5MzUgNS44NjkxNFoiIGZpbGw9IiMyMDI5NDUiIGZpbGwtb3BhY2l0eT0iMC42MiIgc3R5bGU9ImZpbGw6IzIwMjk0NTtmaWxsOmNvbG9yKGRpc3BsYXktcDMgMC4xMjU1IDAuMTYwOCAwLjI3MDYpO2ZpbGwtb3BhY2l0eTowLjYyOyIvPgo8L3N2Zz4K";

/***/ }),

/***/ "./src/libs/ui-kit/assets/svg/loading.svg":
/*!************************************************!*\
  !*** ./src/libs/ui-kit/assets/svg/loading.svg ***!
  \************************************************/
/***/ (function(module) {

"use strict";
module.exports = "data:image/svg+xml;base64,PHN2ZwogIHdpZHRoPSIzNiIKICBoZWlnaHQ9IjM2IgogIHZpZXdCb3g9IjAgMCAzNiAzNiIKICB2ZXJzaW9uPSIxLjEiCiAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIGFyaWEtaGlkZGVuPSJ0cnVlIgogIGRhdGEtaWNvbj0ic3BpbiIKPgogIDxkZWZzPgogICAgPGxpbmVhckdyYWRpZW50CiAgICAgIHgxPSIwJSIKICAgICAgeTE9IjEwMCUiCiAgICAgIHgyPSIxMDAlIgogICAgICB5Mj0iMTAwJSIKICAgICAgaWQ9ImxpbmVhckdyYWRpZW50LTE3IgogICAgPgogICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjNEU0MEU1IiBzdG9wLW9wYWNpdHk9IjAiIG9mZnNldD0iMCUiPjwvc3RvcD4KICAgICAgPHN0b3AKICAgICAgICBzdG9wLWNvbG9yPSIjNEU0MEU1IgogICAgICAgIHN0b3Atb3BhY2l0eT0iMC41MCIKICAgICAgICBvZmZzZXQ9IjM5Ljk0MzA2OTglIgogICAgICA+PC9zdG9wPgogICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjNEU0MEU1IiBvZmZzZXQ9IjEwMCUiPjwvc3RvcD4KICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgPC9kZWZzPgogIDxnIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgPHJlY3QKICAgICAgZmlsbC1vcGFjaXR5PSIwLjAxIgogICAgICBmaWxsPSJub25lIgogICAgICB4PSIwIgogICAgICB5PSIwIgogICAgICB3aWR0aD0iMzYiCiAgICAgIGhlaWdodD0iMzYiCiAgICA+PC9yZWN0PgogICAgPHBhdGgKICAgICAgZD0iTTM0LDE4IEMzNCw5LjE2MzQ0NCAyNi44MzY1NTYsMiAxOCwyIEMxMS42NTk3MjMzLDIgNi4xODA3ODgwNSw1LjY4Nzg0MTM1IDMuNTkxMjIzMjUsMTEuMDM1NDk1MSIKICAgICAgc3Ryb2tlPSJ1cmwoI2xpbmVhckdyYWRpZW50LTE3KSIKICAgICAgc3Ryb2tlLXdpZHRoPSI0IgogICAgICBzdHJva2UtbGluZWNhcD0icm91bmQiCiAgICA+PC9wYXRoPgogIDwvZz4KPC9zdmc+Cg==";

/***/ }),

/***/ "./src/libs/ui-kit/assets/svg/microphone.svg":
/*!***************************************************!*\
  !*** ./src/libs/ui-kit/assets/svg/microphone.svg ***!
  \***************************************************/
/***/ (function(module) {

"use strict";
module.exports = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2IiBmaWxsPSJub25lIj4KPHBhdGggZD0iTTggMC42NjYwMTZDNi4xNTkwNSAwLjY2NjAxNiA0LjY2NjY3IDIuMTU4NCA0LjY2NjY3IDMuOTk5MzVWNy4zMzI2OEM0LjY2NjY3IDkuMTczNjMgNi4xNTkwNSAxMC42NjYgOCAxMC42NjZDOS44NDA5NSAxMC42NjYgMTEuMzMzMyA5LjE3MzYzIDExLjMzMzMgNy4zMzI2OFYzLjk5OTM1QzExLjMzMzMgMi4xNTg0IDkuODQwOTUgMC42NjYwMTYgOCAwLjY2NjAxNlpNMTAgNy4zMzI2OEMxMCA4LjQzNzI1IDkuMTA0NTcgOS4zMzI2OCA4IDkuMzMyNjhDNi44OTU0MyA5LjMzMjY4IDYgOC40MzcyNSA2IDcuMzMyNjhWMy45OTkzNUM2IDIuODk0NzggNi44OTU0MyAxLjk5OTM1IDggMS45OTkzNUM5LjEwNDU3IDEuOTk5MzUgMTAgMi44OTQ3OCAxMCAzLjk5OTM1VjcuMzMyNjhaIiBmaWxsPSIjMEYxNTI4IiBmaWxsLW9wYWNpdHk9IjAuODIiIHN0eWxlPSJmaWxsOiMwRjE1Mjg7ZmlsbDpjb2xvcihkaXNwbGF5LXAzIDAuMDU4OCAwLjA4MjQgMC4xNTY5KTtmaWxsLW9wYWNpdHk6MC44MjsiLz4KPHBhdGggZD0iTTEzLjMzMzMgNS45OTkzNUMxMi45NjUxIDUuOTk5MzUgMTIuNjY2NyA2LjI5NzgzIDEyLjY2NjcgNi42NjYwMlY3LjMzMjY4QzEyLjY2NjcgOS45MTAwMSAxMC41NzczIDExLjk5OTMgOCAxMS45OTkzQzUuNDIyNjcgMTEuOTk5MyAzLjMzMzMzIDkuOTEwMDEgMy4zMzMzMyA3LjMzMjY4VjYuNjY2MDJDMy4zMzMzMyA2LjI5NzgzIDMuMDM0ODYgNS45OTkzNSAyLjY2NjY3IDUuOTk5MzVDMi4yOTg0OCA1Ljk5OTM1IDIgNi4yOTc4MyAyIDYuNjY2MDJWNy4zMzI2OEMyIDEwLjQyMTEgNC4zMzMzNyAxMi45NjQ0IDcuMzMzMzMgMTMuMjk2MVYxNC45OTkzQzcuMzMzMzMgMTUuMzY3NSA3LjYzMTgxIDE1LjY2NiA4IDE1LjY2NkM4LjM2ODE5IDE1LjY2NiA4LjY2NjY3IDE1LjM2NzUgOC42NjY2NyAxNC45OTkzVjEzLjI5NjFDMTEuNjY2NiAxMi45NjQ0IDE0IDEwLjQyMTEgMTQgNy4zMzI2OFY2LjY2NjAyQzE0IDYuMjk3ODMgMTMuNzAxNSA1Ljk5OTM1IDEzLjMzMzMgNS45OTkzNVoiIGZpbGw9IiMwRjE1MjgiIGZpbGwtb3BhY2l0eT0iMC44MiIgc3R5bGU9ImZpbGw6IzBGMTUyODtmaWxsOmNvbG9yKGRpc3BsYXktcDMgMC4wNTg4IDAuMDgyNCAwLjE1NjkpO2ZpbGwtb3BhY2l0eTowLjgyOyIvPgo8L3N2Zz4K";

/***/ }),

/***/ "./src/libs/ui-kit/assets/svg/plus.svg":
/*!*********************************************!*\
  !*** ./src/libs/ui-kit/assets/svg/plus.svg ***!
  \*********************************************/
/***/ (function(module) {

"use strict";
module.exports = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgdmlld0JveD0iMCAwIDIwIDIwIiBmaWxsPSJub25lIj4KPHBhdGggZD0iTTkuMTY2ODMgNi42NjczMlY5LjE2NzMySDYuNjY2ODNDNi4yMDY1OSA5LjE2NzMyIDUuODMzNSA5LjU0MDQxIDUuODMzNSAxMC4wMDA3QzUuODMzNSAxMC40NjA5IDYuMjA2NTkgMTAuODM0IDYuNjY2ODMgMTAuODM0SDkuMTY2ODNWMTMuMzM0QzkuMTY2ODMgMTMuNzk0MiA5LjUzOTkyIDE0LjE2NzMgMTAuMDAwMiAxNC4xNjczQzEwLjQ2MDQgMTQuMTY3MyAxMC44MzM1IDEzLjc5NDIgMTAuODMzNSAxMy4zMzRWMTAuODM0SDEzLjMzMzVDMTMuNzkzNyAxMC44MzQgMTQuMTY2OCAxMC40NjA5IDE0LjE2NjggMTAuMDAwN0MxNC4xNjY4IDkuNTQwNDEgMTMuNzkzNyA5LjE2NzMyIDEzLjMzMzUgOS4xNjczMkgxMC44MzM1VjYuNjY3MzJDMTAuODMzNSA2LjIwNzA4IDEwLjQ2MDQgNS44MzM5OCAxMC4wMDAyIDUuODMzOThDOS41Mzk5MiA1LjgzMzk4IDkuMTY2ODMgNi4yMDcwOCA5LjE2NjgzIDYuNjY3MzJaIiBmaWxsPSIjMDYwNzA5IiBmaWxsLW9wYWNpdHk9IjAuOCIvPgo8L3N2Zz4K";

/***/ }),

/***/ "./src/libs/ui-kit/assets/svg/success-fill.svg":
/*!*****************************************************!*\
  !*** ./src/libs/ui-kit/assets/svg/success-fill.svg ***!
  \*****************************************************/
/***/ (function(module) {

"use strict";
module.exports = "data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjFlbSIgaGVpZ2h0PSIxZW0iIGZvY3VzYWJsZT0iZmFsc2UiIGFyaWEtaGlkZGVuPSJ0cnVlIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEyIDIzYTExIDExIDAgMSAwIDAtMjIgMTEgMTEgMCAwIDAgMCAyMlptNS44OC0xMy4xOC02LjIgNy42YTEuNSAxLjUgMCAwIDEtMi4zNyAwbC0zLjUtNGExLjUgMS41IDAgMSAxIDIuMzctMS44NGwyLjMgMi40NkwxNS41IDhhMS41IDEuNSAwIDEgMSAyLjM4IDEuODJaIiBmaWxsPSJyZ2IoNTksIDE3OSwgNzApIj48L3BhdGg+PC9zdmc+Cg==";

/***/ }),

/***/ "./src/libs/ui-kit/assets/svg/warn.svg":
/*!*********************************************!*\
  !*** ./src/libs/ui-kit/assets/svg/warn.svg ***!
  \*********************************************/
/***/ (function(module) {

"use strict";
module.exports = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2IiBmaWxsPSJub25lIj4KPGNpcmNsZSBjeD0iOC4wMDAzMyIgY3k9IjcuOTk5MzUiIHI9IjcuMzMzMzMiIGZpbGw9IiNGRjgxMUEiLz4KPHBhdGggZD0iTTcuOTk5NjcgNC42NjYwMkM3LjYzMTQ4IDQuNjY2MDIgNy4zMzMwMSA0Ljk2NDQ5IDcuMzMzMDEgNS4zMzI2OFY4LjY2NjAyQzcuMzMzMDEgOS4wMzQyMSA3LjYzMTQ4IDkuMzMyNjggNy45OTk2NyA5LjMzMjY4QzguMzY3ODYgOS4zMzI2OCA4LjY2NjM0IDkuMDM0MjEgOC42NjYzNCA4LjY2NjAyVjUuMzMyNjhDOC42NjYzNCA0Ljk2NDQ5IDguMzY3ODYgNC42NjYwMiA3Ljk5OTY3IDQuNjY2MDJaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNNy45OTk2NyAxMS4zMzI3QzguMzY3ODYgMTEuMzMyNyA4LjY2NjM0IDExLjAzNDIgOC42NjYzNCAxMC42NjZDOC42NjYzNCAxMC4yOTc4IDguMzY3ODYgOS45OTkzNSA3Ljk5OTY3IDkuOTk5MzVDNy42MzE0OCA5Ljk5OTM1IDcuMzMzMDEgMTAuMjk3OCA3LjMzMzAxIDEwLjY2NkM3LjMzMzAxIDExLjAzNDIgNy42MzE0OCAxMS4zMzI3IDcuOTk5NjcgMTEuMzMyN1oiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPgo=";

/***/ }),

/***/ "?06b6":
/*!************************!*\
  !*** crypto (ignored) ***!
  \************************/
/***/ (function() {

/* (ignored) */

/***/ }),

/***/ "?6e25":
/*!******************************!*\
  !*** jsonwebtoken (ignored) ***!
  \******************************/
/***/ (function() {

/* (ignored) */

/***/ }),

/***/ "?2614":
/*!****************************!*\
  !*** node-fetch (ignored) ***!
  \****************************/
/***/ (function() {

/* (ignored) */

/***/ }),

/***/ "?3798":
/*!********************!*\
  !*** os (ignored) ***!
  \********************/
/***/ (function() {

/* (ignored) */

/***/ })

}]);
//# sourceMappingURL=common.js.map